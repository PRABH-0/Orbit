<div class="grid" #grid>

  <svg class="edges" width="5000" height="5000">
    <line
      *ngFor="let e of getVisibleEdges()"
      appEdge
      [x1]="e.x1"
      [y1]="e.y1"
      [x2]="e.x2"
      [y2]="e.y2">
    </line>
  </svg>

  <div
    class="center-circle"
    #centerCircle
    (click)="toggleRoot()">
    <img src="user_c.png" />
  </div>

  <ng-container *ngFor="let dir of directories">
    <app-directory
      *ngIf="shouldShow(dir)"
      [name]="dir.name"
      [x]="dir.x"
      [y]="dir.y"
      (clicked)="onFolderClick(dir)">
    </app-directory>
  </ng-container>

  <app-model-data
  *ngIf="selectedFolderId && dataNodePosition"
  [x]="dataNodePosition.x"
  [y]="dataNodePosition.y"
  [title]="
    selectedFolderId === 'wallpapers' ? 'Wallpapers' :
    selectedFolderId === 'screenshots' ? 'Screenshots' :
    'Classical'
  "
  [items]="
    selectedFolderId === 'wallpapers' ? wallpapers :
    selectedFolderId === 'screenshots' ? screenshots :
    classicalImages
  "
  [basePath]="
    selectedFolderId === 'wallpapers' ? '/imagesData' :
    selectedFolderId === 'screenshots' ? '/screenshot' :
    '/classical'
  "
  (imageOpen)="openImage($event)">
</app-model-data>


</div>

<div
  class="image-viewer"
  *ngIf="selectedImage as image"
  (click)="closeImage()"
>
  <img
  [src]="
    selectedFolderId === 'wallpapers' ? '/imagesData/' + image :
    selectedFolderId === 'screenshots' ? '/screenshot/' + image :
    '/classical/' + image
  "
  (click)="$event.stopPropagation()"
/>

</div>

<router-outlet />
