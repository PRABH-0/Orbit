var U0=Object.defineProperty,B0=Object.defineProperties;var $0=Object.getOwnPropertyDescriptors;var Mg=Object.getOwnPropertySymbols;var H0=Object.prototype.hasOwnProperty,z0=Object.prototype.propertyIsEnumerable;var Ag=(t,e,n)=>e in t?U0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,D=(t,e)=>{for(var n in e||={})H0.call(e,n)&&Ag(t,n,e[n]);if(Mg)for(var n of Mg(e))z0.call(e,n)&&Ag(t,n,e[n]);return t},Z=(t,e)=>B0(t,$0(e));var Be=null,aa=!1,Hu=1,G0=null,Ge=Symbol("SIGNAL");function q(t){let e=Be;return Be=t,e}function la(){return Be}var yo={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function _o(t){if(aa)throw new Error("");if(Be===null)return;Be.consumerOnSignalRead(t);let e=Be.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=Be.recomputing;if(r&&(n=e!==void 0?e.nextProducer:Be.producers,n!==void 0&&n.producer===t)){Be.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===Be&&(!r||W0(i,Be)))return;let o=oi(Be),s={producer:t,consumer:Be,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};Be.producersTail=s,e!==void 0?e.nextProducer=s:Be.producers=s,o&&kg(t,s)}function Rg(){Hu++}function zu(t){if(!(oi(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Hu)){if(!t.producerMustRecompute(t)&&!da(t)){$u(t);return}t.producerRecomputeValue(t),$u(t)}}function Gu(t){if(t.consumers===void 0)return;let e=aa;aa=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||q0(r)}}finally{aa=e}}function qu(){return Be?.consumerAllowSignalWrites!==!1}function q0(t){t.dirty=!0,Gu(t),t.consumerMarkedDirty?.(t)}function $u(t){t.dirty=!1,t.lastCleanEpoch=Hu}function bo(t){return t&&Ng(t),q(t)}function Ng(t){t.producersTail=void 0,t.recomputing=!0}function ua(t,e){q(e),t&&Og(t)}function Og(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(oi(t))do n=Wu(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function da(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(zu(n),r!==n.version))return!0}return!1}function wo(t){if(oi(t)){let e=t.producers;for(;e!==void 0;)e=Wu(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function kg(t,e){let n=t.consumersTail,r=oi(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)kg(i.producer,i)}function Wu(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!oi(e)){let o=e.producers;for(;o!==void 0;)o=Wu(o)}return n}function oi(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function Ku(t){G0?.(t)}function W0(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function Yu(t,e){return Object.is(t,e)}function fa(t,e){let n=Object.create(K0);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(zu(n),_o(n),n.value===ca)throw n.error;return n.value};return r[Ge]=n,Ku(n),r}var Uu=Symbol("UNSET"),Bu=Symbol("COMPUTING"),ca=Symbol("ERRORED"),K0=Z(D({},yo),{value:Uu,dirty:!0,error:null,equal:Yu,kind:"computed",producerMustRecompute(t){return t.value===Uu||t.value===Bu},producerRecomputeValue(t){if(t.value===Bu)throw new Error("");let e=t.value;t.value=Bu;let n=bo(t),r,i=!1;try{r=t.computation(),q(null),i=e!==Uu&&e!==ca&&r!==ca&&t.equal(e,r)}catch(o){r=ca,t.error=o}finally{ua(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function Y0(){throw new Error}var Pg=Y0;function Fg(t){Pg(t)}function Zu(t){Pg=t}var Z0=null;function Ju(t,e){let n=Object.create(ha);n.value=t,e!==void 0&&(n.equal=e);let r=()=>Lg(n);return r[Ge]=n,Ku(n),[r,s=>Eo(n,s),s=>jg(n,s)]}function Lg(t){return _o(t),t.value}function Eo(t,e){qu()||Fg(t),t.equal(t.value,e)||(t.value=e,J0(t))}function jg(t,e){qu()||Fg(t),Eo(t,e(t.value))}var ha=Z(D({},yo),{equal:Yu,value:void 0,kind:"signal"});function J0(t){t.version++,Rg(),Gu(t),Z0?.(t)}function Qu(t){let e=q(null);try{return t()}finally{q(e)}}function z(t){return typeof t=="function"}function si(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var pa=si(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Do(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ne=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(z(r))try{r()}catch(o){e=o instanceof pa?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Vg(o)}catch(s){e=e??[],s instanceof pa?e=[...e,...s.errors]:e.push(s)}}if(e)throw new pa(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Vg(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Do(n,e)}remove(e){let{_finalizers:n}=this;n&&Do(n,e),e instanceof t&&e._removeParent(this)}};Ne.EMPTY=(()=>{let t=new Ne;return t.closed=!0,t})();var Xu=Ne.EMPTY;function ga(t){return t instanceof Ne||t&&"closed"in t&&z(t.remove)&&z(t.add)&&z(t.unsubscribe)}function Vg(t){z(t)?t():t.unsubscribe()}var Et={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ai={setTimeout(t,e,...n){let{delegate:r}=ai;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ai;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ma(t){ai.setTimeout(()=>{let{onUnhandledError:e}=Et;if(e)e(t);else throw t})}function Co(){}var Ug=ed("C",void 0,void 0);function Bg(t){return ed("E",void 0,t)}function $g(t){return ed("N",t,void 0)}function ed(t,e,n){return{kind:t,value:e,error:n}}var sr=null;function ci(t){if(Et.useDeprecatedSynchronousErrorHandling){let e=!sr;if(e&&(sr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=sr;if(sr=null,n)throw r}}else t()}function Hg(t){Et.useDeprecatedSynchronousErrorHandling&&sr&&(sr.errorThrown=!0,sr.error=t)}var ar=class extends Ne{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ga(e)&&e.add(this)):this.destination=eE}static create(e,n,r){return new li(e,n,r)}next(e){this.isStopped?nd($g(e),this):this._next(e)}error(e){this.isStopped?nd(Bg(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?nd(Ug,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Q0=Function.prototype.bind;function td(t,e){return Q0.call(t,e)}var rd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){va(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){va(r)}else va(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){va(n)}}},li=class extends ar{constructor(e,n,r){super();let i;if(z(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Et.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&td(e.next,o),error:e.error&&td(e.error,o),complete:e.complete&&td(e.complete,o)}):i=e}this.destination=new rd(i)}};function va(t){Et.useDeprecatedSynchronousErrorHandling?Hg(t):ma(t)}function X0(t){throw t}function nd(t,e){let{onStoppedNotification:n}=Et;n&&ai.setTimeout(()=>n(t,e))}var eE={closed:!0,next:Co,error:X0,complete:Co};var ui=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Dt(t){return t}function id(...t){return od(t)}function od(t){return t.length===0?Dt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ee=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=nE(n)?n:new li(n,r,i);return ci(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=zg(r),new r((i,o)=>{let s=new li({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ui](){return this}pipe(...n){return od(n)(this)}toPromise(n){return n=zg(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function zg(t){var e;return(e=t??Et.Promise)!==null&&e!==void 0?e:Promise}function tE(t){return t&&z(t.next)&&z(t.error)&&z(t.complete)}function nE(t){return t&&t instanceof ar||tE(t)&&ga(t)}function rE(t){return z(t?.lift)}function ie(t){return e=>{if(rE(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function oe(t,e,n,r,i){return new sd(t,e,n,r,i)}var sd=class extends ar{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var Gg=si(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var De=(()=>{class t extends ee{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ya(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Gg}next(n){ci(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ci(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ci(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Xu:(this.currentObservers=null,o.push(n),new Ne(()=>{this.currentObservers=null,Do(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ee;return n.source=this,n}}return t.create=(e,n)=>new ya(e,n),t})(),ya=class extends De{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Xu}};var Ce=class extends De{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Oe=new ee(t=>t.complete());function qg(t){return t&&z(t.schedule)}function Wg(t){return t[t.length-1]}function _a(t){return z(Wg(t))?t.pop():void 0}function Rn(t){return qg(Wg(t))?t.pop():void 0}function lr(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ba(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function Kg(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function cr(t){return this instanceof cr?(this.v=t,this):new cr(t)}function Yg(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(f){return function(p){return Promise.resolve(p).then(f,d)}}function a(f,p){r[f]&&(i[f]=function(v){return new Promise(function(y,m){o.push([f,v,y,m])>1||c(f,v)})},p&&(i[f]=p(i[f])))}function c(f,p){try{l(r[f](p))}catch(v){h(o[0][3],v)}}function l(f){f.value instanceof cr?Promise.resolve(f.value.v).then(u,d):h(o[0][2],f)}function u(f){c("next",f)}function d(f){c("throw",f)}function h(f,p){f(p),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Zg(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Kg=="function"?Kg(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var wa=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ea(t){return z(t?.then)}function Da(t){return z(t[ui])}function Ca(t){return Symbol.asyncIterator&&z(t?.[Symbol.asyncIterator])}function Ia(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function iE(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Sa=iE();function Ta(t){return z(t?.[Sa])}function xa(t){return Yg(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield cr(n.read());if(i)return yield cr(void 0);yield yield cr(r)}}finally{n.releaseLock()}})}function Ma(t){return z(t?.getReader)}function we(t){if(t instanceof ee)return t;if(t!=null){if(Da(t))return oE(t);if(wa(t))return sE(t);if(Ea(t))return aE(t);if(Ca(t))return Jg(t);if(Ta(t))return cE(t);if(Ma(t))return lE(t)}throw Ia(t)}function oE(t){return new ee(e=>{let n=t[ui]();if(z(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function sE(t){return new ee(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function aE(t){return new ee(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ma)})}function cE(t){return new ee(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Jg(t){return new ee(e=>{uE(t,e).catch(n=>e.error(n))})}function lE(t){return Jg(xa(t))}function uE(t,e){var n,r,i,o;return ba(this,void 0,void 0,function*(){try{for(n=Zg(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Ze(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Aa(t,e=0){return ie((n,r)=>{n.subscribe(oe(r,i=>Ze(r,t,()=>r.next(i),e),()=>Ze(r,t,()=>r.complete(),e),i=>Ze(r,t,()=>r.error(i),e)))})}function Ra(t,e=0){return ie((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Qg(t,e){return we(t).pipe(Ra(e),Aa(e))}function Xg(t,e){return we(t).pipe(Ra(e),Aa(e))}function em(t,e){return new ee(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function tm(t,e){return new ee(n=>{let r;return Ze(n,e,()=>{r=t[Sa](),Ze(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>z(r?.return)&&r.return()})}function Na(t,e){if(!t)throw new Error("Iterable cannot be null");return new ee(n=>{Ze(n,e,()=>{let r=t[Symbol.asyncIterator]();Ze(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function nm(t,e){return Na(xa(t),e)}function rm(t,e){if(t!=null){if(Da(t))return Qg(t,e);if(wa(t))return em(t,e);if(Ea(t))return Xg(t,e);if(Ca(t))return Na(t,e);if(Ta(t))return tm(t,e);if(Ma(t))return nm(t,e)}throw Ia(t)}function ve(t,e){return e?rm(t,e):we(t)}function J(...t){let e=Rn(t);return ve(t,e)}function ad(t,e){let n=z(t)?t:()=>t,r=i=>i.error(n());return new ee(e?i=>e.schedule(r,0,i):r)}function Oa(t){return!!t&&(t instanceof ee||z(t.lift)&&z(t.subscribe))}var ur=si(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ce(t,e){return ie((n,r)=>{let i=0;n.subscribe(oe(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:dE}=Array;function fE(t,e){return dE(e)?t(...e):t(e)}function ka(t){return ce(e=>fE(t,e))}var{isArray:hE}=Array,{getPrototypeOf:pE,prototype:gE,keys:mE}=Object;function Pa(t){if(t.length===1){let e=t[0];if(hE(e))return{args:e,keys:null};if(vE(e)){let n=mE(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function vE(t){return t&&typeof t=="object"&&pE(t)===gE}function Fa(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function cd(...t){let e=Rn(t),n=_a(t),{args:r,keys:i}=Pa(t);if(r.length===0)return ve([],e);let o=new ee(yE(r,e,i?s=>Fa(i,s):Dt));return n?o.pipe(ka(n)):o}function yE(t,e,n=Dt){return r=>{im(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)im(e,()=>{let l=ve(t[c],e),u=!1;l.subscribe(oe(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function im(t,e,n){t?Ze(n,t,e):e()}function om(t,e,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,h=()=>{d&&!c.length&&!l&&e.complete()},f=v=>l<r?p(v):c.push(v),p=v=>{o&&e.next(v),l++;let y=!1;we(n(v,u++)).subscribe(oe(e,m=>{i?.(m),o?f(m):e.next(m)},()=>{y=!0},void 0,()=>{if(y)try{for(l--;c.length&&l<r;){let m=c.shift();s?Ze(e,s,()=>p(m)):p(m)}h()}catch(m){e.error(m)}}))};return t.subscribe(oe(e,f,()=>{d=!0,h()})),()=>{a?.()}}function qe(t,e,n=1/0){return z(e)?qe((r,i)=>ce((o,s)=>e(r,o,i,s))(we(t(r,i))),n):(typeof e=="number"&&(n=e),ie((r,i)=>om(r,i,t,n)))}function sm(t=1/0){return qe(Dt,t)}function am(){return sm(1)}function di(...t){return am()(ve(t,Rn(t)))}function Io(t){return new ee(e=>{we(t()).subscribe(e)})}function ld(...t){let e=_a(t),{args:n,keys:r}=Pa(t),i=new ee(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;we(n[u]).subscribe(oe(o,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?Fa(r,a):a),o.complete())}))}});return e?i.pipe(ka(e)):i}function Ct(t,e){return ie((n,r)=>{let i=0;n.subscribe(oe(r,o=>t.call(e,o,i++)&&r.next(o)))})}function So(t){return ie((e,n)=>{let r=null,i=!1,o;r=e.subscribe(oe(n,void 0,void 0,s=>{o=we(t(s,So(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function fi(t,e){return z(e)?qe(t,e,1):qe(t,1)}function cm(t){return ie((e,n)=>{let r=!1;e.subscribe(oe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function dn(t){return t<=0?()=>Oe:ie((e,n)=>{let r=0;e.subscribe(oe(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function lm(t=_E){return ie((e,n)=>{let r=!1;e.subscribe(oe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function _E(){return new ur}function fn(t){return ie((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function hn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ct((i,o)=>t(i,o,r)):Dt,dn(1),n?cm(e):lm(()=>new ur))}function La(t){return t<=0?()=>Oe:ie((e,n)=>{let r=[];e.subscribe(oe(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function ud(...t){let e=Rn(t);return ie((n,r)=>{(e?di(t,n,e):di(t,n)).subscribe(r)})}function Je(t,e){return ie((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(oe(r,c=>{i?.unsubscribe();let l=0,u=o++;we(t(c,u)).subscribe(i=oe(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function To(t){return ie((e,n)=>{we(t).subscribe(oe(n,()=>n.complete(),Co)),!n.closed&&e.subscribe(n)})}function zt(t,e,n){let r=z(t)||e||n?{next:t,error:e,complete:n}:t;return r?ie((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(oe(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Dt}var dd;function ja(){return dd}function Gt(t){let e=dd;return dd=t,e}var um=Symbol("NotFound");function hi(t){return t===um||t?.name==="\u0275NotFound"}var Ha="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",I=class extends Error{code;constructor(e,n){super(Pn(e,n)),this.code=e}};function EE(t){return`NG0${Math.abs(t)}`}function Pn(t,e){return`${EE(t)}${e?": "+e:""}`}var Fn=globalThis;function se(t){for(let e in t)if(t[e]===se)return e;throw Error("")}function gm(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function gn(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(gn).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Sd(t,e){return t?e?`${t} ${e}`:t:e||""}var DE=se({__forward_ref__:se});function It(t){return t.__forward_ref__=It,t.toString=function(){return gn(this())},t}function ke(t){return Td(t)?t():t}function Td(t){return typeof t=="function"&&t.hasOwnProperty(DE)&&t.__forward_ref__===It}function C(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function St(t){return{providers:t.providers||[],imports:t.imports||[]}}function Oo(t){return CE(t,za)}function xd(t){return Oo(t)!==null}function CE(t,e){return t.hasOwnProperty(e)&&t[e]||null}function IE(t){let e=t?.[za]??null;return e||null}function hd(t){return t&&t.hasOwnProperty(Ua)?t[Ua]:null}var za=se({\u0275prov:se}),Ua=se({\u0275inj:se}),x=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=C({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Md(t){return t&&!!t.\u0275providers}var Ad=se({\u0275cmp:se}),Rd=se({\u0275dir:se}),Nd=se({\u0275pipe:se}),Od=se({\u0275mod:se}),Mo=se({\u0275fac:se}),gr=se({__NG_ELEMENT_ID__:se}),dm=se({__NG_ENV_ID__:se});function kd(t){return Ga(t,"@NgModule"),t[Od]||null}function Ln(t){return Ga(t,"@Component"),t[Ad]||null}function Pd(t){return Ga(t,"@Directive"),t[Rd]||null}function mm(t){return Ga(t,"@Pipe"),t[Nd]||null}function Ga(t,e){if(t==null)throw new I(-919,!1)}function gi(t){return typeof t=="string"?t:t==null?"":String(t)}function vm(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():gi(t)}var ym=se({ngErrorCode:se}),SE=se({ngErrorMessage:se}),TE=se({ngTokenPath:se});function Fd(t,e){return _m("",-200,e)}function qa(t,e){throw new I(-201,!1)}function _m(t,e,n){let r=new I(e,t);return r[ym]=e,r[SE]=t,n&&(r[TE]=n),r}function xE(t){return t[ym]}var pd;function bm(){return pd}function We(t){let e=pd;return pd=t,e}function Ld(t,e,n){let r=Oo(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;qa(t,"")}var ME={},dr=ME,AE="__NG_DI_FLAG__",gd=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=fr(n)||0;try{return this.injector.get(e,r&8?null:dr,r)}catch(i){if(hi(i))return i;throw i}}};function RE(t,e=0){let n=ja();if(n===void 0)throw new I(-203,!1);if(n===null)return Ld(t,void 0,e);{let r=NE(e),i=n.retrieve(t,r);if(hi(i)){if(r.optional)return null;throw i}return i}}function M(t,e=0){return(bm()||RE)(ke(t),e)}function w(t,e){return M(t,fr(e))}function fr(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function NE(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function md(t){let e=[];for(let n=0;n<t.length;n++){let r=ke(t[n]);if(Array.isArray(r)){if(r.length===0)throw new I(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=OE(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(M(i,o))}else e.push(M(r))}return e}function OE(t){return t[AE]}function Nn(t,e){let n=t.hasOwnProperty(Mo);return n?t[Mo]:null}function wm(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function Em(t){return t.flat(Number.POSITIVE_INFINITY)}function Wa(t,e){t.forEach(n=>Array.isArray(n)?Wa(n,e):e(n))}function jd(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ko(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Dm(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function Cm(t,e,n){let r=mi(t,e);return r>=0?t[r|1]=n:(r=~r,Dm(t,r,e,n)),r}function Ka(t,e){let n=mi(t,e);if(n>=0)return t[n|1]}function mi(t,e){return kE(t,e,1)}function kE(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var jn={},tt=[],mr=new x(""),Vd=new x("",-1),Ud=new x(""),Ao=class{get(e,n=dr){if(n===dr){let i=_m("",-201);throw i.name="\u0275NotFound",i}return n}};function vr(t){return{\u0275providers:t}}function Im(...t){return{\u0275providers:Bd(!0,t),\u0275fromNgModule:!0}}function Bd(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Wa(e,s=>{let a=s;Ba(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Sm(i,o),n}function Sm(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];$d(i,o=>{e(o,r)})}}function Ba(t,e,n,r){if(t=ke(t),!t)return!1;let i=null,o=hd(t),s=!o&&Ln(t);if(!o&&!s){let c=t.ngModule;if(o=hd(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Ba(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;Wa(o.imports,u=>{Ba(u,e,n,r)&&(l||=[],l.push(u))}),l!==void 0&&Sm(l,e)}if(!a){let l=Nn(i)||(()=>new i);e({provide:i,useFactory:l,deps:tt},i),e({provide:Ud,useValue:i,multi:!0},i),e({provide:mr,useValue:()=>M(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;$d(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function $d(t,e){for(let n of t)Md(n)&&(n=n.\u0275providers),Array.isArray(n)?$d(n,e):e(n)}var PE=se({provide:String,useValue:se});function Tm(t){return t!==null&&typeof t=="object"&&PE in t}function FE(t){return!!(t&&t.useExisting)}function LE(t){return!!(t&&t.useFactory)}function hr(t){return typeof t=="function"}function xm(t){return!!t.useClass}var Po=new x(""),Va={},fm={},fd;function Fo(){return fd===void 0&&(fd=new Ao),fd}var ye=class{},pr=class extends ye{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,yd(e,s=>this.processProvider(s)),this.records.set(Vd,pi(void 0,this)),i.has("environment")&&this.records.set(ye,pi(void 0,this));let o=this.records.get(Po);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Ud,tt,{self:!0}))}retrieve(e,n){let r=fr(n)||0;try{return this.get(e,dr,r)}catch(i){if(hi(i))return i;throw i}}destroy(){xo(this),this._destroyed=!0;let e=q(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),q(e)}}onDestroy(e){return xo(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){xo(this);let n=Gt(this),r=We(void 0),i;try{return e()}finally{Gt(n),We(r)}}get(e,n=dr,r){if(xo(this),e.hasOwnProperty(dm))return e[dm](this);let i=fr(r),o,s=Gt(this),a=We(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let u=$E(e)&&Oo(e);u&&this.injectableDefInScope(u)?l=pi(vd(e),Va):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let c=i&2?Fo():this.parent;return n=i&8&&n===dr?null:n,c.get(e,n)}catch(c){let l=xE(c);throw l===-200||l===-201?new I(l,null):c}finally{We(a),Gt(s)}}resolveInjectorInitializers(){let e=q(null),n=Gt(this),r=We(void 0),i;try{let o=this.get(mr,tt,{self:!0});for(let s of o)s()}finally{Gt(n),We(r),q(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(gn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=ke(e);let n=hr(e)?e:ke(e&&e.provide),r=VE(e);if(!hr(e)&&e.multi===!0){let i=this.records.get(n);i||(i=pi(void 0,Va,!0),i.factory=()=>md(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=q(null);try{if(n.value===fm)throw Fd(gn(e));return n.value===Va&&(n.value=fm,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&BE(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{q(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=ke(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function vd(t){let e=Oo(t),n=e!==null?e.factory:Nn(t);if(n!==null)return n;if(t instanceof x)throw new I(204,!1);if(t instanceof Function)return jE(t);throw new I(204,!1)}function jE(t){if(t.length>0)throw new I(204,!1);let n=IE(t);return n!==null?()=>n.factory(t):()=>new t}function VE(t){if(Tm(t))return pi(void 0,t.useValue);{let e=Hd(t);return pi(e,Va)}}function Hd(t,e,n){let r;if(hr(t)){let i=ke(t);return Nn(i)||vd(i)}else if(Tm(t))r=()=>ke(t.useValue);else if(LE(t))r=()=>t.useFactory(...md(t.deps||[]));else if(FE(t))r=(i,o)=>M(ke(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=ke(t&&(t.useClass||t.provide));if(UE(t))r=()=>new i(...md(t.deps));else return Nn(i)||vd(i)}return r}function xo(t){if(t.destroyed)throw new I(205,!1)}function pi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function UE(t){return!!t.deps}function BE(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function $E(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function yd(t,e){for(let n of t)Array.isArray(n)?yd(n,e):n&&Md(n)?yd(n.\u0275providers,e):e(n)}function Me(t,e){let n;t instanceof pr?(xo(t),n=t):n=new gd(t);let r,i=Gt(n),o=We(void 0);try{return e()}finally{Gt(i),We(o)}}function Mm(){return bm()!==void 0||ja()!=null}var Tt=0,F=1,$=2,xe=3,lt=4,ut=5,Lo=6,vi=7,$e=8,Vn=9,Wt=10,he=11,yi=12,zd=13,yr=14,dt=15,Un=16,_r=17,Kt=18,Bn=19,Gd=20,pn=21,Ya=22,jo=23,rt=24,br=25,Vo=26,Fe=27,Am=1;var $n=7,Uo=8,wr=9,Ke=10;function Yt(t){return Array.isArray(t)&&typeof t[Am]=="object"}function xt(t){return Array.isArray(t)&&t[Am]===!0}function qd(t){return(t.flags&4)!==0}function Hn(t){return t.componentOffset>-1}function _i(t){return(t.flags&1)===1}function Zt(t){return!!t.template}function bi(t){return(t[$]&512)!==0}function Er(t){return(t[$]&256)===256}var Wd="svg",Rm="math";function ft(t){for(;Array.isArray(t);)t=t[Tt];return t}function Kd(t,e){return ft(e[t])}function Jt(t,e){return ft(e[t.index])}function Za(t,e){return t.data[e]}function Nm(t,e){return t[e]}function Yd(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function ht(t,e){let n=e[t];return Yt(n)?n:n[Tt]}function Om(t){return(t[$]&4)===4}function Ja(t){return(t[$]&128)===128}function km(t){return xt(t[xe])}function Dr(t,e){return e==null?null:t[e]}function Zd(t){t[_r]=0}function Jd(t){t[$]&1024||(t[$]|=1024,Ja(t)&&wi(t))}function Pm(t,e){for(;t>0;)e=e[yr],t--;return e}function Bo(t){return!!(t[$]&9216||t[rt]?.dirty)}function Qa(t){t[Wt].changeDetectionScheduler?.notify(8),t[$]&64&&(t[$]|=1024),Bo(t)&&wi(t)}function wi(t){t[Wt].changeDetectionScheduler?.notify(0);let e=On(t);for(;e!==null&&!(e[$]&8192||(e[$]|=8192,!Ja(e)));)e=On(e)}function Qd(t,e){if(Er(t))throw new I(911,!1);t[pn]===null&&(t[pn]=[]),t[pn].push(e)}function Fm(t,e){if(t[pn]===null)return;let n=t[pn].indexOf(e);n!==-1&&t[pn].splice(n,1)}function On(t){let e=t[xe];return xt(e)?e[xe]:e}function Xd(t){return t[vi]??=[]}function ef(t){return t.cleanup??=[]}function Lm(t,e,n,r){let i=Xd(e);i.push(n),t.firstCreatePass&&ef(t).push(r,i.length-1)}var W={lFrame:Zm(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var _d=!1;function jm(){return W.lFrame.elementDepthCount}function Vm(){W.lFrame.elementDepthCount++}function tf(){W.lFrame.elementDepthCount--}function Xa(){return W.bindingsEnabled}function Um(){return W.skipHydrationRootTNode!==null}function nf(t){return W.skipHydrationRootTNode===t}function rf(){W.skipHydrationRootTNode=null}function X(){return W.lFrame.lView}function Le(){return W.lFrame.tView}function V(t){return W.lFrame.contextLView=t,t[$e]}function U(t){return W.lFrame.contextLView=null,t}function je(){let t=of();for(;t!==null&&t.type===64;)t=t.parent;return t}function of(){return W.lFrame.currentTNode}function Bm(){let t=W.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ei(t,e){let n=W.lFrame;n.currentTNode=t,n.isParent=e}function sf(){return W.lFrame.isParent}function $m(){W.lFrame.isParent=!1}function af(){return _d}function cf(t){let e=_d;return _d=t,e}function lf(){let t=W.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Hm(){return W.lFrame.bindingIndex}function zm(t){return W.lFrame.bindingIndex=t}function ec(){return W.lFrame.bindingIndex++}function uf(t){let e=W.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Gm(){return W.lFrame.inI18n}function qm(t,e){let n=W.lFrame;n.bindingIndex=n.bindingRootIndex=t,tc(e)}function Wm(){return W.lFrame.currentDirectiveIndex}function tc(t){W.lFrame.currentDirectiveIndex=t}function Km(t){let e=W.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function df(){return W.lFrame.currentQueryIndex}function nc(t){W.lFrame.currentQueryIndex=t}function HE(t){let e=t[F];return e.type===2?e.declTNode:e.type===1?t[ut]:null}function ff(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=HE(o),i===null||(o=o[yr],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=W.lFrame=Ym();return r.currentTNode=e,r.lView=t,!0}function rc(t){let e=Ym(),n=t[F];W.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Ym(){let t=W.lFrame,e=t===null?null:t.child;return e===null?Zm(t):e}function Zm(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Jm(){let t=W.lFrame;return W.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var hf=Jm;function ic(){let t=Jm();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Qm(t){return(W.lFrame.contextLView=Pm(t,W.lFrame.contextLView))[$e]}function zn(){return W.lFrame.selectedIndex}function Gn(t){W.lFrame.selectedIndex=t}function pf(){let t=W.lFrame;return Za(t.tView,t.selectedIndex)}function Qe(){W.lFrame.currentNamespace=Wd}function Di(){zE()}function zE(){W.lFrame.currentNamespace=null}function Xm(){return W.lFrame.currentNamespace}var ev=!0;function oc(){return ev}function $o(t){ev=t}function bd(t,e=null,n=null,r){let i=gf(t,e,n,r);return i.resolveInjectorInitializers(),i}function gf(t,e=null,n=null,r,i=new Set){let o=[n||tt,Im(t)];return r=r||(typeof t=="object"?void 0:gn(t)),new pr(o,e||Fo(),r||null,i)}var nt=class t{static THROW_IF_NOT_FOUND=dr;static NULL=new Ao;static create(e,n){if(Array.isArray(e))return bd({name:""},n,e,"");{let r=e.name??"";return bd({name:r},e.parent,e.providers,r)}}static \u0275prov=C({token:t,providedIn:"any",factory:()=>M(Vd)});static __NG_ELEMENT_ID__=-1},be=new x(""),Mt=(()=>{class t{static __NG_ELEMENT_ID__=GE;static __NG_ENV_ID__=n=>n}return t})(),wd=class extends Mt{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Er(this._lView)}onDestroy(e){let n=this._lView;return Qd(n,e),()=>Fm(n,e)}};function GE(){return new wd(X())}var tv=!1,nv=new x(""),mn=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Ce(!1);debugTaskTracker=w(nv,{optional:!0});get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ee(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),this.debugTaskTracker?.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.debugTaskTracker?.remove(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=C({token:t,providedIn:"root",factory:()=>new t})}return t})(),Ed=class extends De{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Mm()&&(this.destroyRef=w(Mt,{optional:!0})??void 0,this.pendingTasks=w(mn,{optional:!0})??void 0)}emit(e){let n=q(null);try{super.next(e)}finally{q(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ne&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},K=Ed;function $a(...t){}function mf(t){let e,n;function r(){t=$a;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function rv(t){return queueMicrotask(()=>t()),()=>{t=$a}}var vf="isAngularZone",Ro=vf+"_ID",qE=0,Pe=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new K(!1);onMicrotaskEmpty=new K(!1);onStable=new K(!1);onError=new K(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=tv}=e;if(typeof Zone>"u")throw new I(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,YE(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(vf)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new I(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new I(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,WE,$a,$a);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},WE={};function yf(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function KE(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){mf(()=>{t.callbackScheduled=!1,Dd(t),t.isCheckStableRunning=!0,yf(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Dd(t)}function YE(t){let e=()=>{KE(t)},n=qE++;t._inner=t._inner.fork({name:"angular",properties:{[vf]:!0,[Ro]:n,[Ro+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(ZE(c))return r.invokeTask(o,s,a,c);try{return hm(t),r.invokeTask(o,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),pm(t)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return hm(t),r.invoke(o,s,a,c,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!JE(c)&&e(),pm(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Dd(t),yf(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Dd(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function hm(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function pm(t){t._nesting--,yf(t)}var No=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new K;onMicrotaskEmpty=new K;onStable=new K;onError=new K;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function ZE(t){return iv(t,"__ignore_ng_zone__")}function JE(t){return iv(t,"__scheduler_tick__")}function iv(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var qt=class{_console=console;handleError(e){this._console.error("ERROR",e)}},pt=new x("",{factory:()=>{let t=w(Pe),e=w(ye),n;return r=>{t.runOutsideAngular(()=>{e.destroyed&&!n?setTimeout(()=>{throw r}):(n??=e.get(qt),n.handleError(r))})}}}),ov={provide:mr,useValue:()=>{let t=w(qt,{optional:!0})},multi:!0};function At(t,e){let[n,r,i]=Ju(t,e?.equal),o=n,s=o[Ge];return o.set=r,o.update=i,o.asReadonly=sv.bind(o),o}function sv(){let t=this[Ge];if(t.readonlyFn===void 0){let e=()=>this();e[Ge]=t,t.readonlyFn=e}return t.readonlyFn}var sc=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=QE}return t})();function QE(){return new sc(X(),je())}var kn=class{},Ho=new x("",{factory:()=>!0});var _f=new x(""),zo=(()=>{class t{internalPendingTasks=w(mn);scheduler=w(kn);errorHandler=w(pt);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=C({token:t,providedIn:"root",factory:()=>new t})}return t})(),bf=(()=>{class t{static \u0275prov=C({token:t,providedIn:"root",factory:()=>new Cd})}return t})(),Cd=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}},Id=class{[Ge];constructor(e){this[Ge]=e}destroy(){this[Ge].destroy()}};function Ee(t){return Qu(t)}function Jo(t){return{toString:t}.toString()}function iD(t){return typeof t=="function"}function Vv(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var mc=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}},en=(()=>{let t=()=>Uv;return t.ngInherit=!0,t})();function Uv(t){return t.type.prototype.ngOnChanges&&(t.setInput=sD),oD}function oD(){let t=$v(this),e=t?.current;if(e){let n=t.previous;if(n===jn)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function sD(t,e,n,r,i){let o=this.declaredInputs[r],s=$v(t)||aD(t,{previous:jn,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new mc(l&&l.currentValue,n,c===jn),Vv(t,e,i,n)}var Bv="__ngSimpleChanges__";function $v(t){return t[Bv]||null}function aD(t,e){return t[Bv]=e}var av=[];var ae=function(t,e=null,n){for(let r=0;r<av.length;r++){let i=av[r];i(t,e,n)}},ne=(function(t){return t[t.TemplateCreateStart=0]="TemplateCreateStart",t[t.TemplateCreateEnd=1]="TemplateCreateEnd",t[t.TemplateUpdateStart=2]="TemplateUpdateStart",t[t.TemplateUpdateEnd=3]="TemplateUpdateEnd",t[t.LifecycleHookStart=4]="LifecycleHookStart",t[t.LifecycleHookEnd=5]="LifecycleHookEnd",t[t.OutputStart=6]="OutputStart",t[t.OutputEnd=7]="OutputEnd",t[t.BootstrapApplicationStart=8]="BootstrapApplicationStart",t[t.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",t[t.BootstrapComponentStart=10]="BootstrapComponentStart",t[t.BootstrapComponentEnd=11]="BootstrapComponentEnd",t[t.ChangeDetectionStart=12]="ChangeDetectionStart",t[t.ChangeDetectionEnd=13]="ChangeDetectionEnd",t[t.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",t[t.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",t[t.AfterRenderHooksStart=16]="AfterRenderHooksStart",t[t.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",t[t.ComponentStart=18]="ComponentStart",t[t.ComponentEnd=19]="ComponentEnd",t[t.DeferBlockStateStart=20]="DeferBlockStateStart",t[t.DeferBlockStateEnd=21]="DeferBlockStateEnd",t[t.DynamicComponentStart=22]="DynamicComponentStart",t[t.DynamicComponentEnd=23]="DynamicComponentEnd",t[t.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",t[t.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",t})(ne||{});function cD(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Uv(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Hv(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function dc(t,e,n){zv(t,e,3,n)}function fc(t,e,n,r){(t[$]&3)===n&&zv(t,e,n,r)}function wf(t,e){let n=t[$];(n&3)===e&&(n&=16383,n+=1,t[$]=n)}function zv(t,e,n,r){let i=r!==void 0?t[_r]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[_r]+=65536),(a<o||o==-1)&&(lD(t,n,e,c),t[_r]=(t[_r]&4294901760)+c+2),c++}function cv(t,e){ae(ne.LifecycleHookStart,t,e);let n=q(null);try{e.call(t)}finally{q(n),ae(ne.LifecycleHookEnd,t,e)}}function lD(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[$]>>14<t[_r]>>16&&(t[$]&3)===e&&(t[$]+=16384,cv(a,o)):cv(a,o)}var Ii=-1,Ir=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function uD(t){return(t.flags&8)!==0}function dD(t){return(t.flags&16)!==0}function fD(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];pD(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function hD(t){return t===3||t===4||t===6}function pD(t){return t.charCodeAt(0)===64}function Si(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?lv(t,n,i,null,e[++r]):lv(t,n,i,null,null))}}return t}function lv(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function Gv(t){return t!==Ii}function vc(t){return t&32767}function gD(t){return t>>16}function yc(t,e){let n=gD(t),r=e;for(;n>0;)r=r[yr],n--;return r}var Af=!0;function _c(t){let e=Af;return Af=t,e}var mD=256,qv=mD-1,Wv=5,vD=0,Qt={};function yD(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(gr)&&(r=n[gr]),r==null&&(r=n[gr]=vD++);let i=r&qv,o=1<<i;e.data[t+(i>>Wv)]|=o}function bc(t,e){let n=Kv(t,e);if(n!==-1)return n;let r=e[F];r.firstCreatePass&&(t.injectorIndex=e.length,Ef(r.data,t),Ef(e,null),Ef(r.blueprint,null));let i=oh(t,e),o=t.injectorIndex;if(Gv(i)){let s=vc(i),a=yc(i,e),c=a[F].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Ef(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Kv(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function oh(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Xv(i),r===null)return Ii;if(n++,i=i[yr],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ii}function Rf(t,e,n){yD(t,e,n)}function Yv(t,e,n){if(n&8||t!==void 0)return t;qa(e,"NodeInjector")}function Zv(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[Vn],o=We(void 0);try{return i?i.get(e,r,n&8):Ld(e,r,n&8)}finally{We(o)}}return Yv(r,e,n)}function Jv(t,e,n,r=0,i){if(t!==null){if(e[$]&2048&&!(r&2)){let s=ED(t,e,n,r,Qt);if(s!==Qt)return s}let o=Qv(t,e,n,r,Qt);if(o!==Qt)return o}return Zv(e,n,r,i)}function Qv(t,e,n,r,i){let o=bD(n);if(typeof o=="function"){if(!ff(e,t,r))return r&1?Yv(i,n,r):Zv(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))qa(n);else return s}finally{hf()}}else if(typeof o=="number"){let s=null,a=Kv(t,e),c=Ii,l=r&1?e[dt][ut]:null;for((a===-1||r&4)&&(c=a===-1?oh(t,e):e[a+8],c===Ii||!dv(r,!1)?a=-1:(s=e[F],a=vc(c),e=yc(c,e)));a!==-1;){let u=e[F];if(uv(o,a,u.data)){let d=_D(a,e,n,s,r,l);if(d!==Qt)return d}c=e[a+8],c!==Ii&&dv(r,e[F].data[a+8]===l)&&uv(o,a,e)?(s=u,a=vc(c),e=yc(c,e)):a=-1}}return i}function _D(t,e,n,r,i,o){let s=e[F],a=s.data[t+8],c=r==null?Hn(a)&&Af:r!=s&&(a.type&3)!==0,l=i&1&&o===a,u=hc(a,s,n,c,l);return u!==null?Wo(e,s,u,a,i):Qt}function hc(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,d=r?a:a+u,h=i?a+u:l;for(let f=d;f<h;f++){let p=s[f];if(f<c&&n===p||f>=c&&p.type===n)return f}if(i){let f=s[c];if(f&&Zt(f)&&f.type===n)return c}return null}function Wo(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof Ir){let a=o;if(a.resolving){let f=vm(s[n]);throw Fd(f)}let c=_c(a.canSeeViewProviders);a.resolving=!0;let l=s[n].type||s[n],u,d=a.injectImpl?We(a.injectImpl):null,h=ff(t,r,0);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&cD(n,s[n],e)}finally{d!==null&&We(d),_c(c),a.resolving=!1,hf()}}return o}function bD(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(gr)?t[gr]:void 0;return typeof e=="number"?e>=0?e&qv:wD:e}function uv(t,e,n){let r=1<<t;return!!(n[e+(t>>Wv)]&r)}function dv(t,e){return!(t&2)&&!(t&1&&e)}var Cr=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Jv(this._tNode,this._lView,e,fr(r),n)}};function wD(){return new Cr(je(),X())}function yn(t){return Jo(()=>{let e=t.prototype.constructor,n=e[Mo]||Nf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Mo]||Nf(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Nf(t){return Td(t)?()=>{let e=Nf(ke(t));return e&&e()}:Nn(t)}function ED(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[$]&2048&&!bi(s);){let a=Qv(o,s,n,r|2,Qt);if(a!==Qt)return a;let c=o.parent;if(!c){let l=s[Gd];if(l){let u=l.get(n,Qt,r);if(u!==Qt)return u}c=Xv(s),s=s[yr]}o=c}return i}function Xv(t){let e=t[F],n=e.type;return n===2?e.declTNode:n===1?t[ut]:null}function DD(){return Ri(je(),X())}function Ri(t,e){return new Xe(Jt(t,e))}var Xe=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=DD}return t})();function CD(t){return t instanceof Xe?t.nativeElement:t}function ID(){return this._results[Symbol.iterator]()}var wc=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new De}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=Em(e);(this._changesDetected=!wm(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=ID};function ey(t){return(t.flags&128)===128}var sh=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(sh||{}),ty=new Map,SD=0;function TD(){return SD++}function xD(t){ty.set(t[Bn],t)}function Of(t){ty.delete(t[Bn])}var fv="__ngContext__";function Ti(t,e){Yt(e)?(t[fv]=e[Bn],xD(e)):t[fv]=e}function ny(t){return iy(t[yi])}function ry(t){return iy(t[lt])}function iy(t){for(;t!==null&&!xt(t);)t=t[lt];return t}var MD;function ah(t){MD=t}var Rc=new x("",{factory:()=>AD}),AD="ng";var Nc=new x(""),Qo=new x("",{providedIn:"platform",factory:()=>"unknown"});var Oc=new x("",{factory:()=>w(be).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var oy=!1,sy=new x("",{factory:()=>oy});var RD=(t,e,n,r)=>{};function ND(t,e,n,r){RD(t,e,n,r)}function ch(t){return(t.flags&32)===32}var OD=()=>null;function ay(t,e,n=!1){return OD(t,e,n)}function cy(t,e){let n=t.contentQueries;if(n!==null){let r=q(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];nc(o),a.contentQueries(2,e[s],s)}}}finally{q(r)}}}function kf(t,e,n){nc(0);let r=q(null);try{e(t,n)}finally{q(r)}}function lh(t,e,n){if(qd(e)){let r=q(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{q(r)}}}var Nt=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t[t.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",t})(Nt||{});var ac;function kD(){if(ac===void 0&&(ac=null,Fn.trustedTypes))try{ac=Fn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ac}function kc(t){return kD()?.createHTML(t)||t}var cc;function PD(){if(cc===void 0&&(cc=null,Fn.trustedTypes))try{cc=Fn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return cc}function hv(t){return PD()?.createScriptURL(t)||t}var vn=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ha})`}},Pf=class extends vn{getTypeName(){return"HTML"}},Ff=class extends vn{getTypeName(){return"Style"}},Lf=class extends vn{getTypeName(){return"Script"}},jf=class extends vn{getTypeName(){return"URL"}},Vf=class extends vn{getTypeName(){return"ResourceURL"}};function tn(t){return t instanceof vn?t.changingThisBreaksApplicationSecurity:t}function _n(t,e){let n=ly(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Ha})`)}return n===e}function ly(t){return t instanceof vn&&t.getTypeName()||null}function uh(t){return new Pf(t)}function dh(t){return new Ff(t)}function fh(t){return new Lf(t)}function hh(t){return new jf(t)}function ph(t){return new Vf(t)}function FD(t){let e=new Bf(t);return LD()?new Uf(e):e}var Uf=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(kc(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.firstChild?.remove(),n)}catch{return null}}},Bf=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=kc(e),n}};function LD(){try{return!!new window.DOMParser().parseFromString(kc(""),"text/html")}catch{return!1}}var jD=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Xo(t){return t=String(t),t.match(jD)?t:"unsafe:"+t}function bn(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function es(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var uy=bn("area,br,col,hr,img,wbr"),dy=bn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),fy=bn("rp,rt"),VD=es(fy,dy),UD=es(dy,bn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),BD=es(fy,bn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),pv=es(uy,UD,BD,VD),hy=bn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),$D=bn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),HD=bn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),zD=es(hy,$D,HD),GD=bn("script,style,template"),$f=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=KD(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=WD(n);if(o){n=o;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=gv(e).toLowerCase();if(!pv.hasOwnProperty(n))return this.sanitizedSomething=!0,!GD.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!zD.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;hy[a]&&(c=Xo(c)),this.buf.push(" ",s,'="',mv(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=gv(e).toLowerCase();pv.hasOwnProperty(n)&&!uy.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(mv(e))}};function qD(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function WD(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw py(e);return e}function KD(t){let e=t.firstChild;if(e&&qD(t,e))throw py(e);return e}function gv(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function py(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var YD=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ZD=/([^\#-~ |!])/g;function mv(t){return t.replace(/&/g,"&amp;").replace(YD,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(ZD,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var lc;function gh(t,e){let n=null;try{lc=lc||FD(t);let r=e?String(e):"";n=lc.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=lc.getInertBodyElement(r)}while(r!==o);let a=new $f().sanitizeChildren(vv(n)||n);return kc(a)}finally{if(n){let r=vv(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function vv(t){return"content"in t&&JD(t)?t.content:null}function JD(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var QD=/^>|^->|<!--|-->|--!>|<!-$/g,XD=/(<|>)/g,eC="\u200B$1\u200B";function tC(t){return t.replace(QD,e=>e.replace(XD,eC))}function nC(t,e){return t.createText(e)}function rC(t,e,n){t.setValue(e,n)}function iC(t,e){return t.createComment(tC(e))}function gy(t,e,n){return t.createElement(e,n)}function Ec(t,e,n,r,i){t.insertBefore(e,n,r,i)}function my(t,e,n){t.appendChild(e,n)}function yv(t,e,n,r,i){r!==null?Ec(t,e,n,r,i):my(t,e,n)}function oC(t,e,n,r){t.removeChild(null,e,n,r)}function sC(t,e,n){t.setAttribute(e,"style",n)}function aC(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function vy(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&fD(t,e,r),i!==null&&aC(t,e,i),o!==null&&sC(t,e,o)}var kt=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(kt||{});function Ni(t){let e=yy();return e?e.sanitize(kt.URL,t)||"":_n(t,"URL")?tn(t):Xo(gi(t))}function mh(t){let e=yy();if(e)return hv(e.sanitize(kt.RESOURCE_URL,t)||"");if(_n(t,"ResourceURL"))return hv(tn(t));throw new I(904,!1)}function yy(){let t=X();return t&&t[Wt].sanitizer}function vh(t){return t.ownerDocument}function _y(t){return t instanceof Function?t():t}function cC(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var by="ng-template";function lC(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&cC(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(yh(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function yh(t){return t.type===4&&t.value!==by}function uC(t,e,n){let r=t.type===4&&!n?by:t.value;return e===r}function dC(t,e,n){let r=4,i=t.attrs,o=i!==null?pC(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Rt(r)&&!Rt(c))return!1;if(s&&Rt(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!uC(t,c,n)||c===""&&e.length===1){if(Rt(r))return!1;s=!0}}else if(r&8){if(i===null||!lC(t,i,c,n)){if(Rt(r))return!1;s=!0}}else{let l=e[++a],u=fC(c,i,yh(t),n);if(u===-1){if(Rt(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(Rt(r))return!1;s=!0}}}}return Rt(r)||s}function Rt(t){return(t&1)===0}function fC(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return gC(e,t)}function hC(t,e,n=!1){for(let r=0;r<e.length;r++)if(dC(t,e[r],n))return!0;return!1}function pC(t){for(let e=0;e<t.length;e++){let n=t[e];if(hD(n))return e}return t.length}function gC(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function _v(t,e){return t?":not("+e.trim()+")":e}function mC(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Rt(s)&&(e+=_v(o,i),i=""),r=s,o=o||!Rt(r);n++}return i!==""&&(e+=_v(o,i)),e}function vC(t){return t.map(mC).join(",")}function yC(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Rt(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var Pt={};function _h(t,e,n,r,i,o,s,a,c,l,u){let d=Fe+r,h=d+i,f=_C(d,h),p=typeof l=="function"?l():l;return f[F]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}function _C(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Pt);return n}function bC(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=_h(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function bh(t,e,n,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[Tt]=i,d[$]=r|4|128|8|64|1024,(l!==null||t&&t[$]&2048)&&(d[$]|=2048),Zd(d),d[xe]=d[yr]=t,d[$e]=n,d[Wt]=s||t&&t[Wt],d[he]=a||t&&t[he],d[Vn]=c||t&&t[Vn]||null,d[ut]=o,d[Bn]=TD(),d[Lo]=u,d[Gd]=l,d[dt]=e.type==2?t[dt]:d,d}function wC(t,e,n){let r=Jt(e,t),i=bC(n),o=t[Wt].rendererFactory,s=wh(t,bh(t,i,null,wy(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function wy(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function Ey(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function wh(t,e){return t[yi]?t[zd][lt]=e:t[yi]=e,t[zd]=e,e}function R(t=1){Dy(Le(),X(),zn()+t,!1)}function Dy(t,e,n,r){if(!r)if((e[$]&3)===3){let o=t.preOrderCheckHooks;o!==null&&dc(e,o,n)}else{let o=t.preOrderHooks;o!==null&&fc(e,o,0,n)}Gn(n)}var Pc=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(Pc||{});function Hf(t,e,n,r){let i=q(null);try{let[o,s,a]=t.inputs[n],c=null;(s&Pc.SignalBased)!==0&&(c=e[o][Ge]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,c,r,n,o):Vv(e,c,o,r)}finally{q(i)}}var Ot=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(Ot||{}),EC;function Eh(t,e){return EC(t,e)}var xi=new Set,Fc=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(Fc||{}),wn=new x(""),bv=new Set;function Lc(t){bv.has(t)||(bv.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Dh=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=C({token:t,providedIn:"root",factory:()=>new t})}return t})(),Cy=[0,1,2,3],Iy=(()=>{class t{ngZone=w(Pe);scheduler=w(kn);errorHandler=w(qt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){w(wn,{optional:!0})}execute(){let n=this.sequences.size>0;n&&ae(ne.AfterRenderHooksStart),this.executing=!0;for(let r of Cy)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&ae(ne.AfterRenderHooksEnd)}register(n){let{view:r}=n;r!==void 0?((r[br]??=[]).push(n),wi(r),r[$]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Fc.AFTER_NEXT_RENDER,n):n()}static \u0275prov=C({token:t,providedIn:"root",factory:()=>new t})}return t})(),Dc=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[br];e&&(this.view[br]=e.filter(n=>n!==this))}};function ts(t,e){let n=e?.injector??w(nt);return Lc("NgAfterNextRender"),CC(t,n,e,!0)}function DC(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function CC(t,e,n,r){let i=e.get(Dh);i.impl??=e.get(Iy);let o=e.get(wn,null,{optional:!0}),s=n?.manualCleanup!==!0?e.get(Mt):null,a=e.get(sc,null,{optional:!0}),c=new Dc(i.impl,DC(t),a?.view,r,s,o?.snapshot(null));return i.impl.register(c),c}var IC=new x("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:w(ye)})});function Sy(t,e,n){let r=t.get(IC);if(Array.isArray(e))for(let i of e)r.queue.add(i),n?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),n?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(t)}function SC(t,e){for(let[n,r]of e)Sy(t,r.animateFns)}function wv(t,e,n,r){let i=t?.[Vo]?.enter;e!==null&&i&&i.has(n.index)&&SC(r,i)}function Ci(t,e,n,r,i,o,s,a){if(i!=null){let c,l=!1;xt(i)?c=i:Yt(i)&&(l=!0,i=i[Tt]);let u=ft(i);t===0&&r!==null?(wv(a,r,o,n),s==null?my(e,r,u):Ec(e,r,u,s||null,!0)):t===1&&r!==null?(wv(a,r,o,n),Ec(e,r,u,s||null,!0)):t===2?Ev(a,o,n,d=>{oC(e,u,l,d)}):t===3&&Ev(a,o,n,()=>{e.destroyNode(u)}),c!=null&&VC(e,t,n,c,o,r,s)}}function TC(t,e){Ty(t,e),e[Tt]=null,e[ut]=null}function xC(t,e,n,r,i,o){r[Tt]=i,r[ut]=e,jc(t,r,n,1,i,o)}function Ty(t,e){e[Wt].changeDetectionScheduler?.notify(9),jc(t,e,e[he],2,null,null)}function MC(t){let e=t[yi];if(!e)return Df(t[F],t);for(;e;){let n=null;if(Yt(e))n=e[yi];else{let r=e[Ke];r&&(n=r)}if(!n){for(;e&&!e[lt]&&e!==t;)Yt(e)&&Df(e[F],e),e=e[xe];e===null&&(e=t),Yt(e)&&Df(e[F],e),n=e&&e[lt]}e=n}}function Ch(t,e){let n=t[wr],r=n.indexOf(e);n.splice(r,1)}function xy(t,e){if(Er(e))return;let n=e[he];n.destroyNode&&jc(t,e,n,3,null,null),MC(e)}function Df(t,e){if(Er(e))return;let n=q(null);try{e[$]&=-129,e[$]|=256,e[rt]&&wo(e[rt]),NC(t,e),RC(t,e),e[F].type===1&&e[he].destroy();let r=e[Un];if(r!==null&&xt(e[xe])){r!==e[xe]&&Ch(r,e);let i=e[Kt];i!==null&&i.detachView(t)}Of(e)}finally{q(n)}}function Ev(t,e,n,r){let i=t?.[Vo];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);t&&xi.add(t[Bn]),Sy(n,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let c=0;c<s.animateFns.length;c++){let l=s.animateFns[c],{promise:u}=l();a.push(u)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),AC(t,r)}else t&&xi.delete(t[Bn]),r(!1)},i)}function AC(t,e){let n=t[Vo]?.running;if(n){n.then(()=>{t[Vo].running=void 0,xi.delete(t[Bn]),e(!0)});return}e(!1)}function RC(t,e){let n=t.cleanup,r=e[vi];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[vi]=null);let i=e[pn];if(i!==null){e[pn]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[jo];if(o!==null){e[jo]=null;for(let s of o)s.destroy()}}function NC(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Ir)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];ae(ne.LifecycleHookStart,a,c);try{c.call(a)}finally{ae(ne.LifecycleHookEnd,a,c)}}else{ae(ne.LifecycleHookStart,i,o);try{o.call(i)}finally{ae(ne.LifecycleHookEnd,i,o)}}}}}function OC(t,e,n){return kC(t,e.parent,n)}function kC(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Tt];if(Hn(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===Nt.None||i===Nt.Emulated)return null}return Jt(r,n)}function PC(t,e,n){return LC(t,e,n)}function FC(t,e,n){return t.type&40?Jt(t,n):null}var LC=FC,Dv;function Ih(t,e,n,r){let i=OC(t,r,e),o=e[he],s=r.parent||e[ut],a=PC(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)yv(o,i,n[c],a,!1);else yv(o,i,n,a,!1);Dv!==void 0&&Dv(o,r,e,n,i)}function Go(t,e){if(e!==null){let n=e.type;if(n&3)return Jt(e,t);if(n&4)return zf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Go(t,r);{let i=t[e.index];return xt(i)?zf(-1,i):ft(i)}}else{if(n&128)return Go(t,e.next);if(n&32)return Eh(e,t)()||ft(t[e.index]);{let r=My(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=On(t[dt]);return Go(i,r)}else return Go(t,e.next)}}}return null}function My(t,e){if(e!==null){let r=t[dt][ut],i=e.projection;return r.projection[i]}return null}function zf(t,e){let n=Ke+t+1;if(n<e.length){let r=e[n],i=r[F].firstChild;if(i!==null)return Go(r,i)}return e[$n]}function Sh(t,e,n,r,i,o,s){for(;n!=null;){let a=r[Vn];if(n.type===128){n=n.next;continue}let c=r[n.index],l=n.type;if(s&&e===0&&(c&&Ti(ft(c),r),n.flags|=2),!ch(n))if(l&8)Sh(t,e,n.child,r,i,o,!1),Ci(e,t,a,i,c,n,o,r);else if(l&32){let u=Eh(n,r),d;for(;d=u();)Ci(e,t,a,i,d,n,o,r);Ci(e,t,a,i,c,n,o,r)}else l&16?jC(t,e,r,n,i,o):Ci(e,t,a,i,c,n,o,r);n=s?n.projectionNext:n.next}}function jc(t,e,n,r,i,o){Sh(n,r,t.firstChild,e,i,o,!1)}function jC(t,e,n,r,i,o){let s=n[dt],c=s[ut].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Ci(e,t,n[Vn],i,u,r,o,n)}else{let l=c,u=s[xe];ey(r)&&(l.flags|=128),Sh(t,e,l,u,i,o,!0)}}function VC(t,e,n,r,i,o,s){let a=r[$n],c=ft(r);a!==c&&Ci(e,t,n,o,a,i,s);for(let l=Ke;l<r.length;l++){let u=r[l];jc(u[F],u,t,e,o,a)}}function UC(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Ot.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ot.Important),t.setStyle(n,r,i,o))}}function Ay(t,e,n,r,i){let o=zn(),s=r&2;try{Gn(-1),s&&e.length>Fe&&Dy(t,e,Fe,!1);let a=s?ne.TemplateUpdateStart:ne.TemplateCreateStart;ae(a,i,n),n(r,i)}finally{Gn(o);let a=s?ne.TemplateUpdateEnd:ne.TemplateCreateEnd;ae(a,i,n)}}function Vc(t,e,n){WC(t,e,n),(n.flags&64)===64&&KC(t,e,n)}function Uc(t,e,n=Jt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function BC(t,e,n,r){let o=r.get(sy,oy)||n===Nt.ShadowDom||n===Nt.ExperimentalIsolatedShadowDom,s=t.selectRootElement(e,o);return $C(s),s}function $C(t){HC(t)}var HC=()=>null;function zC(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Ry(t,e,n,r,i,o){let s=e[F];if(Ah(t,s,e,n,r)){Hn(t)&&qC(e,t.index);return}t.type&3&&(n=zC(n)),GC(t,e,n,r,i,o)}function GC(t,e,n,r,i,o){if(t.type&3){let s=Jt(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(s,n,r)}else t.type&12}function qC(t,e){let n=ht(e,t);n[$]&16||(n[$]|=64)}function WC(t,e,n){let r=n.directiveStart,i=n.directiveEnd;Hn(n)&&wC(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||bc(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],c=Wo(e,t,s,n);if(Ti(c,e),o!==null&&ZC(e,s-r,c,a,n,o),Zt(a)){let l=ht(n.index,e);l[$e]=Wo(e,t,s,n)}}}function KC(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Wm();try{Gn(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];tc(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&YC(c,l)}}finally{Gn(-1),tc(s)}}function YC(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Th(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];hC(e,o.selectors,!1)&&(r??=[],Zt(o)?r.unshift(o):r.push(o))}return r}function ZC(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];Hf(r,n,c,l)}}function xh(t,e,n,r,i){let o=Fe+n,s=e[F],a=i(s,e,t,r,n);e[o]=a,Ei(t,!0);let c=t.type===2;return c?(vy(e[he],a,t),(jm()===0||_i(t))&&Ti(a,e),Vm()):Ti(a,e),oc()&&(!c||!ch(t))&&Ih(s,e,a,t),t}function Mh(t){let e=t;return sf()?$m():(e=e.parent,Ei(e,!1)),e}function JC(t,e){let n=t[Vn];if(!n)return;let r;try{r=n.get(pt,null)}catch{r=null}r?.(e)}function Ah(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],d=e.data[l];Hf(d,n[l],u,i),a=!0}if(o)for(let c of o){let l=n[c],u=e.data[c];Hf(u,l,r,i),a=!0}return a}function QC(t,e){let n=ht(e,t),r=n[F];XC(r,n);let i=n[Tt];i!==null&&n[Lo]===null&&(n[Lo]=ay(i,n[Vn])),ae(ne.ComponentStart);try{Rh(r,n,n[$e])}finally{ae(ne.ComponentEnd,n[$e])}}function XC(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Rh(t,e,n){rc(e);try{let r=t.viewQuery;r!==null&&kf(1,r,n);let i=t.template;i!==null&&Ay(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Kt]?.finishViewCreation(t),t.staticContentQueries&&cy(t,e),t.staticViewQueries&&kf(2,t.viewQuery,n);let o=t.components;o!==null&&eI(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[$]&=-5,ic()}}function eI(t,e){for(let n=0;n<e.length;n++)QC(t,e[n])}function tI(t,e,n,r){let i=q(null);try{let o=e.tView,a=t[$]&4096?4096:16,c=bh(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[Un]=l;let u=t[Kt];return u!==null&&(c[Kt]=u.createEmbeddedView(o)),Rh(o,c,n),c}finally{q(i)}}function Cv(t,e){return!e||e.firstChild===null||ey(t)}function Ko(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(ft(o)),xt(o)&&Ny(o,r);let s=n.type;if(s&8)Ko(t,e,n.child,r);else if(s&32){let a=Eh(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=My(e,n);if(Array.isArray(a))r.push(...a);else{let c=On(e[dt]);Ko(c[F],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Ny(t,e){for(let n=Ke;n<t.length;n++){let r=t[n],i=r[F].firstChild;i!==null&&Ko(r[F],r,i,e)}t[$n]!==t[Tt]&&e.push(t[$n])}function Oy(t){if(t[br]!==null){for(let e of t[br])e.impl.addSequence(e);t[br].length=0}}var ky=[];function nI(t){return t[rt]??rI(t)}function rI(t){let e=ky.pop()??Object.create(oI);return e.lView=t,e}function iI(t){t.lView[rt]!==t&&(t.lView=null,ky.push(t))}var oI=Z(D({},yo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{wi(t.lView)},consumerOnSignalRead(){this.lView[rt]=this}});function sI(t){let e=t[rt]??Object.create(aI);return e.lView=t,e}var aI=Z(D({},yo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=On(t.lView);for(;e&&!Py(e[F]);)e=On(e);e&&Jd(e)},consumerOnSignalRead(){this.lView[rt]=this}});function Py(t){return t.type!==2}function Fy(t){if(t[jo]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[jo])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[$]&8192)}}var cI=100;function Ly(t,e=0){let r=t[Wt].rendererFactory,i=!1;i||r.begin?.();try{lI(t,e)}finally{i||r.end?.()}}function lI(t,e){let n=af();try{cf(!0),Gf(t,e);let r=0;for(;Bo(t);){if(r===cI)throw new I(103,!1);r++,Gf(t,1)}}finally{cf(n)}}function uI(t,e,n,r){if(Er(e))return;let i=e[$],o=!1,s=!1;rc(e);let a=!0,c=null,l=null;o||(Py(t)?(l=nI(e),c=bo(l)):la()===null?(a=!1,l=sI(e),c=bo(l)):e[rt]&&(wo(e[rt]),e[rt]=null));try{Zd(e),zm(t.bindingStartIndex),n!==null&&Ay(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let f=t.preOrderCheckHooks;f!==null&&dc(e,f,null)}else{let f=t.preOrderHooks;f!==null&&fc(e,f,0,null),wf(e,0)}if(s||dI(e),Fy(e),jy(e,0),t.contentQueries!==null&&cy(t,e),!o)if(u){let f=t.contentCheckHooks;f!==null&&dc(e,f)}else{let f=t.contentHooks;f!==null&&fc(e,f,1),wf(e,1)}hI(t,e);let d=t.components;d!==null&&Uy(e,d,0);let h=t.viewQuery;if(h!==null&&kf(2,h,r),!o)if(u){let f=t.viewCheckHooks;f!==null&&dc(e,f)}else{let f=t.viewHooks;f!==null&&fc(e,f,2),wf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Ya]){for(let f of e[Ya])f();e[Ya]=null}o||(Oy(e),e[$]&=-73)}catch(u){throw o||wi(e),u}finally{l!==null&&(ua(l,c),a&&iI(l)),ic()}}function jy(t,e){for(let n=ny(t);n!==null;n=ry(n))for(let r=Ke;r<n.length;r++){let i=n[r];Vy(i,e)}}function dI(t){for(let e=ny(t);e!==null;e=ry(e)){if(!(e[$]&2))continue;let n=e[wr];for(let r=0;r<n.length;r++){let i=n[r];Jd(i)}}}function fI(t,e,n){ae(ne.ComponentStart);let r=ht(e,t);try{Vy(r,n)}finally{ae(ne.ComponentEnd,r[$e])}}function Vy(t,e){Ja(t)&&Gf(t,e)}function Gf(t,e){let r=t[F],i=t[$],o=t[rt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&da(o)),s||=!1,o&&(o.dirty=!1),t[$]&=-9217,s)uI(r,t,r.template,t[$e]);else if(i&8192){let a=q(null);try{Fy(t),jy(t,1);let c=r.components;c!==null&&Uy(t,c,1),Oy(t)}finally{q(a)}}}function Uy(t,e,n){for(let r=0;r<e.length;r++)fI(t,e[r],n)}function hI(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Gn(~i);else{let o=i,s=n[++r],a=n[++r];qm(s,o);let c=e[o];ae(ne.HostBindingsUpdateStart,c);try{a(2,c)}finally{ae(ne.HostBindingsUpdateEnd,c)}}}}finally{Gn(-1)}}function Nh(t,e){let n=af()?64:1088;for(t[Wt].changeDetectionScheduler?.notify(e);t;){t[$]|=n;let r=On(t);if(bi(t)&&!r)return t;t=r}return null}function By(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function pI(t,e,n,r=!0){let i=e[F];if(gI(i,e,t,n),r){let s=zf(n,t),a=e[he],c=a.parentNode(t[$n]);c!==null&&xC(i,t[ut],a,e,c,s)}let o=e[Lo];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function qf(t,e){if(t.length<=Ke)return;let n=Ke+e,r=t[n];if(r){let i=r[Un];i!==null&&i!==t&&Ch(i,r),e>0&&(t[n-1][lt]=r[lt]);let o=ko(t,Ke+e);TC(r[F],r);let s=o[Kt];s!==null&&s.detachView(o[F]),r[xe]=null,r[lt]=null,r[$]&=-129}return r}function gI(t,e,n,r){let i=Ke+r,o=n.length;r>0&&(n[i-1][lt]=e),r<o-Ke?(e[lt]=n[i],jd(n,Ke+r,e)):(n.push(e),e[lt]=null),e[xe]=n;let s=e[Un];s!==null&&n!==s&&$y(s,e);let a=e[Kt];a!==null&&a.insertView(t),Qa(e),e[$]|=128}function $y(t,e){let n=t[wr],r=e[xe];if(Yt(r))t[$]|=2;else{let i=r[xe][dt];e[dt]!==i&&(t[$]|=2)}n===null?t[wr]=[e]:n.push(e)}var qn=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[F];return Ko(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[$e]}set context(e){this._lView[$e]=e}get destroyed(){return Er(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[xe];if(xt(e)){let n=e[Uo],r=n?n.indexOf(this):-1;r>-1&&(qf(e,r),ko(n,r))}this._attachedToViewContainer=!1}xy(this._lView[F],this._lView)}onDestroy(e){Qd(this._lView,e)}markForCheck(){Nh(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[$]&=-129}reattach(){Qa(this._lView),this._lView[$]|=128}detectChanges(){this._lView[$]|=1024,Ly(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new I(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=bi(this._lView),n=this._lView[Un];n!==null&&!e&&Ch(n,this._lView),Ty(this._lView[F],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new I(902,!1);this._appRef=e;let n=bi(this._lView),r=this._lView[Un];r!==null&&!n&&$y(r,this._lView),Qa(this._lView)}};var Xt=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=mI;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=tI(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new qn(o)}}return t})();function mI(){return Oh(je(),X())}function Oh(t,e){return t.type&4?new Xt(e,t,Ri(t,e)):null}function Bc(t,e,n,r,i){let o=t.data[e];if(o===null)o=vI(t,e,n,r,i),Gm()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=Bm();o.injectorIndex=s===null?-1:s.injectorIndex}return Ei(o,!0),o}function vI(t,e,n,r,i){let o=of(),s=sf(),a=s?o:o&&o.parent,c=t.data[e]=_I(t,a,n,e,r,i);return yI(t,c,o,s),c}function yI(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function _I(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Um()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var bI=()=>null;function Iv(t,e){return bI(t,e)}var Hy=class{},$c=class{},Wf=class{resolveComponentFactory(e){throw new I(917,!1)}},ns=class{static NULL=new Wf},Sr=class{},Wn=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>wI()}return t})();function wI(){let t=X(),e=je(),n=ht(e.index,t);return(Yt(n)?n:t)[he]}var zy=(()=>{class t{static \u0275prov=C({token:t,providedIn:"root",factory:()=>null})}return t})();var pc={},Kf=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,pc,r);return i!==pc||n===pc?i:this.parentInjector.get(e,n,r)}};function Cc(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Sd(i,a);else if(o==2){let c=a,l=e[++s];r=Sd(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function S(t,e=0){let n=X();if(n===null)return M(t,e);let r=je();return Jv(r,n,ke(t),e)}function Gy(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a=s,c=null,l=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,c,l]=u.resolveHostDirectives(s);break}CI(t,e,n,a,o,c,l)}o!==null&&r!==null&&EI(n,r,o)}function EI(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new I(-301,!1);r.push(e[i],o)}}function DI(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function CI(t,e,n,r,i,o,s){let a=r.length,c=null;for(let h=0;h<a;h++){let f=r[h];c===null&&Zt(f)&&(c=f,DI(t,n,h)),Rf(bc(n,e),t,f.type)}AI(n,t.data.length,a),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let h=0;h<a;h++){let f=r[h];f.providersResolver&&f.providersResolver(f)}let l=!1,u=!1,d=Ey(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let h=0;h<a;h++){let f=r[h];if(n.mergedAttrs=Si(n.mergedAttrs,f.hostAttrs),SI(t,n,e,d,f),MI(d,f,i),s!==null&&s.has(f)){let[v,y]=s.get(f);n.directiveToIndex.set(f.type,[d,v+n.directiveStart,y+n.directiveStart])}else(o===null||!o.has(f))&&n.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let p=f.type.prototype;!l&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!u&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),u=!0),d++}II(t,n,o)}function II(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))Sv(0,e,i,r),Sv(1,e,i,r),xv(e,r,!1);else{let o=n.get(i);Tv(0,e,o,r),Tv(1,e,o,r),xv(e,r,!0)}}}function Sv(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),qy(e,o)}}function Tv(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),qy(e,s)}}function qy(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function xv(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||yh(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&i.hasOwnProperty(c)){let l=i[c];for(let u of l)if(u===e){s??=[],s.push(c,r[a+1]);break}}else if(n&&o.hasOwnProperty(c)){let l=o[c];for(let u=0;u<l.length;u+=2)if(l[u]===e){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function SI(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Nn(i.type,!0)),s=new Ir(o,Zt(i),S,null);t.blueprint[r]=s,n[r]=s,TI(t,e,r,Ey(t,n,i.hostVars,Pt),i)}function TI(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;xI(s)!=a&&s.push(a),s.push(n,r,o)}}function xI(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function MI(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Zt(e)&&(n[""]=t)}}function AI(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function kh(t,e,n,r,i,o,s,a){let c=e[F],l=c.consts,u=Dr(l,s),d=Bc(c,t,n,r,u);return o&&Gy(c,e,d,Dr(l,a),i),d.mergedAttrs=Si(d.mergedAttrs,d.attrs),d.attrs!==null&&Cc(d,d.attrs,!1),d.mergedAttrs!==null&&Cc(d,d.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,d),d}function Ph(t,e){Hv(t,e),qd(e)&&t.queries.elementEnd(e)}function RI(t,e,n,r,i,o){let s=e.consts,a=Dr(s,i),c=Bc(e,t,n,r,a);if(c.mergedAttrs=Si(c.mergedAttrs,c.attrs),o!=null){let l=Dr(s,o);c.localNames=[];for(let u=0;u<l.length;u+=2)c.localNames.push(l[u],-1)}return c.attrs!==null&&Cc(c,c.attrs,!1),c.mergedAttrs!==null&&Cc(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function Fh(t){return Hc(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function Wy(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function Hc(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function NI(t,e,n){return t[e]=n}function Tr(t,e,n){if(n===Pt)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function OI(t,e,n,r){let i=Tr(t,e,n);return Tr(t,e+1,r)||i}function gc(t,e,n){return function r(i){let o=Hn(t)?ht(t.index,e):e;Nh(o,5);let s=e[$e],a=Mv(e,s,n,i),c=r.__ngNextListenerFn__;for(;c;)a=Mv(e,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function Mv(t,e,n,r){let i=q(null);try{return ae(ne.OutputStart,e,n),n(r)!==!1}catch(o){return JC(t,o),!1}finally{ae(ne.OutputEnd,e,n),q(i)}}function Ky(t,e,n,r,i,o,s,a){let c=_i(t),l=!1,u=null;if(!r&&c&&(u=PI(e,n,o,t.index)),u!==null){let d=u.__ngLastListenerFn__||u;d.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,l=!0}else{let d=Jt(t,n),h=r?r(d):d;ND(n,h,o,a);let f=i.listen(h,o,a);if(!kI(o)){let p=r?v=>r(ft(v[t.index])):t.index;Yy(p,e,n,o,a,f,!1)}}return l}function kI(t){return t.startsWith("animation")||t.startsWith("transition")}function PI(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[vi],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function Yy(t,e,n,r,i,o,s){let a=e.firstCreatePass?ef(e):null,c=Xd(n),l=c.length;c.push(i,o),a&&a.push(r,t,l,(l+1)*(s?-1:1))}function Av(t,e,n,r,i,o){let s=e[n],a=e[F],l=a.data[n].outputs[r],d=s[l].subscribe(o);Yy(t.index,a,e,i,o,d,!0)}var Yf=Symbol("BINDING");var Ic=class extends ns{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Ln(e);return new Mi(n,this.ngModule)}};function FI(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Pc.SignalBased)!==0};return i&&(o.transform=i),o})}function LI(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function jI(t,e,n){let r=e instanceof ye?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Kf(n,r):n}function VI(t){let e=t.get(Sr,null);if(e===null)throw new I(407,!1);let n=t.get(zy,null),r=t.get(kn,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function UI(t,e){let n=Zy(t);return gy(e,n,n==="svg"?Wd:n==="math"?Rm:null)}function Zy(t){return(t.selectors[0][0]||"div").toLowerCase()}var Mi=class extends $c{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=FI(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=LI(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=vC(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){ae(ne.DynamicComponentStart);let a=q(null);try{let c=this.componentDef,l=BI(r,c,s,o),u=jI(c,i||this.ngModule,e),d=VI(u),h=d.rendererFactory.createRenderer(null,c),f=r?BC(h,r,c.encapsulation,u):UI(c,h),p=s?.some(Rv)||o?.some(m=>typeof m!="function"&&m.bindings.some(Rv)),v=bh(null,l,null,512|wy(c),null,null,d,h,u,null,ay(f,u,!0));v[Fe]=f,rc(v);let y=null;try{let m=kh(Fe,v,2,"#host",()=>l.directiveRegistry,!0,0);vy(h,f,m),Ti(f,v),Vc(l,v,m),lh(l,m,v),Ph(l,m),n!==void 0&&HI(m,this.ngContentSelectors,n),y=ht(m.index,v),v[$e]=y[$e],Rh(l,v,null)}catch(m){throw y!==null&&Of(y),Of(v),m}finally{ae(ne.DynamicComponentEnd),ic()}return new Sc(this.componentType,v,!!p)}finally{q(a)}}};function BI(t,e,n,r){let i=t?["ng-version","21.1.0"]:yC(e.selectors[0]),o=null,s=null,a=0;if(n)for(let u of n)a+=u[Yf].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let d=r[u];if(typeof d!="function")for(let h of d.bindings){a+=h[Yf].requiredVars;let f=u+1;h.create&&(h.targetIdx=f,(o??=[]).push(h)),h.update&&(h.targetIdx=f,(s??=[]).push(h))}}let c=[e];if(r)for(let u of r){let d=typeof u=="function"?u:u.type,h=Pd(d);c.push(h)}return _h(0,null,$I(o,s),1,a,c,null,null,null,[i],null)}function $I(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function Rv(t){let e=t[Yf].kind;return e==="input"||e==="twoWay"}var Sc=class extends Hy{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Za(n[F],Fe),this.location=Ri(this._tNode,n),this.instance=ht(this._tNode.index,n)[$e],this.hostView=this.changeDetectorRef=new qn(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=Ah(r,i[F],i,e,n);this.previousInputValues.set(e,n);let s=ht(r.index,i);Nh(s,1)}get injector(){return new Cr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function HI(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Ft=(()=>{class t{static __NG_ELEMENT_ID__=zI}return t})();function zI(){let t=je();return Qy(t,X())}var GI=Ft,Jy=class extends GI{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ri(this._hostTNode,this._hostLView)}get injector(){return new Cr(this._hostTNode,this._hostLView)}get parentInjector(){let e=oh(this._hostTNode,this._hostLView);if(Gv(e)){let n=yc(e,this._hostLView),r=vc(e),i=n[F].data[r+8];return new Cr(i,n)}else return new Cr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Nv(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ke}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Iv(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Cv(this._hostTNode,s)),a}createComponent(e,n,r,i,o,s,a){let c=e&&!iD(e),l;if(c)l=n;else{let y=n||{};l=y.index,r=y.injector,i=y.projectableNodes,o=y.environmentInjector||y.ngModuleRef,s=y.directives,a=y.bindings}let u=c?e:new Mi(Ln(e)),d=r||this.parentInjector;if(!o&&u.ngModule==null){let m=(c?d:this.parentInjector).get(ye,null);m&&(o=m)}let h=Ln(u.componentType??{}),f=Iv(this._lContainer,h?.id??null),p=f?.firstChild??null,v=u.create(d,i,p,o,s,a);return this.insertImpl(v.hostView,l,Cv(this._hostTNode,f)),v}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(km(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[xe],l=new Jy(c,c[ut],c[xe]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return pI(s,i,o,r),e.attachToViewContainerRef(),jd(Cf(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Nv(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=qf(this._lContainer,n);r&&(ko(Cf(this._lContainer),n),xy(r[F],r))}detach(e){let n=this._adjustIndex(e,-1),r=qf(this._lContainer,n);return r&&ko(Cf(this._lContainer),n)!=null?new qn(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Nv(t){return t[Uo]}function Cf(t){return t[Uo]||(t[Uo]=[])}function Qy(t,e){let n,r=e[t.index];return xt(r)?n=r:(n=By(r,e,null,t),e[t.index]=n,wh(e,n)),WI(n,e,t,r),new Jy(n,t,e)}function qI(t,e){let n=t[he],r=n.createComment(""),i=Jt(e,t),o=n.parentNode(i);return Ec(n,o,r,n.nextSibling(i),!1),r}var WI=ZI,KI=()=>!1;function YI(t,e,n){return KI(t,e,n)}function ZI(t,e,n,r){if(t[$n])return;let i;n.type&8?i=ft(r):i=qI(e,n),t[$n]=i}var Zf=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Jf=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Lh(e,n).matches!==null&&this.queries[n].setDirty()}},Qf=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=iS(e):this.predicate=e}},Xf=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},eh=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,JI(n,o)),this.matchTNodeWithReadOption(e,n,hc(n,e,o,!1,!1))}else r===Xt?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,hc(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Xe||i===Ft||i===Xt&&n.type&4)this.addMatch(n.index,-2);else{let o=hc(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function JI(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function QI(t,e){return t.type&11?Ri(t,e):t.type&4?Oh(t,e):null}function XI(t,e,n,r){return n===-1?QI(e,t):n===-2?eS(t,e,r):Wo(t,t[F],n,e)}function eS(t,e,n){if(n===Xe)return Ri(e,t);if(n===Xt)return Oh(e,t);if(n===Ft)return Qy(e,t)}function Xy(t,e,n,r){let i=e[Kt].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(XI(e,u,s[c+1],n.metadata.read))}}i.matches=a}return i.matches}function th(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=Xy(t,e,i,n);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],u=e[-c];for(let d=Ke;d<u.length;d++){let h=u[d];h[Un]===h[xe]&&th(h[F],h,l,r)}if(u[wr]!==null){let d=u[wr];for(let h=0;h<d.length;h++){let f=d[h];th(f[F],f,l,r)}}}}}return r}function tS(t,e){return t[Kt].queries[e].queryList}function nS(t,e,n){let r=new wc((n&4)===4);return Lm(t,e,r,r.destroy),(e[Kt]??=new Jf).queries.push(new Zf(r))-1}function rS(t,e,n){let r=Le();return r.firstCreatePass&&(oS(r,new Qf(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),nS(r,X(),e)}function iS(t){return t.split(",").map(e=>e.trim())}function oS(t,e,n){t.queries===null&&(t.queries=new Xf),t.queries.track(new eh(e,n))}function Lh(t,e){return t.queries.getByIndex(e)}function sS(t,e){let n=t[F],r=Lh(n,e);return r.crossesNgTemplate?th(n,t,e,[]):Xy(n,t,r,e)}var xr=class{},zc=class{};var Tc=class extends xr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Ic(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=kd(e);this._bootstrapComponents=_y(o.bootstrap),this._r3Injector=gf(e,n,[{provide:xr,useValue:this},{provide:ns,useValue:this.componentFactoryResolver},...r],gn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},xc=class extends zc{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Tc(this.moduleType,e,[])}};var Yo=class extends xr{injector;componentFactoryResolver=new Ic(this);instance=null;constructor(e){super();let n=new pr([...e.providers,{provide:xr,useValue:this},{provide:ns,useValue:this.componentFactoryResolver}],e.parent||Fo(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function rs(t,e,n=null){return new Yo({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var aS=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Bd(!1,n.type),i=r.length>0?rs([r],this._injector,""):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=C({token:t,providedIn:"environment",factory:()=>new t(M(ye))})}return t})();function pe(t){return Jo(()=>{let e=e_(t),n=Z(D({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===sh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(aS).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Nt.Emulated,styles:t.styles||tt,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Lc("NgStandalone"),t_(n);let r=t.dependencies;return n.directiveDefs=Ov(r,cS),n.pipeDefs=Ov(r,mm),n.id=dS(n),n})}function cS(t){return Ln(t)||Pd(t)}function nn(t){return Jo(()=>({type:t.type,bootstrap:t.bootstrap||tt,declarations:t.declarations||tt,imports:t.imports||tt,exports:t.exports||tt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function lS(t,e){if(t==null)return jn;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=Pc.None,c=null),n[o]=[r,a,c],e[o]=s}return n}function uS(t){if(t==null)return jn;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function ue(t){return Jo(()=>{let e=e_(t);return t_(e),e})}function jh(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function e_(t){let e={};return{type:t.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||jn,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||tt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:lS(t.inputs,e),outputs:uS(t.outputs),debugInfo:null}}function t_(t){t.features?.forEach(e=>e(t))}function Ov(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function dS(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function fS(t){return Object.getPrototypeOf(t.prototype).constructor}function gt(t){let e=fS(t.type),n=!0,r=[t];for(;e;){let i;if(Zt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new I(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=If(t.inputs),s.declaredInputs=If(t.declaredInputs),s.outputs=If(t.outputs);let a=i.hostBindings;a&&vS(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&gS(t,c),l&&mS(t,l),hS(t,i),gm(t.outputs,i.outputs),Zt(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===gt&&(n=!1)}}e=Object.getPrototypeOf(e)}pS(r)}function hS(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function pS(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Si(i.hostAttrs,n=Si(n,i.hostAttrs))}}function If(t){return t===jn?{}:t===tt?[]:t}function gS(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function mS(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function vS(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function yS(t,e,n,r,i,o,s,a){if(n.firstCreatePass){t.mergedAttrs=Si(t.mergedAttrs,t.attrs);let u=t.tView=_h(2,t,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),u.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),Ei(t,!1);let c=bS(n,e,t,r);oc()&&Ih(n,e,c,t),Ti(c,e);let l=By(c,e,c,t);e[r+Fe]=l,wh(e,l),YI(l,t,e)}function _S(t,e,n,r,i,o,s,a,c,l,u){let d=n+Fe,h;return e.firstCreatePass?(h=Bc(e,d,4,s||null,a||null),Xa()&&Gy(e,t,h,Dr(e.consts,l),Th),Hv(e,h)):h=e.data[d],yS(h,t,e,n,r,i,o,c),_i(h)&&Vc(e,t,h),l!=null&&Uc(t,h,u),h}function ge(t,e,n,r,i,o,s,a){let c=X(),l=Le(),u=Dr(l.consts,o);return _S(c,l,t,e,n,r,i,u,void 0,s,a),ge}var bS=wS;function wS(t,e,n,r){return $o(!0),e[he].createComment("")}var Gc=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function n_(t){return typeof t=="function"&&t[Ge]!==void 0}function Vh(t){return n_(t)&&typeof t.set=="function"}var Uh=new x("");function En(t){return!!t&&typeof t.then=="function"}function qc(t){return!!t&&typeof t.subscribe=="function"}var r_=new x("");var Bh=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=w(r_,{optional:!0})??[];injector=w(nt);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Me(this.injector,i);if(En(o))n.push(o);else if(qc(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Wc=new x("");function i_(){Zu(()=>{let t="";throw new I(600,t)})}function o_(t){return t.isBoundToModule}var ES=10;var Dn=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=w(pt);afterRenderManager=w(Dh);zonelessEnabled=w(Ho);rootEffectScheduler=w(bf);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new De;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=w(mn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ce(n=>!n))}constructor(){w(wn,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=w(ye);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=nt.NULL){return this._injector.get(Pe).run(()=>{ae(ne.BootstrapComponentStart);let s=n instanceof $c;if(!this._injector.get(Bh).done){let p="";throw new I(405,p)}let c;s?c=n:c=this._injector.get(ns).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let l=o_(c)?void 0:this._injector.get(xr),u=r||c.selector,d=c.create(i,[],u,l),h=d.location.nativeElement,f=d.injector.get(Uh,null);return f?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),qo(this.components,d),f?.unregisterApplication(h)}),this._loadComponent(d),ae(ne.BootstrapComponentEnd,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ae(ne.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(Fc.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw ae(ne.ChangeDetectionEnd),new I(101,!1);let n=q(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,q(n),this.afterTick.next(),ae(ne.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Sr,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<ES;){ae(ne.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{ae(ne.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Bo(i))continue;let o=r&&!this.zonelessEnabled?0:1;Ly(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Bo(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;qo(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(Wc,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>qo(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new I(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function qo(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var Gj=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function P(t,e,n){let r=X(),i=ec();if(Tr(r,i,e)){let o=Le(),s=pf();Ry(s,r,t,e,r[he],n)}return P}function kv(t,e,n,r,i){Ah(e,t,n,i?"class":"style",r)}function _(t,e,n,r){let i=X(),o=i[F],s=t+Fe,a=o.firstCreatePass?kh(s,i,2,e,Th,Xa(),n,r):o.data[s];if(xh(a,i,t,e,s_),_i(a)){let c=i[F];Vc(c,i,a),lh(c,a,i)}return r!=null&&Uc(i,a),_}function b(){let t=Le(),e=je(),n=Mh(e);return t.firstCreatePass&&Ph(t,n),nf(n)&&rf(),tf(),n.classesWithoutHost!=null&&uD(n)&&kv(t,n,X(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&dD(n)&&kv(t,n,X(),n.stylesWithoutHost,!1),b}function Q(t,e,n,r){return _(t,e,n,r),b(),Q}function L(t,e,n,r){let i=X(),o=i[F],s=t+Fe,a=o.firstCreatePass?RI(s,o,2,e,n,r):o.data[s];return xh(a,i,t,e,s_),r!=null&&Uc(i,a),L}function G(){let t=je(),e=Mh(t);return nf(e)&&rf(),tf(),G}function Ar(t,e,n,r){return L(t,e,n,r),G(),Ar}var s_=(t,e,n,r,i)=>($o(!0),gy(e[he],r,Xm()));function Rr(t,e,n){let r=X(),i=r[F],o=t+Fe,s=i.firstCreatePass?kh(o,r,8,"ng-container",Th,Xa(),e,n):i.data[o];if(xh(s,r,t,"ng-container",DS),_i(s)){let a=r[F];Vc(a,r,s),lh(a,s,r)}return n!=null&&Uc(r,s),Rr}function Nr(){let t=Le(),e=je(),n=Mh(e);return t.firstCreatePass&&Ph(t,n),Nr}var DS=(t,e,n,r,i)=>($o(!0),iC(e[he],""));function Ie(){return X()}var is="en-US";var CS=is;function a_(t){typeof t=="string"&&(CS=t.toLowerCase().replace(/_/g,"-"))}function B(t,e,n){let r=X(),i=Le(),o=je();return c_(i,r,r[he],o,t,e,n),B}function it(t,e,n){let r=X(),i=Le(),o=je();return(o.type&3||n)&&Ky(o,i,r,n,r[he],t,e,gc(o,r,e)),it}function c_(t,e,n,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=gc(r,e,o),Ky(r,t,e,s,n,i,o,c)&&(a=!1)),a){let l=r.outputs?.[i],u=r.hostDirectiveOutputs?.[i];if(u&&u.length)for(let d=0;d<u.length;d+=2){let h=u[d],f=u[d+1];c??=gc(r,e,o),Av(r,e,h,f,i,c)}if(l&&l.length)for(let d of l)c??=gc(r,e,o),Av(r,e,d,i,i,c)}}function O(t=1){return Qm(t)}function Oi(t,e,n){return rS(t,e,n),Oi}function Or(t){let e=X(),n=Le(),r=df();nc(r+1);let i=Lh(n,r);if(t.dirty&&Om(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=sS(e,r);t.reset(o,CD),t.notifyOnChanges()}return!0}return!1}function kr(){return tS(X(),df())}function uc(t,e){return t<<17|e<<2}function Mr(t){return t>>17&32767}function IS(t){return(t&2)==2}function SS(t,e){return t&131071|e<<17}function nh(t){return t|2}function Ai(t){return(t&131068)>>2}function Sf(t,e){return t&-131069|e<<2}function TS(t){return(t&1)===1}function rh(t){return t|1}function xS(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Mr(s),c=Ai(s);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||mi(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let h=Mr(t[a+1]);t[r+1]=uc(h,a),h!==0&&(t[h+1]=Sf(t[h+1],r)),t[a+1]=SS(t[a+1],r)}else t[r+1]=uc(a,0),a!==0&&(t[a+1]=Sf(t[a+1],r)),a=r;else t[r+1]=uc(c,0),a===0?a=r:t[c+1]=Sf(t[c+1],r),c=r;l&&(t[r+1]=nh(t[r+1])),Pv(t,u,r,!0),Pv(t,u,r,!1),MS(e,u,t,r,o),s=uc(a,c),o?e.classBindings=s:e.styleBindings=s}function MS(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&mi(o,e)>=0&&(n[r+1]=rh(n[r+1]))}function Pv(t,e,n,r){let i=t[n+1],o=e===null,s=r?Mr(i):Ai(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];AS(c,e)&&(a=!0,t[s+1]=r?rh(l):nh(l)),s=r?Mr(l):Ai(l)}a&&(t[n+1]=r?nh(i):rh(i))}function AS(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?mi(t,e)>=0:!1}function ki(t,e,n){return l_(t,e,n,!1),ki}function Pr(t,e){return l_(t,e,null,!0),Pr}function l_(t,e,n,r){let i=X(),o=Le(),s=uf(2);if(o.firstUpdatePass&&NS(o,t,s,r),e!==Pt&&Tr(i,s,e)){let a=o.data[zn()];LS(o,a,i,i[he],t,i[s+1]=jS(e,n),r,s)}}function RS(t,e){return e>=t.expandoStartIndex}function NS(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[zn()],s=RS(t,n);VS(o,r)&&e===null&&!s&&(e=!1),e=OS(i,o,e,r),xS(i,o,e,n,s,r)}}function OS(t,e,n,r){let i=Km(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Tf(null,t,e,n,r),n=Zo(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Tf(i,t,e,n,r),o===null){let c=kS(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Tf(null,t,e,c[1],r),c=Zo(c,e.attrs,r),PS(t,e,r,c))}else o=FS(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function kS(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ai(r)!==0)return t[Mr(r)]}function PS(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Mr(i)]=r}function FS(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Zo(r,s,n)}return Zo(r,e.attrs,n)}function Tf(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Zo(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Zo(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Cm(t,s,n?!0:e[++o]))}return t===void 0?null:t}function LS(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=TS(l)?Fv(c,e,n,i,Ai(l),s):void 0;if(!Mc(u)){Mc(o)||IS(l)&&(o=Fv(c,null,n,i,a,s));let d=Kd(zn(),n);UC(r,s,d,i,o)}}function Fv(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,h=n[i+1];h===Pt&&(h=d?tt:void 0);let f=d?Ka(h,r):u===r?h:void 0;if(l&&!Mc(f)&&(f=Ka(c,r)),Mc(f)&&(a=f,s))return a;let p=t[i+1];i=s?Mr(p):Ai(p)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Ka(c,r))}return a}function Mc(t){return t!==void 0}function jS(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=gn(tn(t)))),t}function VS(t,e){return(t.flags&(e?8:16))!==0}function g(t,e=""){let n=X(),r=Le(),i=t+Fe,o=r.firstCreatePass?Bc(r,i,1,e,null):r.data[i],s=US(r,n,o,e,t);n[i]=s,oc()&&Ih(r,n,s,o),Ei(o,!1)}var US=(t,e,n,r,i)=>($o(!0),nC(e[he],r));function BS(t,e,n,r=""){return Tr(t,ec(),n)?e+gi(n)+r:Pt}function $S(t,e,n,r,i,o=""){let s=Hm(),a=OI(t,s,n,i);return uf(2),a?e+gi(n)+r+gi(i)+o:Pt}function os(t){return ot("",t),os}function ot(t,e,n){let r=X(),i=BS(r,t,e,n);return i!==Pt&&u_(r,zn(),i),ot}function Kc(t,e,n,r,i){let o=X(),s=$S(o,t,e,n,r,i);return s!==Pt&&u_(o,zn(),s),Kc}function u_(t,e,n){let r=Kd(e,t);rC(t[he],r,n)}function Lt(t,e,n){Vh(e)&&(e=e());let r=X(),i=ec();if(Tr(r,i,e)){let o=Le(),s=pf();Ry(s,r,t,e,r[he],n)}return Lt}function rn(t,e){let n=Vh(t);return n&&t.set(e),n}function jt(t,e){let n=X(),r=Le(),i=je();return c_(r,n,n[he],i,t,e),jt}function Lv(t,e,n){let r=Le();r.firstCreatePass&&d_(e,r.data,r.blueprint,Zt(t),n)}function d_(t,e,n,r,i){if(t=ke(t),Array.isArray(t))for(let o=0;o<t.length;o++)d_(t[o],e,n,r,i);else{let o=Le(),s=X(),a=je(),c=hr(t)?t:ke(t.provide),l=Hd(t),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(hr(t)||!t.multi){let f=new Ir(l,i,S,null),p=Mf(c,e,i?u:u+h,d);p===-1?(Rf(bc(a,s),o,c),xf(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{let f=Mf(c,e,u+h,d),p=Mf(c,e,u,u+h),v=f>=0&&n[f],y=p>=0&&n[p];if(i&&!y||!i&&!v){Rf(bc(a,s),o,c);let m=GS(i?zS:HS,n.length,i,r,l,t);!i&&y&&(n[p].providerFactory=m),xf(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(m),s.push(m)}else{let m=f_(n[i?p:f],l,!i&&r);xf(o,t,f>-1?f:p,m)}!i&&r&&y&&n[p].componentProviders++}}}function xf(t,e,n,r){let i=hr(e),o=xm(e);if(i||o){let c=(o?ke(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function f_(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Mf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function HS(t,e,n,r,i){return ih(this.multi,[])}function zS(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Wo(r,r[F],this.providerFactory.index,i);s=c.slice(0,a),ih(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],ih(o,s);return s}function ih(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function GS(t,e,n,r,i,o){let s=new Ir(t,n,S,null);return s.multi=[],s.index=e,s.componentProviders=0,f_(s,i,r&&!n),s}function Kn(t,e){return n=>{n.providersResolver=(r,i)=>Lv(r,i?i(t):t,!1),e&&(n.viewProvidersResolver=(r,i)=>Lv(r,i?i(e):e,!0))}}function $h(t,e,n){return h_(X(),lf(),t,e,n)}function qS(t,e){let n=t[e];return n===Pt?void 0:n}function h_(t,e,n,r,i,o){let s=e+n;return Tr(t,s,i)?NI(t,s+1,o?r.call(o,i):r(i)):qS(t,s+1)}function Hh(t,e){let n=Le(),r,i=t+Fe;n.firstCreatePass?(r=WS(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Nn(r.type,!0)),s,a=We(S);try{let c=_c(!1),l=o();return _c(c),Yd(n,X(),i,l),l}finally{We(a)}}function WS(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function zh(t,e,n){let r=t+Fe,i=X(),o=Nm(i,r);return KS(i,r)?h_(i,lf(),e,o.transform,n,o):o.transform(n)}function KS(t,e){return t[F].data[e].pure}var Ac=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Gh=(()=>{class t{compileModuleSync(n){return new xc(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=kd(n),o=_y(i.declarations).reduce((s,a)=>{let c=Ln(a);return c&&s.push(new Mi(c)),s},[]);return new Ac(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var p_=(()=>{class t{applicationErrorHandler=w(pt);appRef=w(Dn);taskService=w(mn);ngZone=w(Pe);zonelessEnabled=w(Ho);tracing=w(wn,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ne;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ro):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(w(_f,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{let n=this.taskService.add();if(!this.runningTick&&(this.cleanup(),!this.zonelessEnabled||this.appRef.includeAllTestViews)){this.taskService.remove(n);return}this.switchToMicrotaskScheduler(),this.taskService.remove(n)})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}switchToMicrotaskScheduler(){this.ngZone.runOutsideAngular(()=>{let n=this.taskService.add();this.useMicrotaskScheduler=!0,queueMicrotask(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})})}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?rv:mf;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ro+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.applicationErrorHandler(r)}finally{this.taskService.remove(n),this.cleanup()}}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function g_(){return[{provide:kn,useExisting:p_},{provide:Pe,useClass:No},{provide:Ho,useValue:!0}]}function YS(){return typeof $localize<"u"&&$localize.locale||is}var Yc=new x("",{factory:()=>w(Yc,{optional:!0,skipSelf:!0})||YS()});function Fr(t,e){return fa(t,e?.equal)}var E_=Symbol("InputSignalNode#UNSET"),hT=Z(D({},ha),{transformFn:void 0,applyValueToInputSignal(t,e){Eo(t,e)}});function D_(t,e){let n=Object.create(hT);n.value=t,n.transformFn=e?.transform;function r(){if(_o(n),n.value===E_){let i=null;throw new I(-950,i)}return n.value}return r[Ge]=n,r}function m_(t,e){return D_(t,e)}function pT(t){return D_(E_,t)}var C_=(m_.required=pT,m_);var qh=new x(""),gT=new x("");function ss(t){return!t.moduleRef}function mT(t){let e=ss(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Pe);return n.run(()=>{ss(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(pt),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),ss(t)){let o=()=>e.destroy(),s=t.platformInjector.get(qh);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(qh);s.add(o),t.moduleRef.onDestroy(()=>{qo(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return yT(r,n,()=>{let o=e.get(mn),s=o.add(),a=e.get(Bh);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(Yc,is);if(a_(c||is),!e.get(gT,!0))return ss(t)?e.get(Dn):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(ss(t)){let u=e.get(Dn);return t.rootComponent!==void 0&&u.bootstrap(t.rootComponent),u}else return vT?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>{o.remove(s)})})})}var vT;function yT(t,e,n){try{let r=n();return En(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var Zc=null;function _T(t=[],e){return nt.create({name:e,providers:[{provide:Po,useValue:"platform"},{provide:qh,useValue:new Set([()=>Zc=null])},...t]})}function bT(t=[]){if(Zc)return Zc;let e=_T(t);return Zc=e,i_(),wT(e),e}function wT(t){let e=t.get(Nc,null);Me(t,()=>{e?.forEach(n=>n())})}var ET=1e4;var n3=ET-1e3;var Lr=(()=>{class t{static __NG_ELEMENT_ID__=DT}return t})();function DT(t){return CT(je(),X(),(t&16)===16)}function CT(t,e,n){if(Hn(t)&&!n){let r=ht(t.index,e);return new qn(r,r)}else if(t.type&175){let r=e[dt];return new qn(r,e)}return null}var Wh=class{constructor(){}supports(e){return Fh(e)}create(e){return new Kh(e)}},IT=(t,e)=>e,Kh=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||IT}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<v_(r,i,o)?n:r,a=v_(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let h=0;h<l;h++){let f=h<o.length?o[h]:o[h]=0,p=f+h;u<=p&&p<l&&(o[h]=f+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Fh(e))throw new I(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,Wy(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Yh(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Jc),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Jc),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Yh=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},Zh=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Jc=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Zh,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function v_(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Jh=class{constructor(){}supports(e){return e instanceof Map||Hc(e)}create(){return new Qh}},Qh=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||Hc(e)))throw new I(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new Xh(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},Xh=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(e){this.key=e}};function y_(){return new ep([new Wh])}var ep=(()=>{class t{factories;static \u0275prov=C({token:t,providedIn:"root",factory:y_});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:()=>{let r=w(t,{optional:!0,skipSelf:!0});return t.create(n,r||y_())}}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new I(901,!1)}}return t})();function __(){return new tp([new Jh])}var tp=(()=>{class t{static \u0275prov=C({token:t,providedIn:"root",factory:__});factories;constructor(n){this.factories=n}static create(n,r){if(r){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:()=>{let r=w(t,{optional:!0,skipSelf:!0});return t.create(n,r||__())}}}find(n){let r=this.factories.find(i=>i.supports(n));if(r)return r;throw new I(901,!1)}}return t})();function I_(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;ae(ne.BootstrapApplicationStart);try{let o=i?.injector??bT(r),s=[g_(),ov,...n||[]],a=new Yo({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return mT({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{ae(ne.BootstrapApplicationEnd)}}function np(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var S_=null;function mt(){return S_}function rp(t){S_??=t}var as=class{},Pi=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:()=>w(T_),providedIn:"platform"})}return t})();var T_=(()=>{class t extends Pi{_location;_history;_doc=w(be);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return mt().getBaseHref(this._doc)}onPopState(n){let r=mt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=mt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function A_(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function x_(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function Yn(t){return t&&t[0]!=="?"?`?${t}`:t}var Qc=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:()=>w(TT),providedIn:"root"})}return t})(),ST=new x(""),TT=(()=>{class t extends Qc{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??w(be).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return A_(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Yn(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Yn(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Yn(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(M(Pi),M(ST,8))};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Fi=(()=>{class t{_subject=new De;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=AT(x_(M_(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Yn(r))}normalize(n){return t.stripTrailingSlash(MT(this._basePath,M_(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Yn(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Yn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Yn;static joinWithSlash=A_;static stripTrailingSlash=x_;static \u0275fac=function(r){return new(r||t)(M(Qc))};static \u0275prov=C({token:t,factory:()=>xT(),providedIn:"root"})}return t})();function xT(){return new Fi(M(Qc))}function MT(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function M_(t){return t.replace(/\/index.html$/,"")}function AT(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Xc=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Li=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Xc(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),R_(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);R_(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(S(Ft),S(Xt),S(ep))};static \u0275dir=ue({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function R_(t,e){t.context.$implicit=e.item}var Vt=(()=>{class t{_viewContainer;_context=new el;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){N_(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){N_(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(S(Ft),S(Xt))};static \u0275dir=ue({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),el=class{$implicit=null;ngIf=null};function N_(t,e){if(t&&!t.createEmbeddedView)throw new I(2020,!1)}var tl=class{_viewContainerRef;_templateRef;_created=!1;constructor(e,n){this._viewContainerRef=e,this._templateRef=n}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}},cs=(()=>{class t{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(n){this._ngSwitch=n,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){let r=n===this._ngSwitch;return this._lastCasesMatched||=r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(let r of this._defaultViews)r.enforceState(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275dir=ue({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return t})(),sp=(()=>{class t{ngSwitch;_view;ngSwitchCase;constructor(n,r,i){this.ngSwitch=i,i._addCase(),this._view=new tl(n,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static \u0275fac=function(r){return new(r||t)(S(Ft),S(Xt),S(cs,9))};static \u0275dir=ue({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}})}return t})(),ap=(()=>{class t{constructor(n,r,i){i._addDefault(new tl(n,r))}static \u0275fac=function(r){return new(r||t)(S(Ft),S(Xt),S(cs,9))};static \u0275dir=ue({type:t,selectors:[["","ngSwitchDefault",""]]})}return t})();var cp=(()=>{class t{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(n,r,i){this._ngEl=n,this._differs=r,this._renderer=i}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){let n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){let[i,o]=n.split("."),s=i.indexOf("-")===-1?void 0:Ot.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||t)(S(Xe),S(tp),S(Wn))};static \u0275dir=ue({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return t})();function RT(t,e){return new I(2100,!1)}var ip=class{createSubscription(e,n,r){return Ee(()=>e.subscribe({next:n,error:r}))}dispose(e){Ee(()=>e.unsubscribe())}},op=class{createSubscription(e,n,r){return e.then(i=>n?.(i),i=>r?.(i)),{unsubscribe:()=>{n=null,r=null}}}dispose(e){e.unsubscribe()}},NT=new op,OT=new ip,lp=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=w(pt);constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r),r=>this.applicationErrorHandler(r))}_selectStrategy(n){if(En(n))return NT;if(qc(n))return OT;throw RT(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||t)(S(Lr,16))};static \u0275pipe=jh({name:"async",type:t,pure:!1})}return t})();var Zn=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=nn({type:t});static \u0275inj=St({})}return t})();function ls(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var jr=class{};var O_="browser";var us=class{_doc;constructor(e){this._doc=e}manager},nl=(()=>{class t extends us{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(M(be))};static \u0275prov=C({token:t,factory:t.\u0275fac})}return t})(),ol=new x(""),hp=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let i=n.filter(s=>!(s instanceof nl));this._plugins=i.slice().reverse();let o=n.find(s=>s instanceof nl);o&&this._plugins.push(o)}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new I(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(M(ol),M(Pe))};static \u0275prov=C({token:t,factory:t.\u0275fac})}return t})(),up="ng-app-id";function P_(t){for(let e of t)e.remove()}function F_(t,e){let n=e.createElement("style");return n.textContent=t,n}function kT(t,e,n,r){let i=t.head?.querySelectorAll(`style[${up}="${e}"],link[${up}="${e}"]`);if(i)for(let o of i)o.removeAttribute(up),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function fp(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var pp=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,kT(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,F_);r?.forEach(i=>this.addUsage(i,this.external,fp))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(P_(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])P_(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,F_(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,fp(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(M(be),M(Rc),M(Oc,8),M(Qo))};static \u0275prov=C({token:t,factory:t.\u0275fac})}return t})(),dp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},gp=/%COMP%/g;var j_="%COMP%",PT=`_nghost-${j_}`,FT=`_ngcontent-${j_}`,LT=!0,jT=new x("",{factory:()=>LT});function VT(t){return FT.replace(gp,t)}function UT(t){return PT.replace(gp,t)}function V_(t,e){return e.map(n=>n.replace(gp,t))}var mp=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(n,r,i,o,s,a,c=null,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=c,this.tracingService=l,this.defaultRenderer=new ds(n,s,a,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof il?i.applyToHost(n):i instanceof fs&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.tracingService;switch(r.encapsulation){case Nt.Emulated:o=new il(c,l,r,this.appId,u,s,a,d);break;case Nt.ShadowDom:return new rl(c,n,r,s,a,this.nonce,d,l);case Nt.ExperimentalIsolatedShadowDom:return new rl(c,n,r,s,a,this.nonce,d);default:o=new fs(c,l,r,u,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(M(hp),M(pp),M(Rc),M(jT),M(be),M(Pe),M(Oc),M(wn,8))};static \u0275prov=C({token:t,factory:t.\u0275fac})}return t})(),ds=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(dp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(L_(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(L_(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new I(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=dp[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=dp[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Ot.DashCase|Ot.Important)?e.style.setProperty(n,r,i&Ot.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Ot.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=mt().getGlobalEventTarget(this.doc,e),!e))throw new I(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function L_(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var rl=class extends ds{hostEl;sharedStylesHost;shadowRoot;constructor(e,n,r,i,o,s,a,c){super(e,i,o,a),this.hostEl=n,this.sharedStylesHost=c,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let l=r.styles;l=V_(r.id,l);for(let d of l){let h=document.createElement("style");s&&h.setAttribute("nonce",s),h.textContent=d,this.shadowRoot.appendChild(h)}let u=r.getExternalStyles?.();if(u)for(let d of u){let h=fp(d,i);s&&h.setAttribute("nonce",s),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},fs=class extends ds{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let l=r.styles;this.styles=c?V_(c,l):l,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&xi.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},il=class extends fs{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=VT(l),this.hostAttr=UT(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var sl=class t extends as{supportsDOMEvents=!0;static makeCurrent(){rp(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=BT();return n==null?null:$T(n)}resetBaseElement(){hs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ls(document.cookie,e)}},hs=null;function BT(){return hs=hs||document.head.querySelector("base"),hs?hs.getAttribute("href"):null}function $T(t){return new URL(t,document.baseURI).pathname}var HT=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:t.\u0275fac})}return t})(),U_=["alt","control","meta","shift"],zT={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},GT={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},B_=(()=>{class t extends us{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>mt().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),U_.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=zT[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),U_.forEach(s=>{if(s!==i){let a=GT[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(M(be))};static \u0275prov=C({token:t,factory:t.\u0275fac})}return t})();async function vp(t,e,n){let r=D({rootComponent:t},qT(e,n));return I_(r)}function qT(t,e){return{platformRef:e?.platformRef,appProviders:[...JT,...t?.providers??[]],platformProviders:ZT}}function WT(){sl.makeCurrent()}function KT(){return new qt}function YT(){return ah(document),document}var ZT=[{provide:Qo,useValue:O_},{provide:Nc,useValue:WT,multi:!0},{provide:be,useFactory:YT}];var JT=[{provide:Po,useValue:"root"},{provide:qt,useFactory:KT},{provide:ol,useClass:nl,multi:!0},{provide:ol,useClass:B_,multi:!0},mp,pp,hp,{provide:Sr,useExisting:mp},{provide:jr,useClass:HT},[]];var sn=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(e,n){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var cl=class{map=new Map;set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}},ll=class{encodeKey(e){return $_(e)}encodeValue(e){return $_(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function QT(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var XT=/%(\d[a-f0-9])/gi,ex={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function $_(t){return encodeURIComponent(t).replace(XT,(e,n)=>ex[n]??e)}function al(t){return`${t}`}var Cn=class t{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new ll,e.fromString){if(e.fromObject)throw new I(2805,!1);this.map=QT(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(al):[al(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(al(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(al(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};function tx(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function H_(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function z_(t){return typeof Blob<"u"&&t instanceof Blob}function G_(t){return typeof FormData<"u"&&t instanceof FormData}function nx(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var q_="Content-Type",W_="Accept",Y_="text/plain",Z_="application/json",rx=`${Z_}, ${Y_}, */*`,ji=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,n,r,i){this.url=n,this.method=e.toUpperCase();let o;if(tx(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new I(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),o.referrerPolicy&&(this.referrerPolicy=o.referrerPolicy),this.transferCache=o.transferCache}if(this.headers??=new sn,this.context??=new cl,!this.params)this.params=new Cn,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||H_(this.body)||z_(this.body)||G_(this.body)||nx(this.body)?this.body:this.body instanceof Cn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||G_(this.body)?null:z_(this.body)?this.body.type||null:H_(this.body)?null:typeof this.body=="string"?Y_:this.body instanceof Cn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Z_:null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.priority||this.priority,a=e.cache||this.cache,c=e.mode||this.mode,l=e.redirect||this.redirect,u=e.credentials||this.credentials,d=e.referrer||this.referrer,h=e.integrity||this.integrity,f=e.referrerPolicy||this.referrerPolicy,p=e.transferCache??this.transferCache,v=e.timeout??this.timeout,y=e.body!==void 0?e.body:this.body,m=e.withCredentials??this.withCredentials,N=e.reportProgress??this.reportProgress,T=e.headers||this.headers,E=e.params||this.params,Y=e.context??this.context;return e.setHeaders!==void 0&&(T=Object.keys(e.setHeaders).reduce((Ue,te)=>Ue.set(te,e.setHeaders[te]),T)),e.setParams&&(E=Object.keys(e.setParams).reduce((Ue,te)=>Ue.set(te,e.setParams[te]),E)),new t(n,r,y,{params:E,headers:T,context:Y,reportProgress:N,responseType:i,withCredentials:m,transferCache:p,keepalive:o,cache:a,priority:s,timeout:v,mode:c,redirect:l,credentials:u,referrer:d,integrity:h,referrerPolicy:f})}},Vr=(function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t})(Vr||{}),Ui=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(e,n=200,r="OK"){this.headers=e.headers||new sn,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.responseType=e.responseType,this.ok=this.status>=200&&this.status<300}},ul=class t extends Ui{constructor(e={}){super(e)}type=Vr.ResponseHeader;clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ps=class t extends Ui{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Vr.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected,responseType:e.responseType??this.responseType})}},Vi=class extends Ui{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},ix=200,ox=204;var sx=new x("");var ax=/^\)\]\}',?\n/;var _p=(()=>{class t{xhrFactory;tracingService=w(wn,{optional:!0});constructor(n){this.xhrFactory=n}maybePropagateTrace(n){return this.tracingService?.propagate?this.tracingService.propagate(n):n}handle(n){if(n.method==="JSONP")throw new I(-2800,!1);let r=this.xhrFactory;return J(null).pipe(Je(()=>new ee(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((y,m)=>s.setRequestHeader(y,m.join(","))),n.headers.has(W_)||s.setRequestHeader(W_,rx),!n.headers.has(q_)){let y=n.detectContentTypeHeader();y!==null&&s.setRequestHeader(q_,y)}if(n.timeout&&(s.timeout=n.timeout),n.responseType){let y=n.responseType.toLowerCase();s.responseType=y!=="json"?y:"text"}let a=n.serializeBody(),c=null,l=()=>{if(c!==null)return c;let y=s.statusText||"OK",m=new sn(s.getAllResponseHeaders()),N=s.responseURL||n.url;return c=new ul({headers:m,status:s.status,statusText:y,url:N}),c},u=this.maybePropagateTrace(()=>{let{headers:y,status:m,statusText:N,url:T}=l(),E=null;m!==ox&&(E=typeof s.response>"u"?s.responseText:s.response),m===0&&(m=E?ix:0);let Y=m>=200&&m<300;if(n.responseType==="json"&&typeof E=="string"){let Ue=E;E=E.replace(ax,"");try{E=E!==""?JSON.parse(E):null}catch(te){E=Ue,Y&&(Y=!1,E={error:te,text:E})}}Y?(o.next(new ps({body:E,headers:y,status:m,statusText:N,url:T||void 0})),o.complete()):o.error(new Vi({error:E,headers:y,status:m,statusText:N,url:T||void 0}))}),d=this.maybePropagateTrace(y=>{let{url:m}=l(),N=new Vi({error:y,status:s.status||0,statusText:s.statusText||"Unknown Error",url:m||void 0});o.error(N)}),h=d;n.timeout&&(h=this.maybePropagateTrace(y=>{let{url:m}=l(),N=new Vi({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:m||void 0});o.error(N)}));let f=!1,p=this.maybePropagateTrace(y=>{f||(o.next(l()),f=!0);let m={type:Vr.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(m.total=y.total),n.responseType==="text"&&s.responseText&&(m.partialText=s.responseText),o.next(m)}),v=this.maybePropagateTrace(y=>{let m={type:Vr.UploadProgress,loaded:y.loaded};y.lengthComputable&&(m.total=y.total),o.next(m)});return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",h),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",p),a!==null&&s.upload&&s.upload.addEventListener("progress",v)),s.send(a),o.next({type:Vr.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",h),n.reportProgress&&(s.removeEventListener("progress",p),a!==null&&s.upload&&s.upload.removeEventListener("progress",v)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||t)(M(jr))};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function J_(t,e){return e(t)}function cx(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function lx(t,e,n){return(r,i)=>Me(n,()=>e(r,o=>t(o,i)))}var Q_=new x(""),fl=new x("",{factory:()=>[]}),X_=new x(""),bp=new x("",{factory:()=>!0});function ux(){let t=null;return(e,n)=>{t===null&&(t=(w(Q_,{optional:!0})??[]).reduceRight(cx,J_));let r=w(zo);if(w(bp)){let o=r.add();return t(e,n).pipe(fn(o))}else return t(e,n)}}var wp=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:function(r){let i=null;return r?i=new(r||t):i=M(_p),i},providedIn:"root"})}return t})();var dl=(()=>{class t{backend;injector;chain=null;pendingTasks=w(zo);contributeToStability=w(bp);constructor(n,r){this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(fl),...this.injector.get(X_,[])]));this.chain=r.reduceRight((i,o)=>lx(i,o,this.injector),J_)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(fn(r))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||t)(M(wp),M(ye))};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ep=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:function(r){let i=null;return r?i=new(r||t):i=M(dl),i},providedIn:"root"})}return t})();function yp(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,credentials:t.credentials,transferCache:t.transferCache,timeout:t.timeout,keepalive:t.keepalive,priority:t.priority,cache:t.cache,mode:t.mode,redirect:t.redirect,integrity:t.integrity,referrer:t.referrer,referrerPolicy:t.referrerPolicy}}var vt=(()=>{class t{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof ji)o=n;else{let c;i.headers instanceof sn?c=i.headers:c=new sn(i.headers);let l;i.params&&(i.params instanceof Cn?l=i.params:l=new Cn({fromObject:i.params})),o=new ji(n,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,referrerPolicy:i.referrerPolicy,integrity:i.integrity,timeout:i.timeout})}let s=J(o).pipe(fi(c=>this.handler.handle(c)));if(n instanceof ji||i.observe==="events")return s;let a=s.pipe(Ct(c=>c instanceof ps));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ce(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new I(2806,!1);return c.body}));case"blob":return a.pipe(ce(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new I(2807,!1);return c.body}));case"text":return a.pipe(ce(c=>{if(c.body!==null&&typeof c.body!="string")throw new I(2808,!1);return c.body}));default:return a.pipe(ce(c=>c.body))}case"response":return a;default:throw new I(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Cn().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,yp(i,r))}post(n,r,i={}){return this.request("POST",n,yp(i,r))}put(n,r,i={}){return this.request("PUT",n,yp(i,r))}static \u0275fac=function(r){return new(r||t)(M(Ep))};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var dx=new x("",{factory:()=>!0}),fx="XSRF-TOKEN",hx=new x("",{factory:()=>fx}),px="X-XSRF-TOKEN",gx=new x("",{factory:()=>px}),mx=(()=>{class t{cookieName=w(hx);doc=w(be);lastCookieString="";lastToken=null;parseCount=0;getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=ls(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),eb=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:function(r){let i=null;return r?i=new(r||t):i=M(mx),i},providedIn:"root"})}return t})();function vx(t,e){if(!w(dx)||t.method==="GET"||t.method==="HEAD")return e(t);try{let i=w(Pi).href,{origin:o}=new URL(i),{origin:s}=new URL(t.url,o);if(o!==s)return e(t)}catch{return e(t)}let n=w(eb).getToken(),r=w(gx);return n!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,n)})),e(t)}var hl=(function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t})(hl||{});function tb(t,e){return{\u0275kind:t,\u0275providers:e}}function pl(...t){let e=[vt,dl,{provide:Ep,useExisting:dl},{provide:wp,useFactory:()=>w(sx,{optional:!0})??w(_p)},{provide:fl,useValue:vx,multi:!0}];for(let n of t)e.push(...n.\u0275providers);return vr(e)}function Dp(t){return tb(hl.Interceptors,t.map(e=>({provide:fl,useValue:e,multi:!0})))}var K_=new x("");function nb(){return tb(hl.LegacyInterceptors,[{provide:K_,useFactory:ux},{provide:fl,useExisting:K_,multi:!0}])}var Cp=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=nn({type:t});static \u0275inj=St({providers:[pl(nb())]})}return t})();var rb=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(M(be))};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ip=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:function(r){let i=null;return r?i=new(r||t):i=M(yx),i},providedIn:"root"})}return t})(),yx=(()=>{class t extends Ip{_doc;constructor(n){super(),this._doc=n}sanitize(n,r){if(r==null)return null;switch(n){case kt.NONE:return r;case kt.HTML:return _n(r,"HTML")?tn(r):gh(this._doc,String(r)).toString();case kt.STYLE:return _n(r,"Style")?tn(r):r;case kt.SCRIPT:if(_n(r,"Script"))return tn(r);throw new I(5200,!1);case kt.URL:return _n(r,"URL")?tn(r):Xo(String(r));case kt.RESOURCE_URL:if(_n(r,"ResourceURL"))return tn(r);throw new I(5201,!1);default:throw new I(5202,!1)}}bypassSecurityTrustHtml(n){return uh(n)}bypassSecurityTrustStyle(n){return dh(n)}bypassSecurityTrustScript(n){return fh(n)}bypassSecurityTrustUrl(n){return hh(n)}bypassSecurityTrustResourceUrl(n){return ph(n)}static \u0275fac=function(r){return new(r||t)(M(be))};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var H="primary",Ts=Symbol("RouteTitle"),Ap=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function $r(t){return new Ap(t)}function Sp(t,e,n){for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(i[0]===":")n[i.substring(1)]=o;else if(i!==o.path)return!1}return!0}function pb(t,e,n){let r=n.path.split("/"),i=r.indexOf("**");if(i===-1){if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let c={},l=t.slice(0,r.length);return Sp(r,l,c)?{consumed:l,posParams:c}:null}if(i!==r.lastIndexOf("**"))return null;let o=r.slice(0,i),s=r.slice(i+1);if(o.length+s.length>t.length||n.pathMatch==="full"&&e.hasChildren()&&n.path!=="**")return null;let a={};return!Sp(o,t.slice(0,o.length),a)||!Sp(s,t.slice(t.length-s.length),a)?null:{consumed:t,posParams:a}}function bl(t){return new Promise((e,n)=>{t.pipe(hn()).subscribe({next:r=>e(r),error:r=>n(r)})})}function _x(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!an(t[n],e[n]))return!1;return!0}function an(t,e){let n=t?Rp(t):void 0,r=e?Rp(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!gb(t[i],e[i]))return!1;return!0}function Rp(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function gb(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function bx(t){return t.length>0?t[t.length-1]:null}function Gr(t){return Oa(t)?t:En(t)?ve(Promise.resolve(t)):J(t)}function mb(t){return Oa(t)?bl(t):Promise.resolve(t)}var wx={exact:yb,subset:_b},vb={exact:Ex,subset:Dx,ignored:()=>!0};function ob(t,e,n){return wx[n.paths](t.root,e.root,n.matrixParams)&&vb[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function Ex(t,e){return an(t,e)}function yb(t,e,n){if(!Ur(t.segments,e.segments)||!vl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!yb(t.children[r],e.children[r],n))return!1;return!0}function Dx(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>gb(t[n],e[n]))}function _b(t,e,n){return bb(t,e,e.segments,n)}function bb(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Ur(i,n)||e.hasChildren()||!vl(i,n,r))}else if(t.segments.length===n.length){if(!Ur(t.segments,n)||!vl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!_b(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Ur(t.segments,i)||!vl(t.segments,i,r)||!t.children[H]?!1:bb(t.children[H],e,o,r)}}function vl(t,e,n){return e.every((r,i)=>vb[n](t[i].parameters,r.parameters))}var Bt=class{root;queryParams;fragment;_queryParamMap;constructor(e=new re([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=$r(this.queryParams),this._queryParamMap}toString(){return Sx.serialize(this)}},re=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yl(this)}},Jn=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=$r(this.parameters),this._parameterMap}toString(){return Eb(this)}};function Cx(t,e){return Ur(t,e)&&t.every((n,r)=>an(n.parameters,e[r].parameters))}function Ur(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Ix(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===H&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==H&&(n=n.concat(e(i,r)))}),n}var xs=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:()=>new Qn,providedIn:"root"})}return t})(),Qn=class{parse(e){let n=new Op(e);return new Bt(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ms(e.root,!0)}`,r=Mx(e.queryParams),i=typeof e.fragment=="string"?`#${Tx(e.fragment)}`:"";return`${n}${r}${i}`}},Sx=new Qn;function yl(t){return t.segments.map(e=>Eb(e)).join("/")}function ms(t,e){if(!t.hasChildren())return yl(t);if(e){let n=t.children[H]?ms(t.children[H],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==H&&r.push(`${i}:${ms(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Ix(t,(r,i)=>i===H?[ms(t.children[H],!1)]:[`${i}:${ms(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[H]!=null?`${yl(t)}/${n[0]}`:`${yl(t)}/(${n.join("//")})`}}function wb(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gl(t){return wb(t).replace(/%3B/gi,";")}function Tx(t){return encodeURI(t)}function Np(t){return wb(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _l(t){return decodeURIComponent(t)}function sb(t){return _l(t.replace(/\+/g,"%20"))}function Eb(t){return`${Np(t.path)}${xx(t.parameters)}`}function xx(t){return Object.entries(t).map(([e,n])=>`;${Np(e)}=${Np(n)}`).join("")}function Mx(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${gl(n)}=${gl(i)}`).join("&"):`${gl(n)}=${gl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var Ax=/^[^\/()?;#]+/;function Tp(t){let e=t.match(Ax);return e?e[0]:""}var Rx=/^[^\/()?;=#]+/;function Nx(t){let e=t.match(Rx);return e?e[0]:""}var Ox=/^[^=?&#]+/;function kx(t){let e=t.match(Ox);return e?e[0]:""}var Px=/^[^&#]+/;function Fx(t){let e=t.match(Px);return e?e[0]:""}var Op=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new re([],{}):new re([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[H]=new re(e,n)),r}parseSegment(){let e=Tp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new I(4009,!1);return this.capture(e),new Jn(_l(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Nx(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Tp(this.remaining);i&&(r=i,this.capture(r))}e[_l(n)]=_l(r)}parseQueryParam(e){let n=kx(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=Fx(this.remaining);s&&(r=s,this.capture(r))}let i=sb(n),o=sb(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Tp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new I(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=H);let s=this.parseChildren();n[o??H]=Object.keys(s).length===1&&s[H]?s[H]:new re([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new I(4011,!1)}};function Db(t){return t.segments.length>0?new re([],{[H]:t}):t}function Cb(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=Cb(i);if(r===H&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new re(t.segments,e);return Lx(n)}function Lx(t){if(t.numberOfChildren===1&&t.children[H]){let e=t.children[H];return new re(t.segments.concat(e.segments),e.children)}return t}function zi(t){return t instanceof Bt}function Ib(t,e,n=null,r=null,i=new Qn){let o=Sb(t);return Tb(o,e,n,r,i)}function Sb(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new re(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=Db(r);return e??i}function Tb(t,e,n,r,i){let o=t;for(;o.parent;)o=o.parent;if(e.length===0)return xp(o,o,o,n,r,i);let s=jx(e);if(s.toRoot())return xp(o,o,new re([],{}),n,r,i);let a=Vx(s,o,t),c=a.processChildren?ys(a.segmentGroup,a.index,s.commands):Mb(a.segmentGroup,a.index,s.commands);return xp(o,a.segmentGroup,c,n,r,i)}function wl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ws(t){return typeof t=="object"&&t!=null&&t.outlets}function ab(t,e,n){t||="\u0275";let r=new Bt;return r.queryParams={[t]:e},n.parse(n.serialize(r)).queryParams[t]}function xp(t,e,n,r,i,o){let s={};for(let[l,u]of Object.entries(r??{}))s[l]=Array.isArray(u)?u.map(d=>ab(l,d,o)):ab(l,u,o);let a;t===e?a=n:a=xb(t,e,n);let c=Db(Cb(a));return new Bt(c,s,i)}function xb(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=xb(o,e,n)}),new re(t.segments,r)}var El=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&wl(r[0]))throw new I(4003,!1);let i=r.find(ws);if(i&&i!==bx(r))throw new I(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function jx(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new El(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new El(n,e,r)}var $i=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function Vx(t,e,n){if(t.isAbsolute)return new $i(e,!0,0);if(!n)return new $i(e,!1,NaN);if(n.parent===null)return new $i(n,!0,0);let r=wl(t.commands[0])?0:1,i=n.segments.length-1+r;return Ux(n,i,t.numberOfDoubleDots)}function Ux(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new I(4005,!1);i=r.segments.length}return new $i(r,!1,i-o)}function Bx(t){return ws(t[0])?t[0].outlets:{[H]:t}}function Mb(t,e,n){if(t??=new re([],{}),t.segments.length===0&&t.hasChildren())return ys(t,e,n);let r=$x(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new re(t.segments.slice(0,r.pathIndex),{});return o.children[H]=new re(t.segments.slice(r.pathIndex),t.children),ys(o,0,i)}else return r.match&&i.length===0?new re(t.segments,{}):r.match&&!t.hasChildren()?kp(t,e,n):r.match?ys(t,0,i):kp(t,e,n)}function ys(t,e,n){if(n.length===0)return new re(t.segments,{});{let r=Bx(n),i={};if(Object.keys(r).some(o=>o!==H)&&t.children[H]&&t.numberOfChildren===1&&t.children[H].segments.length===0){let o=ys(t.children[H],e,n);return new re(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Mb(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new re(t.segments,i)}}function $x(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(ws(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!lb(c,l,s))return o;r+=2}else{if(!lb(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function kp(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(ws(o)){let c=Hx(o.outlets);return new re(r,c)}if(i===0&&wl(n[0])){let c=t.segments[e];r.push(new Jn(c.path,cb(n[0]))),i++;continue}let s=ws(o)?o.outlets[H]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&wl(a)?(r.push(new Jn(s,cb(a))),i+=2):(r.push(new Jn(s,{})),i++)}return new re(r,{})}function Hx(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=kp(new re([],{}),0,r))}),e}function cb(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function lb(t,e,n){return t==n.path&&an(e,n.parameters)}var _s="imperative",Ae=(function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t})(Ae||{}),at=class{id;url;constructor(e,n){this.id=e,this.url=n}},Hr=class extends at{type=Ae.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Sn=class extends at{urlAfterRedirects;type=Ae.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},He=(function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t})(He||{}),Es=(function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t})(Es||{}),yt=class extends at{reason;code;type=Ae.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}};function Ab(t){return t instanceof yt&&(t.code===He.Redirect||t.code===He.SupersededByNewNavigation)}var Tn=class extends at{reason;code;type=Ae.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},zr=class extends at{error;target;type=Ae.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Gi=class extends at{urlAfterRedirects;state;type=Ae.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dl=class extends at{urlAfterRedirects;state;type=Ae.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cl=class extends at{urlAfterRedirects;state;shouldActivate;type=Ae.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Il=class extends at{urlAfterRedirects;state;type=Ae.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sl=class extends at{urlAfterRedirects;state;type=Ae.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tl=class{route;type=Ae.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},xl=class{route;type=Ae.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ml=class{snapshot;type=Ae.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Al=class{snapshot;type=Ae.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rl=class{snapshot;type=Ae.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Nl=class{snapshot;type=Ae.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var qi=class{},Wi=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function zx(t){return!(t instanceof qi)&&!(t instanceof Wi)}var Ol=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return this.route?.snapshot._environmentInjector??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Zi(this.rootInjector)}},Zi=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Ol(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(M(ye))};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),kl=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Pp(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Pp(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Fp(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Fp(e,this._root).map(n=>n.value)}};function Pp(t,e){if(t===e.value)return e;for(let n of e.children){let r=Pp(t,n);if(r)return r}return null}function Fp(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Fp(t,n);if(r.length)return r.unshift(e),r}return[]}var st=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Bi(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Ds=class extends kl{snapshot;constructor(e,n){super(e),this.snapshot=n,zp(this,e)}toString(){return this.snapshot.toString()}};function Rb(t,e){let n=Gx(t,e),r=new Ce([new Jn("",{})]),i=new Ce({}),o=new Ce({}),s=new Ce({}),a=new Ce(""),c=new Xn(r,i,s,a,o,H,t,n.root);return c.snapshot=n.root,new Ds(new st(c,[]),n)}function Gx(t,e){let n={},r={},i={},s=new Br([],n,i,"",r,H,t,null,{},e);return new Cs("",new st(s,[]))}var Xn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ce(l=>l[Ts]))??J(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ce(e=>$r(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ce(e=>$r(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Pl(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:D(D({},e.params),t.params),data:D(D({},e.data),t.data),resolve:D(D(D(D({},t.data),e.data),i?.data),t._resolvedData)}:r={params:D({},t.params),data:D({},t.data),resolve:D(D({},t.data),t._resolvedData??{})},i&&Ob(i)&&(r.resolve[Ts]=i.title),r}var Br=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;_environmentInjector;get title(){return this.data?.[Ts]}constructor(e,n,r,i,o,s,a,c,l,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l,this._environmentInjector=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=$r(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=$r(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Cs=class extends kl{url;constructor(e,n){super(n),this.url=e,zp(this,n)}toString(){return Nb(this._root)}};function zp(t,e){e.value._routerState=t,e.children.forEach(n=>zp(t,n))}function Nb(t){let e=t.children.length>0?` { ${t.children.map(Nb).join(", ")} } `:"";return`${t.value}${e}`}function Mp(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,an(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),an(e.params,n.params)||t.paramsSubject.next(n.params),_x(e.url,n.url)||t.urlSubject.next(n.url),an(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Lp(t,e){let n=an(t.params,e.params)&&Cx(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Lp(t.parent,e.parent))}function Ob(t){return typeof t.title=="string"||t.title===null}var kb=new x(""),Ms=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=H;activateEvents=new K;deactivateEvents=new K;attachEvents=new K;detachEvents=new K;routerOutletData=C_();parentContexts=w(Zi);location=w(Ft);changeDetector=w(Lr);inputBinder=w(Vl,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new I(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new jp(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=ue({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[en]})}return t})(),jp=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===Xn?this.route:e===Zi?this.childContexts:e===kb?this.outletData:this.parent.get(e,n)}},Vl=new x("");var Gp=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=pe({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Q(0,"router-outlet")},dependencies:[Ms],encapsulation:2})}return t})();function qp(t){let e=t.children&&t.children.map(qp),n=e?Z(D({},t),{children:e}):D({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==H&&(n.component=Gp),n}function qx(t,e,n){let r=Is(t,e._root,n?n._root:void 0);return new Ds(r,e)}function Is(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=Wx(t,e,n);return new st(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Is(t,a)),s}}let r=Kx(e.value),i=e.children.map(o=>Is(t,o));return new st(r,i)}}function Wx(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Is(t,r,i);return Is(t,r)})}function Kx(t){return new Xn(new Ce(t.url),new Ce(t.params),new Ce(t.queryParams),new Ce(t.fragment),new Ce(t.data),t.outlet,t.component,t)}var Ki=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},Pb="ngNavigationCancelingError";function Fl(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=zi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Fb(!1,He.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Fb(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Pb]=!0,n.cancellationCode=e,n}function Yx(t){return Lb(t)&&zi(t.url)}function Lb(t){return!!t&&t[Pb]}var Vp=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Mp(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Bi(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Bi(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Bi(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Bi(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Nl(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Al(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Mp(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Mp(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Ll=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Hi=class{component;route;constructor(e,n){this.component=e,this.route=n}};function Zx(t,e,n){let r=t._root,i=e?e._root:null;return vs(r,i,n,[r.value])}function Jx(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ji(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!xd(t)?t:e.get(t):r}function vs(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Bi(e);return t.children.forEach(s=>{Qx(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>bs(a,n.getContext(s),i)),i}function Qx(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=Xx(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Ll(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?vs(t,e,a?a.children:null,r,i):vs(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Hi(a.outlet.component,s))}else s&&bs(e,a,i),i.canActivateChecks.push(new Ll(r)),o.component?vs(t,null,a?a.children:null,r,i):vs(t,null,n,r,i);return i}function Xx(t,e,n){if(typeof n=="function")return Me(e._environmentInjector,()=>n(t,e));switch(n){case"pathParamsChange":return!Ur(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ur(t.url,e.url)||!an(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Lp(t,e)||!an(t.queryParams,e.queryParams);default:return!Lp(t,e)}}function bs(t,e,n){let r=Bi(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?bs(s,e.children.getContext(o),n):bs(s,null,n):bs(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Hi(e.outlet.component,i)):n.canDeactivateChecks.push(new Hi(null,i)):n.canDeactivateChecks.push(new Hi(null,i))}function As(t){return typeof t=="function"}function eM(t){return typeof t=="boolean"}function tM(t){return t&&As(t.canLoad)}function nM(t){return t&&As(t.canActivate)}function rM(t){return t&&As(t.canActivateChild)}function iM(t){return t&&As(t.canDeactivate)}function oM(t){return t&&As(t.canMatch)}function jb(t){return t instanceof ur||t?.name==="EmptyError"}var ml=Symbol("INITIAL_VALUE");function Yi(){return Je(t=>cd(t.map(e=>e.pipe(dn(1),ud(ml)))).pipe(ce(e=>{for(let n of e)if(n!==!0){if(n===ml)return ml;if(n===!1||sM(n))return n}return!0}),Ct(e=>e!==ml),dn(1)))}function sM(t){return zi(t)||t instanceof Ki}function Vb(t){return t.aborted?J(void 0).pipe(dn(1)):new ee(e=>{let n=()=>{e.next(),e.complete()};return t.addEventListener("abort",n),()=>t.removeEventListener("abort",n)})}function Ub(t){return To(Vb(t))}function aM(t){return qe(e=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:i,canDeactivateChecks:o}}=e;return o.length===0&&i.length===0?J(Z(D({},e),{guardsResult:!0})):cM(o,n,r).pipe(qe(s=>s&&eM(s)?lM(n,i,t):J(s)),ce(s=>Z(D({},e),{guardsResult:s})))})}function cM(t,e,n){return ve(t).pipe(qe(r=>pM(r.component,r.route,n,e)),hn(r=>r!==!0,!0))}function lM(t,e,n){return ve(e).pipe(fi(r=>di(dM(r.route.parent,n),uM(r.route,n),hM(t,r.path),fM(t,r.route))),hn(r=>r!==!0,!0))}function uM(t,e){return t!==null&&e&&e(new Rl(t)),J(!0)}function dM(t,e){return t!==null&&e&&e(new Ml(t)),J(!0)}function fM(t,e){let n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||n.length===0)return J(!0);let r=n.map(i=>Io(()=>{let o=e._environmentInjector,s=Ji(i,o),a=nM(s)?s.canActivate(e,t):Me(o,()=>s(e,t));return Gr(a).pipe(hn())}));return J(r).pipe(Yi())}function hM(t,e){let n=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(o=>Jx(o)).filter(o=>o!==null).map(o=>Io(()=>{let s=o.guards.map(a=>{let c=o.node._environmentInjector,l=Ji(a,c),u=rM(l)?l.canActivateChild(n,t):Me(c,()=>l(n,t));return Gr(u).pipe(hn())});return J(s).pipe(Yi())}));return J(i).pipe(Yi())}function pM(t,e,n,r){let i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!i||i.length===0)return J(!0);let o=i.map(s=>{let a=e._environmentInjector,c=Ji(s,a),l=iM(c)?c.canDeactivate(t,e,n,r):Me(a,()=>c(t,e,n,r));return Gr(l).pipe(hn())});return J(o).pipe(Yi())}function gM(t,e,n,r,i){let o=e.canLoad;if(o===void 0||o.length===0)return J(!0);let s=o.map(a=>{let c=Ji(a,t),l=tM(c)?c.canLoad(e,n):Me(t,()=>c(e,n)),u=Gr(l);return i?u.pipe(Ub(i)):u});return J(s).pipe(Yi(),Bb(r))}function Bb(t){return id(zt(e=>{if(typeof e!="boolean")throw Fl(t,e)}),ce(e=>e===!0))}function mM(t,e,n,r,i){let o=e.canMatch;if(!o||o.length===0)return J(!0);let s=o.map(a=>{let c=Ji(a,t),l=oM(c)?c.canMatch(e,n):Me(t,()=>c(e,n));return Gr(l).pipe(Ub(i))});return J(s).pipe(Yi(),Bb(r))}var In=class t extends Error{segmentGroup;constructor(e){super(),this.segmentGroup=e||null,Object.setPrototypeOf(this,t.prototype)}},Ss=class t extends Error{urlTree;constructor(e){super(),this.urlTree=e,Object.setPrototypeOf(this,t.prototype)}};function vM(t){throw new I(4e3,!1)}function yM(t){throw Fb(!1,He.GuardRejected)}var Up=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}async lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[H])throw vM(`${e.redirectTo}`);i=i.children[H]}}async applyRedirectCommands(e,n,r,i,o){let s=await _M(n,i,o);if(s instanceof Bt)throw new Ss(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Ss(a);return a}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Bt(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new re(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new I(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}};function _M(t,e,n){if(typeof t=="string")return Promise.resolve(t);let r=t,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:l,data:u,title:d,paramMap:h,queryParamMap:f}=e;return bl(Gr(Me(n,()=>r({params:l,data:u,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:d,paramMap:h,queryParamMap:f}))))}function bM(t,e){return t.providers&&!t._injector&&(t._injector=rs(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Ut(t){return t.outlet||H}function wM(t,e){let n=t.filter(r=>Ut(r)===e);return n.push(...t.filter(r=>Ut(r)!==e)),n}var Bp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function EM(t,e,n,r,i,o){let s=$b(t,e,n);return s.matched?(r=bM(e,r),mM(r,e,n,i,o).pipe(ce(a=>a===!0?s:D({},Bp)))):J(s)}function $b(t,e,n){if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?D({},Bp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||pb)(n,t,e);if(!i)return D({},Bp);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?D(D({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function ub(t,e,n,r){return n.length>0&&IM(t,n,r)?{segmentGroup:new re(e,CM(r,new re(n,t.children))),slicedSegments:[]}:n.length===0&&SM(t,n,r)?{segmentGroup:new re(t.segments,DM(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new re(t.segments,t.children),slicedSegments:n}}function DM(t,e,n,r){let i={};for(let o of n)if(Ul(t,e,o)&&!r[Ut(o)]){let s=new re([],{});i[Ut(o)]=s}return D(D({},r),i)}function CM(t,e){let n={};n[H]=e;for(let r of t)if(r.path===""&&Ut(r)!==H){let i=new re([],{});n[Ut(r)]=i}return n}function IM(t,e,n){return n.some(r=>Ul(t,e,r)&&Ut(r)!==H)}function SM(t,e,n){return n.some(r=>Ul(t,e,r))}function Ul(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function TM(t,e,n){return e.length===0&&!t.children[n]}var $p=class{};async function xM(t,e,n,r,i,o,s="emptyOnly",a){return new Hp(t,e,n,r,i,s,o,a).recognize()}var MM=31,Hp=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=c,this.applyRedirects=new Up(this.urlSerializer,this.urlTree)}noMatchError(e){return new I(4002,`'${e.segmentGroup}'`)}async recognize(){let e=ub(this.urlTree.root,[],[],this.config).segmentGroup,{children:n,rootSnapshot:r}=await this.match(e),i=new st(r,n),o=new Cs("",i),s=Ib(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}async match(e){let n=new Br([],Object.freeze({}),Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),H,this.rootComponentType,null,{},this.injector);try{return{children:await this.processSegmentGroup(this.injector,this.config,e,H,n),rootSnapshot:n}}catch(r){if(r instanceof Ss)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof In?this.noMatchError(r):r}}async processSegmentGroup(e,n,r,i,o){if(r.segments.length===0&&r.hasChildren())return this.processChildren(e,n,r,o);let s=await this.processSegment(e,n,r,r.segments,i,!0,o);return s instanceof st?[s]:[]}async processChildren(e,n,r,i){let o=[];for(let c of Object.keys(r.children))c==="primary"?o.unshift(c):o.push(c);let s=[];for(let c of o){let l=r.children[c],u=wM(n,c),d=await this.processSegmentGroup(e,u,l,c,i);s.push(...d)}let a=Hb(s);return AM(a),a}async processSegment(e,n,r,i,o,s,a){for(let c of n)try{return await this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,s,a)}catch(l){if(l instanceof In||jb(l))continue;throw l}if(TM(r,i,o))return new $p;throw new In(r)}async processSegmentAgainstRoute(e,n,r,i,o,s,a,c){if(Ut(r)!==s&&(s===H||!Ul(i,o,r)))throw new In(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(e,i,r,o,s,c);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,c);throw new In(i)}async expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=$b(n,i,o);if(!c)throw new In(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>MM&&(this.allowRedirects=!1));let f=new Br(o,l,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,db(i),Ut(i),i.component??i._loadedComponent??null,i,fb(i),e),p=Pl(f,a,this.paramsInheritanceStrategy);if(f.params=Object.freeze(p.params),f.data=Object.freeze(p.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let v=await this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,f,e),y=await this.applyRedirects.lineralizeSegments(i,v);return this.processSegment(e,r,n,y.concat(h),s,!1,a)}async matchSegmentAgainstRoute(e,n,r,i,o,s){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await bl(EM(n,r,i,e,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(n.children={}),!a?.matched)throw new In(n);e=r._injector??e;let{routes:c}=await this.getChildConfig(e,r,i),l=r._loadedInjector??e,{parameters:u,consumedSegments:d,remainingSegments:h}=a,f=new Br(d,u,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,db(r),Ut(r),r.component??r._loadedComponent??null,r,fb(r),e),p=Pl(f,s,this.paramsInheritanceStrategy);f.params=Object.freeze(p.params),f.data=Object.freeze(p.data);let{segmentGroup:v,slicedSegments:y}=ub(n,d,h,c);if(y.length===0&&v.hasChildren()){let T=await this.processChildren(l,c,v,f);return new st(f,T)}if(c.length===0&&y.length===0)return new st(f,[]);let m=Ut(r)===o,N=await this.processSegment(l,c,v,y,m?H:o,!0,f);return new st(f,N instanceof st?[N]:[])}async getChildConfig(e,n,r){if(n.children)return{routes:n.children,injector:e};if(n.loadChildren){if(n._loadedRoutes!==void 0){let o=n._loadedNgModuleFactory;return o&&!n._loadedInjector&&(n._loadedInjector=o.create(e).injector),{routes:n._loadedRoutes,injector:n._loadedInjector}}if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await bl(gM(e,n,r,this.urlSerializer,this.abortSignal))){let o=await this.configLoader.loadChildren(e,n);return n._loadedRoutes=o.routes,n._loadedInjector=o.injector,n._loadedNgModuleFactory=o.factory,o}throw yM(n)}return{routes:[],injector:e}}};function AM(t){t.sort((e,n)=>e.value.outlet===H?-1:n.value.outlet===H?1:e.value.outlet.localeCompare(n.value.outlet))}function RM(t){let e=t.value.routeConfig;return e&&e.path===""}function Hb(t){let e=[],n=new Set;for(let r of t){if(!RM(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Hb(r.children);e.push(new st(r.value,i))}return e.filter(r=>!n.has(r))}function db(t){return t.data||{}}function fb(t){return t.resolve||{}}function NM(t,e,n,r,i,o,s){return qe(async a=>{let{state:c,tree:l}=await xM(t,e,n,r,a.extractedUrl,i,o,s);return Z(D({},a),{targetSnapshot:c,urlAfterRedirects:l})})}function OM(t){return qe(e=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=e;if(!r.length)return J(e);let i=new Set(r.map(a=>a.route)),o=new Set;for(let a of i)if(!o.has(a))for(let c of zb(a))o.add(c);let s=0;return ve(o).pipe(fi(a=>i.has(a)?kM(a,n,t):(a.data=Pl(a,a.parent,t).resolve,J(void 0))),zt(()=>s++),La(1),qe(a=>s===o.size?J(e):Oe))})}function zb(t){let e=t.children.map(n=>zb(n)).flat();return[t,...e]}function kM(t,e,n){let r=t.routeConfig,i=t._resolve;return r?.title!==void 0&&!Ob(r)&&(i[Ts]=r.title),Io(()=>(t.data=Pl(t,t.parent,n).resolve,PM(i,t,e).pipe(ce(o=>(t._resolvedData=o,t.data=D(D({},t.data),o),null)))))}function PM(t,e,n){let r=Rp(t);if(r.length===0)return J({});let i={};return ve(r).pipe(qe(o=>FM(t[o],e,n).pipe(hn(),zt(s=>{if(s instanceof Ki)throw Fl(new Qn,s);i[o]=s}))),La(1),ce(()=>i),So(o=>jb(o)?Oe:ad(o)))}function FM(t,e,n){let r=e._environmentInjector,i=Ji(t,r),o=i.resolve?i.resolve(e,n):Me(r,()=>i(e,n));return Gr(o)}function hb(t){return Je(e=>{let n=t(e);return n?ve(n).pipe(ce(()=>e)):J(e)})}var Wp=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===H);return r}getResolvedTitleForRoute(n){return n.data[Ts]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:()=>w(Gb),providedIn:"root"})}return t})(),Gb=(()=>{class t extends Wp{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(M(rb))};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Rs=new x("",{factory:()=>({})}),Ns=new x(""),qb=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=w(Gh);async loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await mb(Me(n,()=>r.loadComponent())),s=await Yb(Kb(o));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s,s}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await Wb(r,this.compiler,n,this.onLoadEndListener);return r._loadedRoutes=o.routes,r._loadedInjector=o.injector,r._loadedNgModuleFactory=o.factory,o}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();async function Wb(t,e,n,r){let i=await mb(Me(n,()=>t.loadChildren())),o=await Yb(Kb(i)),s;o instanceof zc||Array.isArray(o)?s=o:s=await e.compileModuleAsync(o),r&&r(t);let a,c,l=!1,u;return Array.isArray(s)?(c=s,l=!0):(a=s.create(n).injector,u=s,c=a.get(Ns,[],{optional:!0,self:!0}).flat()),{routes:c.map(qp),injector:a,factory:u}}function LM(t){return t&&typeof t=="object"&&"default"in t}function Kb(t){return LM(t)?t.default:t}async function Yb(t){return t}var Bl=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:()=>w(jM),providedIn:"root"})}return t})(),jM=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Zb=new x("");var VM=()=>{},Jb=new x(""),Qb=(()=>{class t{currentNavigation=At(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=At(null);events=new De;transitionAbortWithErrorSubject=new De;configLoader=w(qb);environmentInjector=w(ye);destroyRef=w(Mt);urlSerializer=w(xs);rootContexts=w(Zi);location=w(Fi);inputBindingEnabled=w(Vl,{optional:!0})!==null;titleStrategy=w(Wp);options=w(Rs,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=w(Bl);createViewTransition=w(Zb,{optional:!0});navigationErrorHandler=w(Jb,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>J(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new Tl(i)),r=i=>this.events.next(new xl(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;Ee(()=>{this.transitions?.next(Z(D({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(n){return this.transitions=new Ce(null),this.transitions.pipe(Ct(r=>r!==null),Je(r=>{let i=!1,o=new AbortController,s=()=>!i&&this.currentTransition?.id===r.id;return J(r).pipe(Je(a=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",He.SupersededByNewNavigation),Oe;this.currentTransition=r;let c=this.lastSuccessfulNavigation();this.currentNavigation.set({id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:c?Z(D({},c),{previousNavigation:null}):null,abort:()=>o.abort()});let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=a.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&u!=="reload")return this.events.next(new Tn(a.id,this.urlSerializer.serialize(a.rawUrl),"",Es.IgnoredSameUrlNavigation)),a.resolve(!1),Oe;if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return J(a).pipe(Je(d=>(this.events.next(new Hr(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),d.id!==this.navigationId?Oe:Promise.resolve(d))),NM(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),zt(d=>{r.targetSnapshot=d.targetSnapshot,r.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation.update(f=>(f.finalUrl=d.urlAfterRedirects,f));let h=new Gi(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:d,extractedUrl:h,source:f,restoredState:p,extras:v}=a,y=new Hr(d,this.urlSerializer.serialize(h),f,p);this.events.next(y);let m=Rb(this.rootComponentType,this.environmentInjector).snapshot;return this.currentTransition=r=Z(D({},a),{targetSnapshot:m,urlAfterRedirects:h,extras:Z(D({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(N=>(N.finalUrl=h,N)),J(r)}else return this.events.next(new Tn(a.id,this.urlSerializer.serialize(a.extractedUrl),"",Es.IgnoredByUrlHandlingStrategy)),a.resolve(!1),Oe}),ce(a=>{let c=new Dl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);return this.events.next(c),this.currentTransition=r=Z(D({},a),{guards:Zx(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),r}),aM(a=>this.events.next(a)),Je(a=>{if(r.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw Fl(this.urlSerializer,a.guardsResult);let c=new Cl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);if(this.events.next(c),!s())return Oe;if(!a.guardsResult)return this.cancelNavigationTransition(a,"",He.GuardRejected),Oe;if(a.guards.canActivateChecks.length===0)return J(a);let l=new Il(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);if(this.events.next(l),!s())return Oe;let u=!1;return J(a).pipe(OM(this.paramsInheritanceStrategy),zt({next:()=>{u=!0;let d=new Sl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(d)},complete:()=>{u||this.cancelNavigationTransition(a,"",He.NoDataFromResolver)}}))}),hb(a=>{let c=u=>{let d=[];if(u.routeConfig?._loadedComponent)u.component=u.routeConfig?._loadedComponent;else if(u.routeConfig?.loadComponent){let h=u._environmentInjector;d.push(this.configLoader.loadComponent(h,u.routeConfig).then(f=>{u.component=f}))}for(let h of u.children)d.push(...c(h));return d},l=c(a.targetSnapshot.root);return l.length===0?J(a):ve(Promise.all(l).then(()=>a))}),hb(()=>this.afterPreactivation()),Je(()=>{let{currentSnapshot:a,targetSnapshot:c}=r,l=this.createViewTransition?.(this.environmentInjector,a.root,c.root);return l?ve(l).pipe(ce(()=>r)):J(r)}),dn(1),ce(a=>{let c=qx(n.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);this.currentTransition=r=a=Z(D({},a),{targetRouterState:c}),this.currentNavigation.update(l=>(l.targetRouterState=c,l)),this.events.next(new qi),s()&&(new Vp(n.routeReuseStrategy,r.targetRouterState,r.currentRouterState,l=>this.events.next(l),this.inputBindingEnabled).activate(this.rootContexts),s()&&(i=!0,this.currentNavigation.update(l=>(l.abort=VM,l)),this.lastSuccessfulNavigation.set(Ee(this.currentNavigation)),this.events.next(new Sn(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)))}),To(Vb(o.signal).pipe(Ct(()=>!i&&!r.targetRouterState),zt(()=>{this.cancelNavigationTransition(r,o.signal.reason+"",He.Aborted)}))),zt({complete:()=>{i=!0}}),To(this.transitionAbortWithErrorSubject.pipe(zt(a=>{throw a}))),fn(()=>{o.abort(),i||this.cancelNavigationTransition(r,"",He.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),So(a=>{if(i=!0,this.destroyed)return r.resolve(!1),Oe;if(Lb(a))this.events.next(new yt(r.id,this.urlSerializer.serialize(r.extractedUrl),a.message,a.cancellationCode)),Yx(a)?this.events.next(new Wi(a.url,a.navigationBehaviorOptions)):r.resolve(!1);else{let c=new zr(r.id,this.urlSerializer.serialize(r.extractedUrl),a,r.targetSnapshot??void 0);try{let l=Me(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(l instanceof Ki){let{message:u,cancellationCode:d}=Fl(this.urlSerializer,l);this.events.next(new yt(r.id,this.urlSerializer.serialize(r.extractedUrl),u,d)),this.events.next(new Wi(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(c),a}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return Oe}))}))}cancelNavigationTransition(n,r,i){let o=new yt(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Ee(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function UM(t){return t!==_s}var Xb=new x("");var ew=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:()=>w(BM),providedIn:"root"})}return t})(),jl=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}shouldDestroyInjector(e){return!0}},BM=(()=>{class t extends jl{static \u0275fac=(()=>{let n;return function(i){return(n||(n=yn(t)))(i||t)}})();static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Kp=(()=>{class t{urlSerializer=w(xs);options=w(Rs,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=w(Fi);urlHandlingStrategy=w(Bl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Bt;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof Bt?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=Rb(null,w(ye));getRouterState(){return this.routerState}_stateMemento=this.createStateMemento();get stateMemento(){return this._stateMemento}updateStateMemento(){this._stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}restoredState(){return this.location.getState()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:()=>w($M),providedIn:"root"})}return t})(),$M=(()=>{class t extends Kp{currentPageId=0;lastSuccessfulId=-1;get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Hr?this.updateStateMemento():n instanceof Tn?this.commitTransition(r):n instanceof Gi?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof qi?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof yt&&!Ab(n)?this.restoreHistory(r):n instanceof zr?this.restoreHistory(r,!0):n instanceof Sn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,c=D(D({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",c)}else{let a=D(D({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=yn(t)))(i||t)}})();static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Yp(t,e){t.events.pipe(Ct(n=>n instanceof Sn||n instanceof yt||n instanceof zr||n instanceof Tn),ce(n=>n instanceof Sn||n instanceof Tn?0:(n instanceof yt?n.code===He.Redirect||n.code===He.SupersededByNewNavigation:!1)?2:1),Ct(n=>n!==2),dn(1)).subscribe(()=>{e()})}var tw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ze=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=w(Gc);stateManager=w(Kp);options=w(Rs,{optional:!0})||{};pendingTasks=w(mn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=w(Qb);urlSerializer=w(xs);location=w(Fi);urlHandlingStrategy=w(Bl);injector=w(ye);_events=new De;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=w(ew);injectorCleanup=w(Xb,{optional:!0});onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=w(Ns,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!w(Vl,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ne;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=Ee(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof yt&&r.code!==He.Redirect&&r.code!==He.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Sn)this.navigated=!0,this.injectorCleanup?.(this.routeReuseStrategy,this.routerState,this.config);else if(r instanceof Wi){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=D({scroll:i.extras.scroll,browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||UM(i.source)},s);this.scheduleNavigation(a,_s,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}zx(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),_s,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=D({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(pt)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Ee(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(qp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription?.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0,this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=D(D({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let h=i?i.snapshot:this.routerState.snapshot.root;d=Sb(h)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return Tb(d,n,u,l??null,this.urlSerializer)}navigateByUrl(n,r={skipLocationChange:!1}){let i=zi(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,_s,null,r)}navigate(n,r={skipLocationChange:!1}){return HM(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(Pn(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=D({},tw):r===!1?i=D({},nw):i=r,zi(n))return ob(this.currentUrlTree,n,i);let o=this.parseUrl(n);return ob(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,h)=>{a=d,c=h});let u=this.pendingTasks.add();return Yp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function HM(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new I(4008,!1)}var qM=new x("");function Zp(t,...e){return vr([{provide:Ns,multi:!0,useValue:t},[],{provide:Xn,useFactory:WM},{provide:Wc,multi:!0,useFactory:KM},e.map(n=>n.\u0275providers)])}function WM(){return w(ze).routerState.root}function KM(){let t=w(nt);return e=>{let n=t.get(Dn);if(e!==n.components[0])return;let r=t.get(ze),i=t.get(YM);t.get(ZM)===1&&r.initialNavigation(),t.get(JM,null,{optional:!0})?.setUpPreloading(),t.get(qM,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var YM=new x("",{factory:()=>new De}),ZM=new x("",{factory:()=>1});var JM=new x("");var Xi=class t{loadingSubject=new Ce(!1);loading$=this.loadingSubject.asObservable();show(){this.loadingSubject.next(!0)}hide(){this.loadingSubject.next(!1)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})};function eA(t,e){t&1&&(_(0,"div",1),Qe(),_(1,"svg",2),Q(2,"circle",3),_(3,"g",4),Q(4,"circle",5)(5,"circle",6),b(),_(6,"g",7),Q(7,"circle",8)(8,"circle",9),b()()())}var $l=class t{constructor(e){this.loader=e}static \u0275fac=function(n){return new(n||t)(S(Xi))};static \u0275cmp=pe({type:t,selectors:[["app-loader"]],decls:2,vars:3,consts:[["class","loader-backdrop",4,"ngIf"],[1,"loader-backdrop"],["viewBox","0 0 50 50",1,"dual-orbit-loader"],["cx","25","cy","25","r","4",1,"core"],[1,"orbit-ccw"],["cx","25","cy","25","r","20",1,"ring"],["cx","25","cy","5","r","4",1,"dot"],[1,"orbit-cw"],["cx","25","cy","25","r","12",1,"ring"],["cx","25","cy","13","r","3",1,"dot"]],template:function(n,r){n&1&&(ge(0,eA,9,0,"div",0),Hh(1,"async")),n&2&&P("ngIf",zh(1,1,r.loader.loading$))},dependencies:[Vt,lp],styles:[".loader-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0f172a40;backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(4px);z-index:100000;display:flex;align-items:center;justify-content:center}.dual-orbit-loader[_ngcontent-%COMP%]{width:48px;height:48px}.ring[_ngcontent-%COMP%]{fill:none;stroke:#ffffff26;stroke-width:3}.dot[_ngcontent-%COMP%]{fill:#fff}.core[_ngcontent-%COMP%]{fill:#ffb700}.orbit-cw[_ngcontent-%COMP%]{transform-origin:center;animation:_ngcontent-%COMP%_spin-clockwise 1.2s linear infinite}.orbit-ccw[_ngcontent-%COMP%]{transform-origin:center;animation:_ngcontent-%COMP%_spin-counter-clockwise 2.2s linear infinite}@keyframes _ngcontent-%COMP%_spin-clockwise{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_spin-counter-clockwise{0%{transform:rotate(360deg)}to{transform:rotate(0)}}"]})};var Hl=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=pe({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(n,r){n&1&&Q(0,"app-loader")(1,"router-outlet")},dependencies:[Ms,$l],encapsulation:2})};var dw=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(S(Wn),S(Xe))};static \u0275dir=ue({type:t})}return t})(),Ql=(()=>{class t extends dw{static \u0275fac=(()=>{let n;return function(i){return(n||(n=yn(t)))(i||t)}})();static \u0275dir=ue({type:t,features:[gt]})}return t})(),Vs=new x("");var tA={provide:Vs,useExisting:It(()=>tr),multi:!0};function nA(){let t=mt()?mt().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var rA=new x(""),tr=(()=>{class t extends dw{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!nA())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(S(Wn),S(Xe),S(rA,8))};static \u0275dir=ue({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&B("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Kn([tA]),gt]})}return t})();var fw=new x(""),hw=new x("");function pw(t){return t!=null}function gw(t){return En(t)?ve(t):t}function mw(t){let e={};return t.forEach(n=>{e=n!=null?D(D({},e),n):e}),Object.keys(e).length===0?null:e}function vw(t,e){return e.map(n=>n(t))}function iA(t){return!t.validate}function yw(t){return t.map(e=>iA(e)?e:n=>e.validate(n))}function oA(t){if(!t)return null;let e=t.filter(pw);return e.length==0?null:function(n){return mw(vw(n,e))}}function Xp(t){return t!=null?oA(yw(t)):null}function sA(t){if(!t)return null;let e=t.filter(pw);return e.length==0?null:function(n){let r=vw(n,e).map(gw);return ld(r).pipe(ce(mw))}}function eg(t){return t!=null?sA(yw(t)):null}function rw(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function aA(t){return t._rawValidators}function cA(t){return t._rawAsyncValidators}function Jp(t){return t?Array.isArray(t)?t:[t]:[]}function Gl(t,e){return Array.isArray(t)?t.includes(e):t===e}function iw(t,e){let n=Jp(e);return Jp(t).forEach(i=>{Gl(n,i)||n.push(i)}),n}function ow(t,e){return Jp(e).filter(n=>!Gl(t,n))}var ql=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Xp(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=eg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},no=class extends ql{name;get formDirective(){return null}get path(){return null}},js=class extends ql{_parent=null;name=null;valueAccessor=null},Wl=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var ro=(()=>{class t extends Wl{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(S(js,2))};static \u0275dir=ue({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Pr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[gt]})}return t})(),_w=(()=>{class t extends Wl{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(S(no,10))};static \u0275dir=ue({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Pr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[gt]})}return t})();var Os="VALID",zl="INVALID",eo="PENDING",ks="DISABLED",er=class{},Kl=class extends er{value;source;constructor(e,n){super(),this.value=e,this.source=n}},Fs=class extends er{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},Ls=class extends er{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},to=class extends er{status;source;constructor(e,n){super(),this.status=e,this.source=n}},Qp=class extends er{source;constructor(e){super(),this.source=e}},Yl=class extends er{source;constructor(e){super(),this.source=e}};function bw(t){return(Xl(t)?t.validators:t)||null}function lA(t){return Array.isArray(t)?Xp(t):t||null}function ww(t,e){return(Xl(e)?e.asyncValidators:t)||null}function uA(t){return Array.isArray(t)?eg(t):t||null}function Xl(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function dA(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new I(1e3,"");if(!r[n])throw new I(1001,"")}function fA(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new I(1002,"")})}var Zl=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Ee(this.statusReactive)}set status(e){Ee(()=>this.statusReactive.set(e))}_status=Fr(()=>this.statusReactive());statusReactive=At(void 0);get valid(){return this.status===Os}get invalid(){return this.status===zl}get pending(){return this.status==eo}get disabled(){return this.status===ks}get enabled(){return this.status!==ks}errors;get pristine(){return Ee(this.pristineReactive)}set pristine(e){Ee(()=>this.pristineReactive.set(e))}_pristine=Fr(()=>this.pristineReactive());pristineReactive=At(!0);get dirty(){return!this.pristine}get touched(){return Ee(this.touchedReactive)}set touched(e){Ee(()=>this.touchedReactive.set(e))}_touched=Fr(()=>this.touchedReactive());touchedReactive=At(!1);get untouched(){return!this.touched}_events=new De;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(iw(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(iw(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ow(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ow(e,this._rawAsyncValidators))}hasValidator(e){return Gl(this._rawValidators,e)}hasAsyncValidator(e){return Gl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Z(D({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ls(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ls(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Z(D({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Fs(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Fs(!0,r))}markAsPending(e={}){this.status=eo;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new to(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Z(D({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ks,this.errors=null,this._forEachChild(i=>{i.disable(Z(D({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Kl(this.value,r)),this._events.next(new to(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Z(D({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Os,this._forEachChild(r=>{r.enable(Z(D({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Z(D({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Os||this.status===eo)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Kl(this.value,n)),this._events.next(new to(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Z(D({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ks:Os}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=eo,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let r=gw(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new to(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new K,this.statusChanges=new K}_calculateStatus(){return this._allControlsDisabled()?ks:this.errors?zl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(eo)?eo:this._anyControlsHaveStatus(zl)?zl:Os}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Fs(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Ls(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Xl(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=lA(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=uA(this._rawAsyncValidators)}},Jl=class extends Zl{constructor(e,n,r){super(bw(n),ww(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){fA(this,!0,e),Object.keys(e).forEach(r=>{dA(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,Z(D({},n),{onlySelf:!0}))}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n),n?.emitEvent!==!1&&this._events.next(new Yl(this))}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var tg=new x("",{factory:()=>ng}),ng="always";function hA(t,e){return[...e.path,t]}function Ew(t,e,n=ng){Dw(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),gA(t,e),vA(t,e),mA(t,e),pA(t,e)}function sw(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function pA(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Dw(t,e){let n=aA(t);e.validator!==null?t.setValidators(rw(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=cA(t);e.asyncValidator!==null?t.setAsyncValidators(rw(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();sw(e._rawValidators,i),sw(e._rawAsyncValidators,i)}function gA(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Cw(t,e)})}function mA(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Cw(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Cw(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function vA(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function yA(t,e){t==null,Dw(t,e)}function _A(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function bA(t){return Object.getPrototypeOf(t.constructor)===Ql}function wA(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function EA(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===tr?n=o:bA(o)?r=o:i=o}),i||r||n||null}var DA={provide:no,useExisting:It(()=>rg)},Ps=Promise.resolve(),rg=(()=>{class t extends no{callSetDisabledState;get submitted(){return Ee(this.submittedReactive)}_submitted=Fr(()=>this.submittedReactive());submittedReactive=At(!1);_directives=new Set;form;ngSubmit=new K;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new Jl({},Xp(n),eg(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Ps.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Ew(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Ps.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Ps.then(()=>{let r=this._findContainer(n.path),i=new Jl({});yA(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Ps.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Ps.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),wA(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new Qp(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||t)(S(fw,10),S(hw,10),S(tg,8))};static \u0275dir=ue({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup","",3,"formArray",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&B("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Kn([DA]),gt]})}return t})();function aw(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function cw(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var CA=class extends Zl{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(bw(n),ww(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Xl(n)&&(n.nonNullable||n.initialValueIsDefault)&&(cw(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),n.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,n?.emitEvent!==!1&&this._events.next(new Yl(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){aw(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){aw(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){cw(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var IA={provide:js,useExisting:It(()=>qr)},lw=Promise.resolve(),qr=(()=>{class t extends js{_changeDetectorRef;callSetDisabledState;control=new CA;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new K;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=EA(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),_A(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Ew(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){lw.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&np(r);lw.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?hA(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(S(no,9),S(fw,10),S(hw,10),S(Vs,10),S(Lr,8),S(tg,8))};static \u0275dir=ue({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Kn([IA]),gt,en]})}return t})();var Iw=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=ue({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})(),SA={provide:Vs,useExisting:It(()=>ig),multi:!0},ig=(()=>{class t extends Ql{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=yn(t)))(i||t)}})();static \u0275dir=ue({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&B("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Kn([SA]),gt]})}return t})();var TA={provide:Vs,useExisting:It(()=>eu),multi:!0};function Sw(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function xA(t){return t.split(":")[0]}var eu=(()=>{class t extends Ql{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;appRefInjector=w(Dn).injector;destroyRef=w(Mt);cdr=w(Lr);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,ts({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(n){this.cdr.markForCheck(),this.value=n;let r=this._getOptionId(n),i=Sw(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=xA(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=yn(t)))(i||t)}})();static \u0275dir=ue({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&B("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Kn([TA]),gt]})}return t})(),Tw=(()=>{class t{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(Sw(this.id,n)),this._select._writeValueAfterRender())}set value(n){this._setElementValue(n),this._select&&this._select._writeValueAfterRender()}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||t)(S(Xe),S(Wn),S(eu,9))};static \u0275dir=ue({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),MA={provide:Vs,useExisting:It(()=>xw),multi:!0};function uw(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function AA(t){return t.split(":")[0]}var xw=(()=>{class t extends Ql{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=AA(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=yn(t)))(i||t)}})();static \u0275dir=ue({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&B("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Kn([MA]),gt]})}return t})(),Mw=(()=>{class t{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(uw(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(uw(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(S(Xe),S(Wn),S(xw,9))};static \u0275dir=ue({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();var RA=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=nn({type:t});static \u0275inj=St({})}return t})();var io=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:tg,useValue:n.callSetDisabledState??ng}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=nn({type:t});static \u0275inj=St({imports:[RA]})}return t})();var Aw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);var oo=class extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}},Us=class extends oo{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},so=class extends oo{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},ao=class extends oo{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}},tu=(function(t){return t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2",t})(tu||{});var Bs=class{constructor(e,{headers:n={},customFetch:r,region:i=tu.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=Aw(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ba(this,arguments,void 0,function*(n,r={}){var i;let o,s;try{let{headers:a,method:c,body:l,signal:u,timeout:d}=r,h={},{region:f}=r;f||(f=this.region);let p=new URL(`${this.url}/${n}`);f&&f!=="any"&&(h["x-region"]=f,p.searchParams.set("forceFunctionRegion",f));let v;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",v=l):typeof l=="string"?(h["Content-Type"]="text/plain",v=l):typeof FormData<"u"&&l instanceof FormData?v=l:(h["Content-Type"]="application/json",v=JSON.stringify(l)):l&&typeof l!="string"&&!(typeof Blob<"u"&&l instanceof Blob)&&!(l instanceof ArrayBuffer)&&!(typeof FormData<"u"&&l instanceof FormData)?v=JSON.stringify(l):v=l;let y=u;d&&(s=new AbortController,o=setTimeout(()=>s.abort(),d),u?(y=s.signal,u.addEventListener("abort",()=>s.abort())):y=s.signal);let m=yield this.fetch(p.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:v,signal:y}).catch(Y=>{throw new Us(Y)}),N=m.headers.get("x-relay-error");if(N&&N==="true")throw new so(m);if(!m.ok)throw new ao(m);let T=((i=m.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),E;return T==="application/json"?E=yield m.json():T==="application/octet-stream"||T==="application/pdf"?E=yield m.blob():T==="text/event-stream"?E=m:T==="multipart/form-data"?E=yield m.formData():E=yield m.text(),{data:E,error:null,response:m}}catch(a){return{data:null,error:a,response:a instanceof ao||a instanceof so?a.context:void 0}}finally{o&&clearTimeout(o)}})}};var Ow=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},NA=class{constructor(t){var e,n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(r=t.urlLengthLimit)!==null&&r!==void 0?r:8e3,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let s=null,a=null,c=null,l=o.status,u=o.statusText;if(o.ok){var d,h;if(n.method!=="HEAD"){var f;let m=await o.text();m===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((f=n.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?a=m:a=JSON.parse(m))}let v=(d=n.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),y=(h=o.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");v&&y&&y.length>1&&(c=parseInt(y[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(a)&&(a.length>1?(s={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,c=null,l=406,u="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var p;let v=await o.text();try{s=JSON.parse(v),Array.isArray(s)&&o.status===404&&(a=[],s=null,l=200,u="OK")}catch{o.status===404&&v===""?(l=204,u="No Content"):s={message:v}}if(s&&n.isMaybeSingle&&(!(s==null||(p=s.details)===null||p===void 0)&&p.includes("0 rows"))&&(s=null,l=200,u="OK"),s&&n.shouldThrowOnError)throw new Ow(s)}return{error:s,data:a,count:c,status:l,statusText:u}});return this.shouldThrowOnError||(i=i.catch(o=>{var s;let a="",c="",l="",u=o?.cause;if(u){var d,h,f,p;let m=(d=u?.message)!==null&&d!==void 0?d:"",N=(h=u?.code)!==null&&h!==void 0?h:"";a=`${(f=o?.name)!==null&&f!==void 0?f:"FetchError"}: ${o?.message}`,a+=`

Caused by: ${(p=u?.name)!==null&&p!==void 0?p:"Error"}: ${m}`,N&&(a+=` (${N})`),u?.stack&&(a+=`
${u.stack}`)}else{var v;a=(v=o?.stack)!==null&&v!==void 0?v:""}let y=this.url.toString().length;return o?.name==="AbortError"||o?.code==="ABORT_ERR"?(l="",c="Request was aborted (timeout or manual cancellation)",y>this.urlLengthLimit&&(c+=`. Note: Your request URL is ${y} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(u?.name==="HeadersOverflowError"||u?.code==="UND_ERR_HEADERS_OVERFLOW")&&(l="",c="HTTP headers exceeded server limits (typically 16KB)",y>this.urlLengthLimit&&(c+=`. Your request URL is ${y} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(s=o?.name)!==null&&s!==void 0?s:"FetchError"}: ${o?.message}`,details:a,hint:c,code:l},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},OA=class extends NA{select(t){let e=!1,n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){let o=i?`${i}.order`:"order",s=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${s?`${s},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){let r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){let i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var s;let a=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${a};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}},Rw=new RegExp("[,()]"),co=class extends OA{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){let n=Array.from(new Set(e)).map(r=>typeof r=="string"&&Rw.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){let n=Array.from(new Set(e)).map(r=>typeof r=="string"&&Rw.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");let o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){let r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},kA=class{constructor(t,{headers:e={},schema:n,fetch:r,urlLengthLimit:i=8e3}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){let{head:n=!1,count:r}=e??{},i=n?"HEAD":"GET",o=!1,s=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join(""),{url:a,headers:c}=this.cloneRequestState();return a.searchParams.set("select",s),r&&c.append("Prefer",`count=${r}`),new co({method:i,url:a,headers:c,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;let i="POST",{url:o,headers:s}=this.cloneRequestState();if(e&&s.append("Prefer",`count=${e}`),n||s.append("Prefer","missing=default"),Array.isArray(t)){let a=t.reduce((c,l)=>c.concat(Object.keys(l)),[]);if(a.length>0){let c=[...new Set(a)].map(l=>`"${l}"`);o.searchParams.set("columns",c.join(","))}}return new co({method:i,url:o,headers:s,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var o;let s="POST",{url:a,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&a.searchParams.set("on_conflict",e),r&&c.append("Prefer",`count=${r}`),i||c.append("Prefer","missing=default"),Array.isArray(t)){let l=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){let u=[...new Set(l)].map(d=>`"${d}"`);a.searchParams.set("columns",u.join(","))}}return new co({method:s,url:a,headers:c,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}update(t,{count:e}={}){var n;let r="PATCH",{url:i,headers:o}=this.cloneRequestState();return e&&o.append("Prefer",`count=${e}`),new co({method:r,url:i,headers:o,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:t}={}){var e;let n="DELETE",{url:r,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new co({method:n,url:r,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function $s(t){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$s(t)}function PA(t,e){if($s(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($s(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FA(t){var e=PA(t,"string");return $s(e)=="symbol"?e:e+""}function LA(t,e,n){return(e=FA(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nw(Object(n),!0).forEach(function(r){LA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var kw=class Pw{constructor(e,{headers:n={},schema:r,fetch:i,timeout:o,urlLengthLimit:s=8e3}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.urlLengthLimit=s;let a=i??globalThis.fetch;o!==void 0&&o>0?this.fetch=(c,l)=>{let u=new AbortController,d=setTimeout(()=>u.abort(),o),h=l?.signal;if(h){if(h.aborted)return clearTimeout(d),a(c,l);let f=()=>{clearTimeout(d),u.abort()};return h.addEventListener("abort",f,{once:!0}),a(c,nu(nu({},l),{},{signal:u.signal})).finally(()=>{clearTimeout(d),h.removeEventListener("abort",f)})}return a(c,nu(nu({},l),{},{signal:u.signal})).finally(()=>clearTimeout(d))}:this.fetch=a}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new kA(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new Pw(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,n={},{head:r=!1,get:i=!1,count:o}={}){var s;let a,c=new URL(`${this.url}/rpc/${e}`),l,u=f=>f!==null&&typeof f=="object"&&(!Array.isArray(f)||f.some(u)),d=r&&Object.values(n).some(u);d?(a="POST",l=n):r||i?(a=r?"HEAD":"GET",Object.entries(n).filter(([f,p])=>p!==void 0).map(([f,p])=>[f,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([f,p])=>{c.searchParams.append(f,p)})):(a="POST",l=n);let h=new Headers(this.headers);return d?h.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&h.set("Prefer",`count=${o}`),new co({method:a,url:c,headers:h,schema:this.schemaName,body:l,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}};var sg=class{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};let n=globalThis.process;if(n){let r=n.versions;if(r&&r.node){let i=r.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){let r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{let e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}},ag=sg;var Fw="2.95.3";var Lw=`realtime-js/${Fw}`,jw="1.0.0",cg="2.0.0",lg=cg;var Hs=1e4,Vw=1e3,Uw=100,nr=(function(t){return t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed",t})(nr||{}),Se=(function(t){return t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving",t})(Se||{}),_t=(function(t){return t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token",t})(_t||{}),ug=(function(t){return t.websocket="websocket",t})(ug||{}),Wr=(function(t){return t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed",t})(Wr||{});var ru=class{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;let i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var n,r;let i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(e,n,r){var i,o;let s=e.topic,a=(i=e.ref)!==null&&i!==void 0?i:"",c=(o=e.join_ref)!==null&&o!==void 0?o:"",l=e.payload.event,u=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},d=Object.keys(u).length===0?"":JSON.stringify(u);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`userEvent length ${l.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);let h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+a.length+s.length+l.length+d.length,f=new ArrayBuffer(this.HEADER_LENGTH+h),p=new DataView(f),v=0;p.setUint8(v++,this.KINDS.userBroadcastPush),p.setUint8(v++,c.length),p.setUint8(v++,a.length),p.setUint8(v++,s.length),p.setUint8(v++,l.length),p.setUint8(v++,d.length),p.setUint8(v++,n),Array.from(c,m=>p.setUint8(v++,m.charCodeAt(0))),Array.from(a,m=>p.setUint8(v++,m.charCodeAt(0))),Array.from(s,m=>p.setUint8(v++,m.charCodeAt(0))),Array.from(l,m=>p.setUint8(v++,m.charCodeAt(0))),Array.from(d,m=>p.setUint8(v++,m.charCodeAt(0)));var y=new Uint8Array(f.byteLength+r.byteLength);return y.set(new Uint8Array(f),0),y.set(new Uint8Array(r),f.byteLength),y.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){let r=JSON.parse(e),[i,o,s,a,c]=r;return n({join_ref:i,ref:o,topic:s,event:a,payload:c})}return n({})}_binaryDecode(e){let n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,n,i)}_decodeUserBroadcast(e,n,r){let i=n.getUint8(1),o=n.getUint8(2),s=n.getUint8(3),a=n.getUint8(4),c=this.HEADER_LENGTH+4,l=r.decode(e.slice(c,c+i));c=c+i;let u=r.decode(e.slice(c,c+o));c=c+o;let d=r.decode(e.slice(c,c+s));c=c+s;let h=e.slice(c,e.byteLength),f=a===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,p={type:this.BROADCAST_EVENT,event:u,payload:f};return s>0&&(p.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:p}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}};var lo=class{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var de=(function(t){return t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange",t})(de||{}),fg=(t,e,n={})=>{var r;let i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,s)=>(o[s]=jA(s,t,e,i),o),{}):{}},jA=(t,e,n,r)=>{let i=e.find(a=>a.name===t),o=i?.type,s=n[t];return o&&!r.includes(o)?Bw(o,s):dg(s)},Bw=(t,e)=>{if(t.charAt(0)==="_"){let n=t.slice(1,t.length);return $A(e,n)}switch(t){case de.bool:return VA(e);case de.float4:case de.float8:case de.int2:case de.int4:case de.int8:case de.numeric:case de.oid:return UA(e);case de.json:case de.jsonb:return BA(e);case de.timestamp:return HA(e);case de.abstime:case de.date:case de.daterange:case de.int4range:case de.int8range:case de.money:case de.reltime:case de.text:case de.time:case de.timestamptz:case de.timetz:case de.tsrange:case de.tstzrange:return dg(e);default:return dg(e)}},dg=t=>t,VA=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},UA=t=>{if(typeof t=="string"){let e=parseFloat(t);if(!Number.isNaN(e))return e}return t},BA=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},$A=(t,e)=>{if(typeof t!="string")return t;let n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o,s=t.slice(1,n);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>Bw(e,a))}return t},HA=t=>typeof t=="string"?t.replace(" ","T"):t,iu=t=>{let e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};var uo=class{constructor(e,n,r={},i=Hs){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}};var zs=class t{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=t.syncState(this.state,i,o,s),this.pendingDiffs.forEach(c=>{this.state=t.syncDiff(this.state,c,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=t.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){let o=this.cloneDeep(e),s=this.transformState(n),a={},c={};return this.map(o,(l,u)=>{s[l]||(c[l]=u)}),this.map(s,(l,u)=>{let d=o[l];if(d){let h=u.map(y=>y.presence_ref),f=d.map(y=>y.presence_ref),p=u.filter(y=>f.indexOf(y.presence_ref)<0),v=d.filter(y=>h.indexOf(y.presence_ref)<0);p.length>0&&(a[l]=p),v.length>0&&(c[l]=v)}else a[l]=u}),this.syncDiff(o,{joins:a,leaves:c},r,i)}static syncDiff(e,n,r,i){let{joins:o,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,c)=>{var l;let u=(l=e[a])!==null&&l!==void 0?l:[];if(e[a]=this.cloneDeep(c),u.length>0){let d=e[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}r(a,u,c)}),this.map(s,(a,c)=>{let l=e[a];if(!l)return;let u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=l,i(a,l,c),l.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{let i=e[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Gs=(function(t){return t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system",t})(Gs||{}),xn=(function(t){return t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR",t})(xn||{});var qs=class t{constructor(e,n={config:{}},r){var i,o;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Se.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new uo(this,_t.join,this.params,this.timeout),this.rejoinTimer=new lo(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Se.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Se.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Se.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Se.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Se.errored,this.rejoinTimer.scheduleTimeout())}),this._on(_t.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new zs(this),this.broadcastEndpointURL=iu(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Se.closed){let{config:{broadcast:s,presence:a,private:c}}=this.params,l=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Gs.PRESENCE]&&this.bindings[Gs.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,d={},h={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:l,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>e?.(xn.CHANNEL_ERROR,f)),this._onClose(()=>e?.(xn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){e?.(xn.SUBSCRIBED);return}else{let v=this.bindings.postgres_changes,y=(p=v?.length)!==null&&p!==void 0?p:0,m=[];for(let N=0;N<y;N++){let T=v[N],{filter:{event:E,schema:Y,table:Ue,filter:te}}=T,fe=f&&f[N];if(fe&&fe.event===E&&t.isFilterValueEqual(fe.schema,Y)&&t.isFilterValueEqual(fe.table,Ue)&&t.isFilterValueEqual(fe.filter,te))m.push(Object.assign(Object.assign({},T),{id:fe.id}));else{this.unsubscribe(),this.state=Se.errored,e?.(xn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(xn.SUBSCRIBED);return}}).receive("error",f=>{this.state=Se.errored,e?.(xn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e?.(xn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Se.joined&&e===Gs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");let o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);let s={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(a.status===202)return{success:!0};let c=a.statusText;try{let l=await a.json();c=l.error||l.message||c}catch{}return Promise.reject(new Error(c))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:o,payload:s}=e,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);let c={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:s,private:this.private}]})};try{let l=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=l.body)===null||i===void 0?void 0:i.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var s,a,c;let l=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),l.receive("ok",()=>o("ok")),l.receive("error",()=>o("error")),l.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Se.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(_t.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new uo(this,_t.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Se.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),s}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new uo(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Uw){let n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,o;let s=e.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=_t;if(r&&[a,c,l,u].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var p,v,y;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((y=(v=f.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===s}).map(f=>f.callback(h,r)):(o=this.bindings[s])===null||o===void 0||o.filter(f=>{var p,v,y,m,N,T;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let E=f.id,Y=(p=f.filter)===null||p===void 0?void 0:p.event;return E&&((v=n.ids)===null||v===void 0?void 0:v.includes(E))&&(Y==="*"||Y?.toLocaleLowerCase()===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{let E=(N=(m=f?.filter)===null||m===void 0?void 0:m.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return E==="*"||E===((T=n?.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof h=="object"&&"ids"in h){let p=h.data,{schema:v,table:y,commit_timestamp:m,type:N,errors:T}=p;h=Object.assign(Object.assign({},{schema:v,table:y,commit_timestamp:m,eventType:N,new:{},old:{},errors:T}),this._getPayloadRecords(p))}f.callback(h,r)})}_isClosed(){return this.state===Se.closed}_isJoined(){return this.state===Se.joined}_isJoining(){return this.state===Se.joining}_isLeaving(){return this.state===Se.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){let i=e.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,n){let r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&t.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(let r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(_t.close,{},e)}_onError(e){this._on(_t.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Se.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=fg(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=fg(e.columns,e.old_record)),n}};var hg=()=>{},ou={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},GA=[1e3,2e3,5e3,1e4],qA=1e4,WA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Ws=class{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Hs,this.transport=null,this.heartbeatIntervalMs=ou.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=hg,this.ref=0,this.reconnectTimer=null,this.vsn=lg,this.logger=hg,this.conn=null,this.sendBuffer=[],this.serializer=new ru,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${ug.websocket}`,this.httpEndpoint=iu(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ag.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");let n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){let n=await e.unsubscribe();return n==="ok"&&this._remove(e),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){let e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case nr.connecting:return Wr.Connecting;case nr.open:return Wr.Open;case nr.closing:return Wr.Closing;default:return Wr.Closed}}isConnected(){return this.connectionState()===Wr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){let r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{let o=new qs(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){let{topic:n,event:r,payload:i,ref:o}=e,s=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Vw,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ou.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){let l=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",l)}catch(u){this.log("error","error in heartbeat callback",u)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}let{topic:r,event:i,payload:o,ref:s}=n,a=s?`(${s})`:"",c=o.status||"";this.log("receive",`${c} ${r} ${i} ${a}`.trim(),o),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(i,o,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===nr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===nr.open||this.conn.readyState===nr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(_t.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;let r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{let r=new Blob([WA],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{let o={access_token:n,version:Lw};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(_t.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new lo(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ou.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,o,s,a,c,l,u,d,h,f;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:Hs,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:ou.HEARTBEAT_INTERVAL,this.worker=(o=e?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(s=e?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=e?.heartbeatCallback)!==null&&a!==void 0?a:hg,this.vsn=(c=e?.vsn)!==null&&c!==void 0?c:lg,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e?.reconnectAfterMs)!==null&&l!==void 0?l:p=>GA[p-1]||qA,this.vsn){case jw:this.encode=(u=e?.encode)!==null&&u!==void 0?u:(p,v)=>v(JSON.stringify(p)),this.decode=(d=e?.decode)!==null&&d!==void 0?d:(p,v)=>v(JSON.parse(p));break;case cg:this.encode=(h=e?.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(f=e?.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}};var Ks=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function KA(t,e,n){let r=new URL(e,t);if(n)for(let[i,o]of Object.entries(n))o!==void 0&&r.searchParams.set(i,o);return r.toString()}async function YA(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function ZA(t){let e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:o,headers:s}){let a=KA(t.baseUrl,r,i),c=await YA(t.auth),l=await e(a,{method:n,headers:D(D(D({},o?{"Content-Type":"application/json"}:{}),c),s),body:o?JSON.stringify(o):void 0}),u=await l.text(),d=(l.headers.get("content-type")||"").includes("application/json"),h=d&&u?JSON.parse(u):u;if(!l.ok){let f=d?h:void 0,p=f?.error;throw new Ks(p?.message??`Request failed with status ${l.status}`,{status:l.status,icebergType:p?.type,icebergCode:p?.code,details:f})}return{status:l.status,headers:l.headers,data:h}}}}function su(t){return t.join("")}var JA=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){let e=t?{parent:su(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){let n={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${su(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${su(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${su(t.namespace)}`}),!0}catch(e){if(e instanceof Ks&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof Ks&&n.status===409)return;throw n}}};function fo(t){return t.join("")}var QA=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${fo(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){let n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${fo(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){let n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${fo(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${fo(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){let e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${fo(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){let e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${fo(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof Ks&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof Ks&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},$w=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);let n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=ZA({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new JA(this.client,e),this.tableOps=new QA(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};var cu=class extends Error{constructor(t,e="storage",n,r){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function lu(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var au=class extends cu{constructor(t,e,n,r="storage"){super(t,r,e,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},qw=class extends cu{constructor(t,e,n="storage"){super(t,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};var XA=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),eR=t=>{if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},pg=t=>{if(Array.isArray(t))return t.map(n=>pg(n));if(typeof t=="function"||t!==Object(t))return t;let e={};return Object.entries(t).forEach(([n,r])=>{let i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=pg(r)}),e},tR=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Zs(t){"@babel/helpers - typeof";return Zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zs(t)}function nR(t,e){if(Zs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rR(t){var e=nR(t,"string");return Zs(e)=="symbol"?e:e+""}function iR(t,e,n){return(e=rR(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hw(Object(n),!0).forEach(function(r){iR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var zw=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},oR=async(t,e,n,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){let i=t,o=i.status||500;if(typeof i.json=="function")i.json().then(s=>{let a=s?.statusCode||s?.code||o+"";e(new au(zw(s),o,a,r))}).catch(()=>{if(r==="vectors"){let s=o+"";e(new au(i.statusText||`HTTP ${o} error`,o,s,r))}else{let s=o+"";e(new au(i.statusText||`HTTP ${o} error`,o,s,r))}});else{let s=o+"";e(new au(i.statusText||`HTTP ${o} error`,o,s,r))}}else e(new qw(zw(t),t,r))},sR=(t,e,n,r)=>{let i={method:t,headers:e?.headers||{}};return t==="GET"||t==="HEAD"||!r?j(j({},i),n):(eR(r)?(i.headers=j({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r)):i.body=r,e?.duplex&&(i.duplex=e.duplex),j(j({},i),n))};async function Ys(t,e,n,r,i,o,s){return new Promise((a,c)=>{t(n,sR(e,r,i,o)).then(l=>{if(!l.ok)throw l;if(r?.noResolveJson)return l;if(s==="vectors"){let u=l.headers.get("content-type");if(l.headers.get("content-length")==="0"||l.status===204)return{};if(!u||!u.includes("application/json"))return{}}return l.json()}).then(l=>a(l)).catch(l=>oR(l,c,r,s))})}function Ww(t="storage"){return{get:async(e,n,r,i)=>Ys(e,"GET",n,r,i,void 0,t),post:async(e,n,r,i,o)=>Ys(e,"POST",n,i,o,r,t),put:async(e,n,r,i,o)=>Ys(e,"PUT",n,i,o,r,t),head:async(e,n,r,i)=>Ys(e,"HEAD",n,j(j({},r),{},{noResolveJson:!0}),i,void 0,t),remove:async(e,n,r,i,o)=>Ys(e,"DELETE",n,i,o,r,t)}}var aR=Ww("storage"),{get:Js,post:$t,put:gg,head:cR,remove:mg}=aR,ct=Ww("vectors"),ho=class{constructor(t,e={},n,r="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=XA(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(lu(n))return{data:null,error:n};throw n}}},lR=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(lu(e))return{data:null,error:e};throw e}}},Kw;Kw=Symbol.toStringTag;var uR=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Kw]="BlobDownloadBuilder",this.promise=null}asStream(){return new lR(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(lu(e))return{data:null,error:e};throw e}}},dR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Gw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},fR=class extends ho{constructor(t,e={},n,r){super(t,e,r,"storage"),this.bucketId=n}async uploadOrUpdate(t,e,n,r){var i=this;return i.handleOperation(async()=>{let o,s=j(j({},Gw),r),a=j(j({},i.headers),t==="POST"&&{"x-upsert":String(s.upsert)}),c=s.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),c&&o.append("metadata",i.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",s.cacheControl),c&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(c))):(o=n,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=i.toBase64(i.encodeMetadata(c))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!s.duplex&&(s.duplex="half")),r?.headers&&(a=j(j({},a),r.headers));let l=i._removeEmptyFolders(e),u=i._getFinalPath(l),d=await(t=="PUT"?gg:$t)(i.fetch,`${i.url}/object/${u}`,o,j({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{path:l,id:d.Id,fullPath:d.Key}})}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var i=this;let o=i._removeEmptyFolders(t),s=i._getFinalPath(o),a=new URL(i.url+`/object/upload/sign/${s}`);return a.searchParams.set("token",e),i.handleOperation(async()=>{let c,l=j({upsert:Gw.upsert},r),u=j(j({},i.headers),{"x-upsert":String(l.upsert)});return typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",l.cacheControl)):(c=n,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType),{path:o,fullPath:(await gg(i.fetch,a.toString(),c,{headers:u})).Key}})}async createSignedUploadUrl(t,e){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(t),i=j({},n.headers);e?.upsert&&(i["x-upsert"]="true");let o=await $t(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(n.url+o.url),a=s.searchParams.get("token");if(!a)throw new cu("No token returned by API");return{signedUrl:s.toString(),path:t,token:a}})}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;return r.handleOperation(async()=>await $t(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:r.headers}))}async copy(t,e,n){var r=this;return r.handleOperation(async()=>({path:(await $t(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(t,e,n){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(t),o=await $t(r.fetch,`${r.url}/object/sign/${i}`,j({expiresIn:e},n?.transform?{transform:n.transform}:{}),{headers:r.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${o.signedURL}${s}`)}})}async createSignedUrls(t,e,n){var r=this;return r.handleOperation(async()=>{let i=await $t(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i.map(s=>j(j({},s),{},{signedUrl:s.signedURL?encodeURI(`${r.url}${s.signedURL}${o}`):null}))})}download(t,e,n){let r=typeof e?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(e?.transform||{}),o=i?`?${i}`:"",s=this._getFinalPath(t),a=()=>Js(this.fetch,`${this.url}/${r}/${s}${o}`,{headers:this.headers,noResolveJson:!0},n);return new uR(a,this.shouldThrowOnError)}async info(t){var e=this;let n=e._getFinalPath(t);return e.handleOperation(async()=>pg(await Js(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})))}async exists(t){var e=this;let n=e._getFinalPath(t);try{return await cR(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(lu(r)&&r instanceof qw){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){let n=this._getFinalPath(t),r=[],i=e?.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&r.push(i);let o=typeof e?.transform<"u"?"render/image":"object",s=this.transformOptsToQueryString(e?.transform||{});s!==""&&r.push(s);let a=r.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${a}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await mg(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,n){var r=this;return r.handleOperation(async()=>{let i=j(j(j({},dR),e),{},{prefix:t||""});return await $t(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n)})}async listV2(t,e){var n=this;return n.handleOperation(async()=>{let r=j({},t);return await $t(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){let e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}},hR="2.95.3",Qs={"X-Client-Info":`storage-js/${hR}`},pR=class extends ho{constructor(t,e={},n,r){let i=new URL(t);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));let o=i.href.replace(/\/$/,""),s=j(j({},Qs),e);super(o,s,n,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{let n=e.listBucketOptionsToQueryString(t);return await Js(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Js(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var n=this;return n.handleOperation(async()=>await $t(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async updateBucket(t,e){var n=this;return n.handleOperation(async()=>await gg(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await $t(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await mg(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){let e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},gR=class extends ho{constructor(t,e={},n){let r=t.replace(/\/$/,""),i=j(j({},Qs),e);super(r,i,n,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await $t(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{let n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);let r=n.toString(),i=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return await Js(e.fetch,i,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await mg(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!tR(t))throw new cu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");let n=new $w({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,o){let s=i[o];return typeof s!="function"?s:async(...a)=>{try{return{data:await s.apply(i,a),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}}}})}},mR=class extends ho{constructor(t,e={},n){let r=t.replace(/\/$/,""),i=j(j({},Qs),{},{"Content-Type":"application/json"},e);super(r,i,n,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await ct.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var n=this;return n.handleOperation(async()=>await ct.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await ct.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var n=this;return n.handleOperation(async()=>await ct.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{})}},vR=class extends ho{constructor(t,e={},n){let r=t.replace(/\/$/,""),i=j(j({},Qs),{},{"Content-Type":"application/json"},e);super(r,i,n,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await ct.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await ct.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await ct.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await ct.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await ct.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},yR=class extends ho{constructor(t,e={},n){let r=t.replace(/\/$/,""),i=j(j({},Qs),{},{"Content-Type":"application/json"},e);super(r,i,n,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await ct.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await ct.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await ct.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await ct.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},_R=class extends yR{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new bR(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},bR=class extends mR{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,j(j({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,j(j({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new wR(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},wR=class extends vR{constructor(t,e,n,r,i){super(t,e,i),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,j(j({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,j(j({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,j(j({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,j(j({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,j(j({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},Yw=class extends pR{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new fR(this.url,this.headers,t,this.fetch)}get vectors(){return new _R(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new gR(this.url+"/iceberg",this.headers,this.fetch)}};var uu="2.95.3";var Kr=30*1e3,du=3,fu=du*Kr,Zw="http://localhost:9999",Jw="supabase.auth.token";var Qw={"X-Client-Info":`gotrue-js/${uu}`};var Xs="X-Supabase-Api-Version",vg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Xw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,e0=600*1e3;var rr=class extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function A(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}var hu=class extends rr{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function t0(t){return A(t)&&t.name==="AuthApiError"}var bt=class extends rr{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}},Ht=class extends rr{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}},Ve=class extends Ht{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function gu(t){return A(t)&&t.name==="AuthSessionMissingError"}var Mn=class extends Ht{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Yr=class extends Ht{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},Zr=class extends Ht{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function n0(t){return A(t)&&t.name==="AuthImplicitGrantRedirectError"}var ea=class extends Ht{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},pu=class extends Ht{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}};var po=class extends Ht{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}};function mu(t){return A(t)&&t.name==="AuthRetryableFetchError"}var ta=class extends Ht{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};var Jr=class extends Ht{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};var vu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),r0=` 	
\r=`.split(""),ER=(()=>{let t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<r0.length;e+=1)t[r0[e].charCodeAt(0)]=-2;for(let e=0;e<vu.length;e+=1)t[vu[e].charCodeAt(0)]=e;return t})();function i0(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;n(vu[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;n(vu[r]),e.queuedBits-=6}}function o0(t,e,n){let r=ER[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function yg(t){let e=[],n=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{IR(s,r,n)};for(let s=0;s<t.length;s+=1)o0(t.charCodeAt(s),i,o);return e.join("")}function DR(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function CR(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){let i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}DR(r,e)}}function IR(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function ir(t){let e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)o0(t.charCodeAt(i),n,r);return new Uint8Array(e)}function s0(t){let e=[];return CR(t,n=>e.push(n)),new Uint8Array(e)}function An(t){let e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>i0(i,n,r)),i0(null,n,r),e.join("")}function a0(t){return Math.round(Date.now()/1e3)+t}function c0(){return Symbol("auth-callback")}var Te=()=>typeof window<"u"&&typeof document<"u",Qr={tested:!1,writable:!1},yu=()=>{if(!Te())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qr.tested)return Qr.writable;let t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Qr.tested=!0,Qr.writable=!0}catch{Qr.tested=!0,Qr.writable=!1}return Qr.writable};function l0(t){let e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}var _u=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),u0=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Xr=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},or=async(t,e)=>{let n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Re=async(t,e)=>{await t.removeItem(e)},na=class t{constructor(){this.promise=new t.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}};na.promiseConstructor=Promise;function ra(t){let e=t.split(".");if(e.length!==3)throw new Jr("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Xw.test(e[r]))throw new Jr("JWT not in base64url format");return{header:JSON.parse(yg(e[0])),payload:JSON.parse(yg(e[1])),signature:ir(e[2]),raw:{header:e[0],payload:e[1]}}}async function d0(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function f0(t,e){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{let s=await t(o);if(!e(o,null,s)){r(s);return}}catch(s){if(!e(o,s)){i(s);return}}})()})}function SR(t){return("0"+t.toString(16)).substr(-2)}function TR(){let e=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,SR).join("")}async function xR(t){let n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function MR(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;let n=await xR(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ei(t,e,n=!1){let r=TR(),i=r;n&&(i+="/PASSWORD_RECOVERY"),await Xr(t,`${e}-code-verifier`,i);let o=await MR(r);return[o,r===o?"plain":"s256"]}var AR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function h0(t){let e=t.headers.get(Xs);if(!e||!e.match(AR))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function p0(t){if(!t)throw new Error("Missing exp claim");let e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function g0(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var RR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ti(t){if(!RR.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function bu(){let t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){let r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function m0(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function _g(t){return JSON.parse(JSON.stringify(t))}var ni=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),NR=[502,503,504];async function v0(t){var e;if(!u0(t))throw new po(ni(t),0);if(NR.includes(t.status))throw new po(ni(t),t.status);let n;try{n=await t.json()}catch(o){throw new bt(ni(o),o)}let r,i=h0(t);if(i&&i.getTime()>=vg["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new ta(ni(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Ve}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new ta(ni(n),t.status,n.weak_password.reasons);throw new hu(ni(n),t.status||500,r)}var OR=(t,e,n,r)=>{let i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function k(t,e,n,r){var i;let o=Object.assign({},r?.headers);o[Xs]||(o[Xs]=vg["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await kR(t,e,n+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}}async function kR(t,e,n,r,i,o){let s=OR(e,r,i,o),a;try{a=await t(n,Object.assign({},s))}catch(c){throw console.error(c),new po(ni(c),0)}if(a.ok||await v0(a),r?.noResolveJson)return a;try{return await a.json()}catch(c){await v0(c)}}function wt(t){var e;let n=null;PR(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=a0(t.expires_in)));let r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function bg(t){let e=wt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function cn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function y0(t){return{data:t,error:null}}function _0(t){let{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=t,s=lr(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function wg(t){return t}function PR(t){return t.access_token&&t.refresh_token&&t.expires_in}var wu=["global","local","others"];var go=class{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=_u(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=wu[0]){if(wu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${wu.join(", ")}`);try{return await k(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await k(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:cn})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{let{options:n}=e,r=lr(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await k(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:_0,redirectTo:n?.redirectTo})}catch(n){if(A(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await k(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:cn})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,o,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=await k(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:wg});if(u.error)throw u.error;let d=await u.json(),h=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{let v=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(p.split(";")[1].split("=")[1]);l[`${y}Page`]=v}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(A(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){ti(e);try{return await k(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:cn})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){ti(e);try{return await k(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:cn})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){ti(e);try{return await k(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:cn})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){ti(e.userId);try{let{data:n,error:r}=await k(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(A(n))return{data:null,error:n};throw n}}async _deleteFactor(e){ti(e.userId),ti(e.id);try{return{data:await k(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(A(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,o,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=await k(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:wg});if(u.error)throw u.error;let d=await u.json(),h=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{let v=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(p.split(";")[1].split("=")[1]);l[`${y}Page`]=v}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(A(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(e){try{return await k(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(A(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await k(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(A(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await k(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(A(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await k(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(A(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await k(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(A(n))return{data:null,error:n};throw n}}};function Eg(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}var ri={debug:!!(globalThis&&yu()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},ia=class extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}},Eu=class extends ia{};async function Dg(t,e,n){ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);let r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ri.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Eu(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ri.debug)try{let o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function b0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Cg(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function w0(t){return parseInt(t,16)}function E0(t){let e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function D0(t){var e;let{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:s,notBefore:a,requestId:c,resources:l,scheme:u,uri:d,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}let f=Cg(t.address),p=u?`${u}://${r}`:r,v=t.statement?`${t.statement}
`:"",y=`${p} wants you to sign in with your Ethereum account:
${f}

${v}`,m=`URI: ${d}
Version: ${h}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${o.toISOString()}`;if(i&&(m+=`
Expiration Time: ${i.toISOString()}`),a&&(m+=`
Not Before: ${a.toISOString()}`),c&&(m+=`
Request ID: ${c}`),l){let N=`
Resources:`;for(let T of l){if(!T||typeof T!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`);N+=`
- ${T}`}m+=N}return`${y}
${m}`}var me=class extends Error{constructor({message:e,code:n,cause:r,name:i}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}},ii=class extends me{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}};function C0({error:t,options:e}){var n,r,i;let{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new me({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new me({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new me({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new me({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new me({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new me({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new me({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new me({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){let s=window.location.hostname;if(Ig(s)){if(o.rp.id!==s)return new me({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new me({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new me({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new me({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new me({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function I0({error:t,options:e}){let{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new me({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new me({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){let r=window.location.hostname;if(Ig(r)){if(n.rpId!==r)return new me({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new me({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new me({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new me({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var Sg=class{createNewAbortSignal(){if(this.controller){let n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}let e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){let e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}},FR=new Sg;function T0(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);let{challenge:e,user:n,excludeCredentials:r}=t,i=lr(t,["challenge","user","excludeCredentials"]),o=ir(e).buffer,s=Object.assign(Object.assign({},n),{id:ir(n.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:o,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){let l=r[c];a.excludeCredentials[c]=Object.assign(Object.assign({},l),{id:ir(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function x0(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);let{challenge:e,allowCredentials:n}=t,r=lr(t,["challenge","allowCredentials"]),i=ir(e).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){let a=n[s];o.allowCredentials[s]=Object.assign(Object.assign({},a),{id:ir(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function M0(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();let n=t;return{id:t.id,rawId:t.id,response:{attestationObject:An(new Uint8Array(t.response.attestationObject)),clientDataJSON:An(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function A0(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();let n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:An(new Uint8Array(i.authenticatorData)),clientDataJSON:An(new Uint8Array(i.clientDataJSON)),signature:An(new Uint8Array(i.signature)),userHandle:i.userHandle?An(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Ig(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function S0(){var t,e;return!!(Te()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function LR(t){try{let e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ii("Browser returned unexpected credential type",e)}:{data:null,error:new ii("Empty credential response",e)}}catch(e){return{data:null,error:C0({error:e,options:t})}}}async function jR(t){try{let e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ii("Browser returned unexpected credential type",e)}:{data:null,error:new ii("Empty credential response",e)}}catch(e){return{data:null,error:I0({error:e,options:t})}}}var VR={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},UR={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Du(...t){let e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(let i of t)if(i)for(let o in i){let s=i[o];if(s!==void 0)if(Array.isArray(s))r[o]=s;else if(n(s))r[o]=s;else if(e(s)){let a=r[o];e(a)?r[o]=Du(a,s):r[o]=Du(s)}else r[o]=s}return r}function BR(t,e){return Du(VR,t,e||{})}function $R(t,e){return Du(UR,t,e||{})}var Cu=class{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},o){var s;try{let{data:a,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:c};let l=i??FR.createNewAbortSignal();if(a.webauthn.type==="create"){let{user:u}=a.webauthn.credential_options.publicKey;if(!u.name){let d=r;if(d)u.name=`${u.id}:${d}`;else{let f=(await this.client.getUser()).data.user,p=((s=f?.user_metadata)===null||s===void 0?void 0:s.name)||f?.email||f?.id||"User";u.name=`${u.id}:${p}`}}u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{let u=BR(a.webauthn.credential_options.publicKey,o?.create),{data:d,error:h}=await LR({publicKey:u,signal:l});return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{let u=$R(a.webauthn.credential_options.publicKey,o?.request),{data:d,error:h}=await jR(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:l}));return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(a){return A(a)?{data:null,error:a}:{data:null,error:new bt("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new rr("rpId is required for WebAuthn authentication")};try{if(!S0())return{data:null,error:new bt("Browser does not support WebAuthn",null)};let{data:s,error:a}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!s)return{data:null,error:a};let{webauthn:c}=s;return this._verify({factorId:e,challengeId:s.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(s){return A(s)?{data:null,error:s}:{data:null,error:new bt("Unexpected error in authenticate",s)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new rr("rpId is required for WebAuthn registration")};try{if(!S0())return{data:null,error:new bt("Browser does not support WebAuthn",null)};let{data:s,error:a}=await this._enroll({friendlyName:e});if(!s)return await this.client.mfa.listFactors().then(u=>{var d;return(d=u.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u?.id}):void 0),{data:null,error:a};let{data:c,error:l}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:l}}catch(s){return A(s)?{data:null,error:s}:{data:null,error:new bt("Unexpected error in register",s)}}}};b0();var HR={url:Zw,storageKey:Jw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Qw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function R0(t,e,n){return await n()}var mo={},zR=(()=>{class t{get jwks(){var n,r;return(r=(n=mo[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){mo[this.storageKey]=Object.assign(Object.assign({},mo[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=mo[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){mo[this.storageKey]=Object.assign(Object.assign({},mo[this.storageKey]),{cachedAt:n})}constructor(n){var r,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let s=Object.assign(Object.assign({},HR),n);if(this.storageKey=s.storageKey,this.instanceID=(r=t.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,t.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Te()){let a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new go({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=_u(s.fetch),this.lock=s.lock||R0,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&Te()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=Dg:this.lock=R0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Cu(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:yu()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Eg(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Eg(this.memoryStorage)),Te()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(c){this._debug("#broadcastChannel","error",c)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${uu}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let r={},i="none";if(Te()&&(r=l0(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce")),Te()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=await this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),n0(s)){let l=(n=s.details)===null||n===void 0?void 0:n.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return{error:s}}let{session:a,redirectType:c}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),await this._saveSession(a),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return A(r)?this._returnResult({error:r}):this._returnResult({error:new bt("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,i,o;try{let s=await k(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=n?.options)===null||o===void 0?void 0:o.captchaToken}},xform:wt}),{data:a,error:c}=s;if(c||!a)return this._returnResult({data:{user:null,session:null},error:c});let l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(A(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(n){var r,i,o;try{let s;if("email"in n){let{email:d,password:h,options:f}=n,p=null,v=null;this.flowType==="pkce"&&([p,v]=await ei(this.storage,this.storageKey)),s=await k(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:h,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:p,code_challenge_method:v},xform:wt})}else if("phone"in n){let{phone:d,password:h,options:f}=n;s=await k(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(i=f?.data)!==null&&i!==void 0?i:{},channel:(o=f?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:wt})}else throw new Yr("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return await Re(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});let l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(await Re(this.storage,`${this.storageKey}-code-verifier`),A(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(n){try{let r;if("email"in n){let{email:s,password:a,options:c}=n;r=await k(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:bg})}else if("phone"in n){let{phone:s,password:a,options:c}=n;r=await k(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:bg})}else throw new Yr("You must provide either an email or phone number and a password");let{data:i,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){let s=new Mn;return this._returnResult({data:{user:null,session:null},error:s})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(A(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(n){var r,i,o,s;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=n.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=n.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){let{chain:r}=n;switch(r){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(n){var r,i,o,s,a,c,l,u,d,h,f;let p,v;if("message"in n)p=n.message,v=n.signature;else{let{chain:y,wallet:m,statement:N,options:T}=n,E;if(Te())if(typeof m=="object")E=m;else{let un=window;if("ethereum"in un&&typeof un.ethereum=="object"&&"request"in un.ethereum&&typeof un.ethereum.request=="function")E=un.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=m}let Y=new URL((r=T?.url)!==null&&r!==void 0?r:window.location.href),Ue=await E.request({method:"eth_requestAccounts"}).then(un=>un).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Ue||Ue.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let te=Cg(Ue[0]),fe=(i=T?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!fe){let un=await E.request({method:"eth_chainId"});fe=w0(un)}let V0={domain:Y.host,address:te,statement:N,uri:Y.href,version:"1",chainId:fe,nonce:(o=T?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(a=(s=T?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(c=T?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(l=T?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=T?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=T?.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=D0(V0),v=await E.request({method:"personal_sign",params:[E0(p),te]})}try{let{data:y,error:m}=await k(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:v},!((h=n.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=n.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:wt});if(m)throw m;if(!y||!y.session||!y.user){let N=new Mn;return this._returnResult({data:{user:null,session:null},error:N})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:m})}catch(y){if(A(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(n){var r,i,o,s,a,c,l,u,d,h,f,p;let v,y;if("message"in n)v=n.message,y=n.signature;else{let{chain:m,wallet:N,statement:T,options:E}=n,Y;if(Te())if(typeof N=="object")Y=N;else{let te=window;if("solana"in te&&typeof te.solana=="object"&&("signIn"in te.solana&&typeof te.solana.signIn=="function"||"signMessage"in te.solana&&typeof te.solana.signMessage=="function"))Y=te.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Y=N}let Ue=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in Y&&Y.signIn){let te=await Y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:Ue.host,uri:Ue.href}),T?{statement:T}:null)),fe;if(Array.isArray(te)&&te[0]&&typeof te[0]=="object")fe=te[0];else if(te&&typeof te=="object"&&"signedMessage"in te&&"signature"in te)fe=te;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in fe&&"signature"in fe&&(typeof fe.signedMessage=="string"||fe.signedMessage instanceof Uint8Array)&&fe.signature instanceof Uint8Array)v=typeof fe.signedMessage=="string"?fe.signedMessage:new TextDecoder().decode(fe.signedMessage),y=fe.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Y)||typeof Y.signMessage!="function"||!("publicKey"in Y)||typeof Y!="object"||!Y.publicKey||!("toBase58"in Y.publicKey)||typeof Y.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${Ue.host} wants you to sign in with your Solana account:`,Y.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${Ue.href}`,`Issued At: ${(o=(i=E?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((s=E?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((a=E?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((c=E?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((l=E?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((u=E?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((h=(d=E?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...E.signInWithSolana.resources.map(fe=>`- ${fe}`)]:[]].join(`
`);let te=await Y.signMessage(new TextEncoder().encode(v),"utf8");if(!te||!(te instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=te}}try{let{data:m,error:N}=await k(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:An(y)},!((f=n.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=n.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:wt});if(N)throw N;if(!m||!m.session||!m.user){let T=new Mn;return this._returnResult({data:{user:null,session:null},error:T})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:N})}catch(m){if(A(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async _exchangeCodeForSession(n){let r=await or(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{if(!i&&this.flowType==="pkce")throw new pu;let{data:s,error:a}=await k(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:i},xform:wt});if(await Re(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){let c=new Mn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(await Re(this.storage,`${this.storageKey}-code-verifier`),A(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(n){try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=n,c=await k(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:wt}),{data:l,error:u}=c;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){let d=new Mn;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(A(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(n){var r,i,o,s,a;try{if("email"in n){let{email:c,options:l}=n,u=null,d=null;this.flowType==="pkce"&&([u,d]=await ei(this.storage,this.storageKey));let{error:h}=await k(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in n){let{phone:c,options:l}=n,{data:u,error:d}=await k(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(o=l?.data)!==null&&o!==void 0?o:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(a=l?.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:d})}throw new Yr("You must provide either an email or phone number.")}catch(c){if(await Re(this.storage,`${this.storageKey}-code-verifier`),A(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(n){var r,i;try{let o,s;"options"in n&&(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo,s=(i=n.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:c}=await k(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:wt});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let l=a.session,u=a.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(A(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(n){var r,i,o,s,a;try{let c=null,l=null;this.flowType==="pkce"&&([c,l]=await ei(this.storage,this.storageKey));let u=await k(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=n?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:l}),headers:this.headers,xform:y0});return!((s=u.data)===null||s===void 0)&&s.url&&Te()&&!(!((a=n.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(c){if(await Re(this.storage,`${this.storageKey}-code-verifier`),A(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{let{data:{session:r},error:i}=n;if(i)throw i;if(!r)throw new Ve;let{error:o}=await k(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(n){if(A(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{let r=`${this.url}/resend`;if("email"in n){let{email:i,type:o,options:s}=n,{error:a}=await k(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in n){let{phone:i,type:o,options:s}=n,{data:a,error:c}=await k(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:c})}throw new Yr("You must provide either an email or phone number and a type")}catch(r){if(A(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){let o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{let r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=await or(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};let i=n.expires_at?n.expires_at*1e3-Date.now()<fu:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",n.expires_at),!i){if(this.userStorage){let a=await or(this.userStorage,this.storageKey+"-user");a?.user?n.user=a.user:n.user=bu()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){let a={value:this.suppressGetSessionWarning};n.user=m0(n.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}let{data:o,error:s}=await this._callRefreshToken(n.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;let r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(n){try{return n?await k(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:cn}):await this._useSession(async r=>{var i,o,s;let{data:a,error:c}=r;if(c)throw c;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ve}:await k(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:cn})})}catch(r){if(A(r))return gu(r)&&(await this._removeSession(),await Re(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async i=>{let{data:o,error:s}=i;if(s)throw s;if(!o.session)throw new Ve;let a=o.session,c=null,l=null;this.flowType==="pkce"&&n.email!=null&&([c,l]=await ei(this.storage,this.storageKey));let{data:u,error:d}=await k(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:c,code_challenge_method:l}),jwt:a.access_token,xform:cn});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(i){if(await Re(this.storage,`${this.storageKey}-code-verifier`),A(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Ve;let r=Date.now()/1e3,i=r,o=!0,s=null,{payload:a}=ra(n.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{data:c,error:l}=await this._callRefreshToken(n.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:l}=await this._getUser(n.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});s={access_token:n.access_token,refresh_token:n.refresh_token,user:c.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(A(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var i;if(!n){let{data:a,error:c}=r;if(c)throw c;n=(i=a.session)!==null&&i!==void 0?i:void 0}if(!n?.refresh_token)throw new Ve;let{data:o,error:s}=await this._callRefreshToken(n.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(A(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(n,r){try{if(!Te())throw new Zr("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Zr(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ea("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Zr("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new ea("No code detected.");let{data:T,error:E}=await this._exchangeCodeForSession(n.code);if(E)throw E;let Y=new URL(window.location.href);return Y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Y.toString()),{data:{session:T.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:c,expires_at:l,token_type:u}=n;if(!s||!c||!a||!u)throw new Zr("No session defined in URL");let d=Math.round(Date.now()/1e3),h=parseInt(c),f=d+h;l&&(f=parseInt(l));let p=f-d;p*1e3<=Kr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);let v=f-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);let{data:y,error:m}=await this._getUser(s);if(m)throw m;let N={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:N,redirectType:n.type},error:null})}catch(i){if(A(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){let r=await or(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var i;let{data:o,error:s}=r;if(s&&!gu(s))return this._returnResult({error:s});let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:c}=await this.admin.signOut(a,n);if(c&&!(t0(c)&&(c.status===404||c.status===401||c.status===403)||gu(c)))return this._returnResult({error:c})}return n!=="others"&&(await this._removeSession(),await Re(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){let r=c0(),i={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(n){return await this._useSession(async r=>{var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;await((i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",n,"session",s)}catch(s){await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",s),console.error(s)}})}async resetPasswordForEmail(n,r={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await ei(this.storage,this.storageKey,!0));try{return await k(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await Re(this.storage,`${this.storageKey}-code-verifier`),A(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var n;try{let{data:r,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var r;try{let{data:i,error:o}=await this._useSession(async s=>{var a,c,l,u,d;let{data:h,error:f}=s;if(f)throw f;let p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=n.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=n.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await k(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(o)throw o;return Te()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:n.provider,url:i?.url},error:null})}catch(i){if(A(i))return this._returnResult({data:{provider:n.provider,url:null},error:i});throw i}}async linkIdentityIdToken(n){return await this._useSession(async r=>{var i;try{let{error:o,data:{session:s}}=r;if(o)throw o;let{options:a,provider:c,token:l,access_token:u,nonce:d}=n,h=await k(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=s?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:c,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:wt}),{data:f,error:p}=h;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Mn}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(o){if(await Re(this.storage,`${this.storageKey}-code-verifier`),A(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(n){try{return await this._useSession(async r=>{var i,o;let{data:s,error:a}=r;if(a)throw a;return await k(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(n){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return await f0(async o=>(o>0&&await d0(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await k(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:wt})),(o,s)=>{let a=200*Math.pow(2,o);return s&&mu(s)&&Date.now()+a-i<Kr})}catch(i){if(this._debug(r,"error",i),A(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){let i=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",i),Te()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:n,url:i},error:null}}async _recoverAndRefresh(){var n,r;let i="#_recoverAndRefresh()";this._debug(i,"begin");try{let o=await or(this.storage,this.storageKey);if(o&&this.userStorage){let a=await or(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:o.user},await Xr(this.userStorage,this.storageKey+"-user",a)),o.user=(n=a?.user)!==null&&n!==void 0?n:bu()}else if(o&&!o.user&&!o.user){let a=await or(this.storage,this.storageKey+"-user");a&&a?.user?(o.user=a.user,await Re(this.storage,this.storageKey+"-user"),await Xr(this.storage,this.storageKey,o)):o.user=bu()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}let s=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<fu;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${fu}s`),s){if(this.autoRefreshToken&&o.refresh_token){let{error:a}=await this._callRefreshToken(o.refresh_token);a&&(console.error(a),mu(a)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:c}=await this._getUser(o.access_token);!c&&a?.user?(o.user=a.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(i,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(n){var r,i;if(!n)throw new Ve;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new na;let{data:s,error:a}=await this._refreshAccessToken(n);if(a)throw a;if(!s.session)throw new Ve;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={data:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(o,"error",s),A(s)){let a={data:null,error:s};return mu(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(n,r,i=!0){let o=`#_notifyAllSubscribers(${n})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:n,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(n,r)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(o,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await Re(this.storage,`${this.storageKey}-code-verifier`);let r=Object.assign({},n),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await Xr(this.userStorage,this.storageKey+"-user",{user:r.user});let o=Object.assign({},r);delete o.user;let s=_g(o);await Xr(this.storage,this.storageKey,s)}else{let o=_g(r);await Xr(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Re(this.storage,this.storageKey),await Re(this.storage,this.storageKey+"-code-verifier"),await Re(this.storage,this.storageKey+"-user"),this.userStorage&&await Re(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Te()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),Kr);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);let r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);let r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let n=Date.now();try{return await this._useSession(async r=>{let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-n)/Kr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Kr}ms, refresh threshold is ${du} ticks`),o<=du&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof ia)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Te()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(n){this._debug("#visibilityChangedCallback","error",n)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,i){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,a]=await ei(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(c.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${n}?${o.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var i;let{data:o,error:s}=r;return s?this._returnResult({data:null,error:s}):await k(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(n){try{return await this._useSession(async r=>{var i,o;let{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});let c=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:l,error:u}=await k(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return u?this._returnResult({data:null,error:u}):(n.factorType==="totp"&&l.type==="totp"&&(!((o=l?.totp)===null||o===void 0)&&o.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?M0(n.webauthn.credential_response):A0(n.webauthn.credential_response)})}:{code:n.code}),{data:c,error:l}=await k(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:a,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:l}))})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=await k(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});if(a.error)return a;let{data:c}=a;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:T0(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:x0(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(n){let{data:r,error:i}=await this._challenge({factorId:n.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){var n;let{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};let o={all:[],phone:[],totp:[],webauthn:[]};for(let s of(n=r?.factors)!==null&&n!==void 0?n:[])o.all.push(s),s.status==="verified"&&o[s.factor_type].push(s);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(n){var r,i,o,s;if(n)try{let{payload:p}=ra(n),v=null;p.aal&&(v=p.aal);let y=v,{data:{user:m},error:N}=await this.getUser(n);if(N)return this._returnResult({data:null,error:N});((i=(r=m?.factors)===null||r===void 0?void 0:r.filter(Y=>Y.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(y="aal2");let E=p.amr||[];return{data:{currentLevel:v,nextLevel:y,currentAuthenticationMethods:E},error:null}}catch(p){if(A(p))return this._returnResult({data:null,error:p});throw p}let{data:{session:a},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:l}=ra(a.access_token),u=null;l.aal&&(u=l.aal);let d=u;((s=(o=a.user.factors)===null||o===void 0?void 0:o.filter(p=>p.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(d="aal2");let f=l.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async r=>{let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?await k(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:i.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Ve})})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(n,r){try{return await this._useSession(async i=>{let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new Ve});let a=await k(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&Te()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(i){if(A(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(n,r){try{return await this._useSession(async i=>{let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new Ve});let a=await k(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&Te()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(i){if(A(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async n=>{let{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await k(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Ve})})}catch(n){if(A(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async r=>{let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?(await k(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ve})})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(n,r={keys:[]}){let i=r.keys.find(c=>c.kid===n);if(i)return i;let o=Date.now();if(i=this.jwks.keys.find(c=>c.kid===n),i&&this.jwks_cached_at+e0>o)return i;let{data:s,error:a}=await k(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=o,i=s.keys.find(c=>c.kid===n),!i)?null:i}async getClaims(n,r={}){try{let i=n;if(!i){let{data:p,error:v}=await this.getSession();if(v||!p.session)return this._returnResult({data:null,error:v});i=p.session.access_token}let{header:o,payload:s,signature:a,raw:{header:c,payload:l}}=ra(i);r?.allowExpired||p0(s.exp);let u=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!u){let{error:p}=await this.getUser(i);if(p)throw p;return{data:{claims:s,header:o,signature:a},error:null}}let d=g0(o.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,s0(`${c}.${l}`)))throw new Jr("Invalid JWT signature");return{data:{claims:s,header:o,signature:a},error:null}}catch(i){if(A(i))return this._returnResult({data:null,error:i});throw i}}}return t.nextInstanceID={},t})(),Tg=zR;var GR=Tg,xg=GR;var qR="2.95.3",oa="";typeof Deno<"u"?oa="deno":typeof document<"u"?oa="web":typeof navigator<"u"&&navigator.product==="ReactNative"?oa="react-native":oa="node";var WR={"X-Client-Info":`supabase-js-${oa}/${qR}`},KR={headers:WR},YR={schema:"public"},ZR={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},JR={};function sa(t){"@babel/helpers - typeof";return sa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sa(t)}function QR(t,e){if(sa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XR(t){var e=QR(t,"string");return sa(e)=="symbol"?e:e+""}function eN(t,e,n){return(e=XR(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N0(Object(n),!0).forEach(function(r){eN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var tN=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),nN=()=>Headers,rN=(t,e,n)=>{let r=tN(n),i=nN();return async(o,s)=>{var a;let c=(a=await e())!==null&&a!==void 0?a:t,l=new i(s?.headers);return l.has("apikey")||l.set("apikey",t),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(o,_e(_e({},s),{},{headers:l}))}};function iN(t){return t.endsWith("/")?t:t+"/"}function oN(t,e){var n,r;let{db:i,auth:o,realtime:s,global:a}=t,{db:c,auth:l,realtime:u,global:d}=e,h={db:_e(_e({},c),i),auth:_e(_e({},l),o),realtime:_e(_e({},u),s),storage:{},global:_e(_e(_e({},d),a),{},{headers:_e(_e({},(n=d?.headers)!==null&&n!==void 0?n:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function sN(t){let e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(iN(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var aN=class extends xg{constructor(t){super(t)}},cN=class{constructor(t,e,n){var r,i;this.supabaseUrl=t,this.supabaseKey=e;let o=sN(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);let s=`sb-${o.hostname.split(".")[0]}-auth-token`,a={db:YR,realtime:JR,auth:_e(_e({},ZR),{},{storageKey:s}),global:KR},c=oN(n??{},a);if(this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(u,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var l;this.auth=this._initSupabaseAuthClient((l=c.auth)!==null&&l!==void 0?l:{},this.headers,c.global.fetch)}this.fetch=rN(e,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(_e({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new kw(new URL("rest/v1",o).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch,timeout:c.db.timeout,urlLengthLimit:c.db.urlLengthLimit}),this.storage=new Yw(this.storageUrl.href,this.headers,this.fetch,n?.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new Bs(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();let{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:o,flowType:s,lock:a,debug:c,throwOnError:l},u,d){let h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new aN({url:this.authUrl.href,headers:_e(_e({},h),u),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,flowType:s,lock:a,debug:c,throwOnError:l,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Ws(this.realtimeUrl.href,_e(_e({},t),{},{params:_e(_e({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}},O0=(t,e,n)=>new cN(t,e,n);function lN(){if(typeof window<"u")return!1;let t=globalThis.process;if(!t)return!1;let e=t.version;if(e==null)return!1;let n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}lN()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var et=O0("https://sxkegulacdjtpnifhydz.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN4a2VndWxhY2RqdHBuaWZoeWR6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA2Mzg0OTksImV4cCI6MjA4NjIxNDQ5OX0.7H_KEM0bdj6j3mPbmRnM6lJxBj3eWk1ENdyQY02GN4I");var Ye={production:!0,apiBaseUrl:"https://orbit-api-rcpu.onrender.com/api",adminPin:"Happy@Tari"};var ln=class t{constructor(e){this.http=e}apiUrl=`${Ye.apiBaseUrl}/auth`;async login(e,n){return localStorage.setItem("isLoggedIn","true"),await et.auth.signInWithPassword({email:e,password:n})}async register(e,n){return await et.auth.signUp({email:e,password:n})}async syncUser(){try{let n=await this.getCurrentUser();if(n)return n}catch{console.warn("Backend sync failed, using Supabase session")}let{data:e}=await et.auth.getSession();return e.session?.user??null}async getAuthHeaders(){let{data:e}=await et.auth.getSession(),n=e.session?.access_token;return new sn({Authorization:`Bearer ${n}`})}async getCurrentUser(){let e=await this.getAuthHeaders();return this.http.get(`${this.apiUrl}/me`,{headers:e}).toPromise()}async logout(e){await et.auth.signOut(),localStorage.clear(),e.navigate(["/signin"])}async isLoggedIn(){let{data:e}=await et.auth.getSession();return!!e.session}static \u0275fac=function(n){return new(n||t)(M(vt))};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})};var uN=t=>({cursor:t}),Su=class t{constructor(e,n){this.auth=e;this.router=n}isRegister=!1;username="";email="";password="";confirmPassword="";showPassword=!1;error="";adminPin="";async ngOnInit(){let{data:e}=await et.auth.getSession();e.session&&this.router.navigateByUrl("/canvas")}async googleLogin(){if(this.adminPin&&this.adminPin!==Ye.adminPin){alert("Invalid Admin PIN");return}let e=this.adminPin===Ye.adminPin,{error:n}=await et.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/canvas"}});n||(localStorage.setItem("isLoggedIn","true"),e?localStorage.setItem("role","admin"):localStorage.setItem("role","user"))}toggleMode(){this.isRegister=!this.isRegister,this.error="",this.password="",this.confirmPassword=""}submit(){if(this.error="",!this.email||!this.password||this.isRegister&&!this.username){this.error="Please fill all fields";return}this.isRegister?this.register():this.login()}async register(){if(this.password!==this.confirmPassword){this.error="Passwords do not match";return}let{error:e}=await this.auth.register(this.email,this.password);e?this.error=e.message:(this.isRegister=!1,this.password="",this.confirmPassword="",alert("Check your email to confirm your account"))}openAbout(){this.router.navigate(["about"])}async login(){this.error="";let{error:e,data:n}=await this.auth.login(this.email,this.password);if(e){this.error=e.message;return}localStorage.setItem("userId",n.user.id),localStorage.setItem("email",n.user.email||""),this.router.navigate(["/canvas"])}static \u0275fac=function(n){return new(n||t)(S(ln),S(ze))};static \u0275cmp=pe({type:t,selectors:[["app-signin"]],decls:27,vars:5,consts:[[1,"orbit-title"],[1,"bracket"],[1,"orbit-btn",3,"click"],[1,"signin-container"],[1,"grid-bg"],[1,"login-card"],[1,"title"],[1,"title-orbit"],[1,"subtitle"],[1,"admin-pin-container"],["type","password","placeholder","Admin PIN",1,"admin-input",3,"ngModelChange","ngModel"],[1,"google-btn",3,"click","disabled","ngStyle"],["viewBox","0 0 48 48",1,"google-icon"],["fill","#EA4335","d","M24 9.5c3.4 0 6.5 1.2 8.9 3.2l6.6-6.6C35.5 2.5 30.1 0 24 0 14.6 0 6.6 5.8 2.7 14.2l7.8 6.1C12.4 13.3 17.7 9.5 24 9.5z"],["fill","#4285F4","d","M46.5 24.5c0-1.7-.2-3.3-.6-4.9H24v9.3h12.5c-.5 2.7-2 5-4.2 6.5l6.6 5.1c3.9-3.6 6.6-8.9 6.6-16z"],["fill","#FBBC05","d","M10.5 28.3c-.6-1.7-.9-3.5-.9-5.3s.3-3.6.9-5.3l-7.8-6.1C1 15.2 0 19.4 0 24s1 8.8 2.7 12.4l7.8-6.1z"],["fill","#34A853","d","M24 48c6.5 0 12-2.1 16-5.7l-6.6-5.1c-2 1.3-4.6 2.1-9.4 2.1-6.3 0-11.6-3.8-13.5-9.3l-7.8 6.1C6.6 42.2 14.6 48 24 48z"],[1,"footer-text"]],template:function(n,r){n&1&&(_(0,"h2",0)(1,"span",1),g(2,"["),b(),_(3,"button",2),B("click",function(){return r.openAbout()}),g(4," Orbit "),b(),_(5,"span",1),g(6,"]"),b()(),_(7,"div",3),Q(8,"div",4),_(9,"div",5)(10,"h2",6),g(11,"Welcome to "),_(12,"span",7),g(13,"Orbit"),b()(),_(14,"p",8),g(15," [ The Visual File Management System ] "),b(),_(16,"div",9)(17,"input",10),jt("ngModelChange",function(o){return rn(r.adminPin,o)||(r.adminPin=o),o}),b()(),_(18,"button",11),B("click",function(){return r.googleLogin()}),Qe(),_(19,"svg",12),Q(20,"path",13)(21,"path",14)(22,"path",15)(23,"path",16),b(),g(24," Continue with Google "),b(),Di(),_(25,"p",17),g(26," Secure authentication powered by Google "),b()()()),n&2&&(R(17),Lt("ngModel",r.adminPin),R(),P("disabled",!r.adminPin)("ngStyle",$h(3,uN,r.adminPin?"pointer":"not-allowed")))},dependencies:[io,tr,ro,qr,cp],styles:[".orbit-title[_ngcontent-%COMP%]{position:fixed;top:18px;left:40px;display:flex;align-items:center;gap:6px;font-family:IBM Plex Mono,monospace;font-size:18px;font-weight:900;letter-spacing:.4px;color:#f9fafb;-webkit-user-select:none;user-select:none;z-index:1000}.bracket[_ngcontent-%COMP%]{font-weight:900;color:#f9fafb}.orbit-btn[_ngcontent-%COMP%]{background:transparent;border:none;padding:0;margin:0;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;color:inherit;cursor:pointer}.orbit-btn[_ngcontent-%COMP%]:hover, .orbit-btn[_ngcontent-%COMP%]:focus, .orbit-btn[_ngcontent-%COMP%]:active{background:transparent;outline:none;box-shadow:none}.orbit-btn[_ngcontent-%COMP%]:hover{text-decoration:underline;text-decoration-thickness:3px;text-underline-offset:4px}.signin-container[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0b0f14;display:flex;align-items:center;justify-content:center;font-family:IBM Plex Mono,monospace;overflow:hidden}.grid-bg[_ngcontent-%COMP%]{position:absolute;inset:0;pointer-events:none;background-image:linear-gradient(rgba(255,255,255,.04) 1px,transparent 1px),linear-gradient(90deg,rgba(255,255,255,.04) 1px,transparent 1px);background-size:40px 40px;background-position:center;opacity:.9}.login-card[_ngcontent-%COMP%]{position:relative;z-index:10;width:340px;padding:30px 26px;background:#141414d9;-webkit-backdrop-filter:blur(14px);backdrop-filter:blur(14px);border-radius:10px;box-shadow:0 20px 60px #000c;text-align:center;color:#e5e7eb}.title[_ngcontent-%COMP%]{font-size:18px;margin-bottom:20px;font-weight:500;letter-spacing:.2px}.input-group[_ngcontent-%COMP%]{margin-bottom:14px;padding-right:28px;padding-bottom:12px}.title-orbit[_ngcontent-%COMP%]{text-decoration:underline;text-decoration-thickness:3px;text-underline-offset:4px}input[_ngcontent-%COMP%]{width:100%;padding:6px 12px;border-radius:6px;background:#1a1a1a;border:1px solid #2a2a2a;color:#f8fafc;outline:none;font-family:IBM Plex Mono,monospace;font-size:13px}input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}input[_ngcontent-%COMP%]:focus{border-color:#3b82f6}.password-group[_ngcontent-%COMP%]{position:relative}.password-group[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%);font-size:11px;color:#9ca3af;cursor:pointer}button[_ngcontent-%COMP%]{width:100%;margin-top:10px;padding:6px;background:#fff;color:#000;border:none;border-radius:6px;font-family:IBM Plex Mono,monospace;font-weight:600;font-size:13px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background:#e5e7eb}.error[_ngcontent-%COMP%]{margin-top:8px;font-size:12px;color:#f87171}.login-card[_ngcontent-%COMP%]{position:relative;z-index:10;width:360px;padding:40px 30px;background:#141414d9;-webkit-backdrop-filter:blur(18px);backdrop-filter:blur(18px);border-radius:14px;box-shadow:0 30px 80px #000000d9;text-align:center;color:#e5e7eb;animation:_ngcontent-%COMP%_fadeIn .6s ease forwards}.title[_ngcontent-%COMP%]{font-size:20px;margin-bottom:10px;font-weight:600;letter-spacing:.4px}.admin-input[_ngcontent-%COMP%]{width:93%;color:#000;border-radius:8px;font-family:IBM Plex Mono,monospace;font-weight:600;font-size:14px;display:flex;align-items:center;justify-content:center;gap:10px}.subtitle[_ngcontent-%COMP%]{padding-top:30px;font-size:13px;color:#9ca3af;margin-bottom:28px;line-height:1.6}.google-btn[_ngcontent-%COMP%]{width:100%;padding:10px;background:#fff;color:#000;border:none;border-radius:8px;font-family:IBM Plex Mono,monospace;font-weight:600;font-size:14px;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:10px;transition:all .25s ease}.google-btn[_ngcontent-%COMP%]:hover{background:#e5e7eb}.google-icon[_ngcontent-%COMP%]{width:18px;height:18px}.footer-text[_ngcontent-%COMP%]{margin-top:20px;font-size:11px;color:#6b7280}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}"]})};function dN(t,e){if(t&1){let n=Ie();_(0,"div")(1,"span",12),g(2,"[ "),b(),_(3,"span",13),B("click",function(){V(n);let i=O(2);return U(i.delete.emit())}),g(4," Delete "),b(),_(5,"span",12),g(6," ]"),b()()}}function fN(t,e){if(t&1){let n=Ie();_(0,"button",11),B("click",function(){V(n);let i=O(2);return U(i.addItem.emit())}),g(1," \uFF0B Add Item "),b()}}function hN(t,e){if(t&1){let n=Ie();_(0,"div",5)(1,"div",6)(2,"div",7),g(3),b(),ge(4,dN,7,0,"div",8),b(),_(5,"div",9),ge(6,fN,2,0,"button",10),_(7,"button",11),B("click",function(){V(n);let i=O();return U(i.addFolder.emit())}),g(8," \uFF0B Add Folder "),b()()()}if(t&2){let n=O();R(3),ot("[ ",n.currentFolder," ]"),R(),P("ngIf",n.currentFolder!=="Root"),R(2),P("ngIf",n.currentFolder!=="Root")}}var Tu=class t{constructor(e,n){this.authService=e;this.router=n}currentFolder=null;username=null;x;y;showActions=!0;userState;addFolder=new K;addItem=new K;openProfile=new K;delete=new K;async onLogout(){await this.authService.logout(this.router)}clearSession(){localStorage.removeItem("token"),localStorage.removeItem("username"),localStorage.removeItem("userId"),this.router.navigate(["/signin"])}static \u0275fac=function(n){return new(n||t)(S(ln),S(ze))};static \u0275cmp=pe({type:t,selectors:[["app-header"]],inputs:{currentFolder:"currentFolder",username:"username",x:"x",y:"y",showActions:"showActions",userState:"userState"},outputs:{addFolder:"addFolder",addItem:"addItem",openProfile:"openProfile",delete:"delete"},decls:9,vars:2,consts:[[1,"header"],[1,"left"],[1,"bracket"],[1,"username","clickable",3,"click"],["class","right",4,"ngIf"],[1,"right"],[1,"right-top"],[1,"folder-name"],[4,"ngIf"],[1,"header-button"],["class","add-folder-btn",3,"click",4,"ngIf"],[1,"add-folder-btn",3,"click"],[1,"del-bracket"],[1,"delete-action","clickable",3,"click"]],template:function(n,r){n&1&&(_(0,"header",0)(1,"div",1)(2,"span",2),g(3,"[ "),b(),_(4,"span",3),B("click",function(){return r.openProfile.emit()}),g(5),b(),_(6,"span",2),g(7," ]"),b()(),ge(8,hN,9,3,"div",4),b()),n&2&&(R(5),ot(" ",r.userState.username,`
`),R(3),P("ngIf",r.currentFolder))},dependencies:[Vt],styles:[".header[_ngcontent-%COMP%]{height:46px;width:100%;position:sticky;top:0;left:0;z-index:1000;display:flex;align-items:center;justify-content:space-between;padding:0 20px}.username[_ngcontent-%COMP%]{display:inline-block;color:#fff;font-size:18px;font-family:IBM Plex Mono,monospace;font-weight:600;letter-spacing:.3px}.username[_ngcontent-%COMP%]:hover{text-decoration-line:underline;text-decoration-thickness:3px;text-underline-offset:2px;cursor:pointer}.delete-action[_ngcontent-%COMP%]{display:inline-block;font-size:13px;font-family:IBM Plex Mono,monospace;font-weight:600;letter-spacing:.3px;padding-top:4px;color:#ef4444;cursor:pointer}.delete-action[_ngcontent-%COMP%]:hover{text-decoration-line:underline;text-decoration-thickness:3px;text-underline-offset:2px;color:#f87171}.bracket[_ngcontent-%COMP%]{font-weight:800;color:#fff}.del-bracket[_ngcontent-%COMP%]{font-weight:800;font-size:12px;color:#fff}.right[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:4px;margin-top:10px;padding:6px 50px;border-radius:6px}.right-top[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.header-button[_ngcontent-%COMP%]{display:flex;gap:6px}.folder-name[_ngcontent-%COMP%]{color:#e5e7eb;font-size:12px;font-family:IBM Plex Mono,monospace;font-weight:500;opacity:.9;letter-spacing:.4px}.add-folder-btn[_ngcontent-%COMP%]{font-size:11px;padding:4px 10px;font-family:IBM Plex Mono,monospace;font-weight:500;letter-spacing:.3px;margin-left:6px;background:transparent;color:#9ca3af;border:1px dashed #374151;border-radius:4px;cursor:pointer;transition:all .15s ease}.add-folder-btn[_ngcontent-%COMP%]:hover{color:#fff;border-color:#6b7280;background:#ffffff14}"]})};var xu=class t{name;x;y;clicked=new K;moved=new K;dragging=!1;offsetX=0;offsetY=0;startX=0;startY=0;hasMoved=!1;onMouseDown(e){e.stopPropagation(),e.preventDefault(),this.dragging=!0,this.hasMoved=!1,this.startX=e.clientX,this.startY=e.clientY,this.offsetX=e.clientX-this.x,this.offsetY=e.clientY-this.y}onMouseMove(e){if(!this.dragging)return;let n=Math.abs(e.clientX-this.startX),r=Math.abs(e.clientY-this.startY);if((n>4||r>4)&&(this.hasMoved=!0),this.hasMoved){let i=e.clientX-this.offsetX,o=e.clientY-this.offsetY;this.moved.emit({x:i,y:o})}}onMouseUp(e){e.stopPropagation(),this.dragging&&!this.hasMoved&&this.clicked.emit(),this.dragging=!1}onDocumentMouseUp(){this.dragging=!1}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=pe({type:t,selectors:[["app-directory"]],hostBindings:function(n,r){n&1&&B("mouseup",function(){return r.onDocumentMouseUp()},vh)},inputs:{name:"name",x:"x",y:"y"},outputs:{clicked:"clicked",moved:"moved"},decls:6,vars:5,consts:[[1,"folder-directory",3,"mousedown","mousemove","mouseup"],["src","folder_icon.png","height","30","width","30",1,"folderImg"],[1,"label"]],template:function(n,r){n&1&&(L(0,"div",0),it("mousedown",function(o){return r.onMouseDown(o)})("mousemove",function(o){return r.onMouseMove(o)})("mouseup",function(o){return r.onMouseUp(o)}),Ar(1,"img",1),L(2,"div",2),g(3),Ar(4,"br"),g(5),G()()),n&2&&(ki("transform","translate("+r.x+"px,"+r.y+"px)"),R(3),ot(" ",r.name," "),R(2),Kc(" [",r.x,",",r.y,"] "))},styles:[".folder-directory[_ngcontent-%COMP%]{position:absolute;width:80px;text-align:center;cursor:default;z-index:10;margin-top:-20px;margin-left:-40px;-webkit-user-select:none;user-select:none}.folder-directory[_ngcontent-%COMP%]:active{cursor:grabbing}.folder-icon[_ngcontent-%COMP%]{pointer-events:none}.label[_ngcontent-%COMP%]{font-size:12px;color:#fff;pointer-events:none}"]})};var Mu=class t{constructor(e){this.el=e}x1;y1;x2;y2;ngOnChanges(){let e=this.el.nativeElement;e.setAttribute("x1",String(this.x1)),e.setAttribute("y1",String(this.y1)),e.setAttribute("x2",String(this.x2)),e.setAttribute("y2",String(this.y2)),e.setAttribute("stroke","rgba(121, 136, 158, 0.9)"),e.setAttribute("stroke-width","2"),e.setAttribute("marker-end","url(#arrowhead)")}static \u0275fac=function(n){return new(n||t)(S(Xe))};static \u0275dir=ue({type:t,selectors:[["","appEdge",""]],inputs:{x1:"x1",y1:"y1",x2:"x2",y2:"y2"},features:[en]})};var vo=class t{constructor(e){this.http=e}baseUrl=`${Ye.apiBaseUrl}/File`;getFilesByNode(e){return this.http.get(`${this.baseUrl}/node/${e}`)}uploadFile(e,n){let r=new FormData;return r.append("nodeId",e),r.append("file",n),this.http.post(`${this.baseUrl}/upload`,r)}downloadFile(e){return this.http.get(`${this.baseUrl}/${e}/download`,{responseType:"blob",observe:"response"})}deleteFile(e){return this.http.delete(`${this.baseUrl}/${e}`)}static \u0275fac=function(n){return new(n||t)(M(vt))};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})};var pN=["fileInput"];function gN(t,e){if(t&1&&Q(0,"img",14),t&2){let n=O().$implicit,r=O();P("src",r.getImageUrl(n.id),Ni)}}function mN(t,e){t&1&&(Qe(),_(0,"svg",19),Q(1,"path",20)(2,"path",21),b())}function vN(t,e){t&1&&(Qe(),_(0,"svg",22),Q(1,"polygon",23)(2,"rect",24),b())}function yN(t,e){t&1&&(Qe(),_(0,"svg",22),Q(1,"path",25)(2,"circle",26)(3,"circle",27),b())}function _N(t,e){t&1&&(Qe(),_(0,"svg",22),Q(1,"path",20)(2,"path",21),b())}function bN(t,e){if(t&1&&(_(0,"div",15),ge(1,mN,3,0,"svg",16)(2,vN,3,0,"svg",17)(3,yN,4,0,"svg",17)(4,_N,3,0,"svg",18),b()),t&2){let n=O().$implicit,r=O();P("ngSwitch",!0),R(),P("ngSwitchCase",r.isPdf(n)),R(),P("ngSwitchCase",r.isVideo(n)),R(),P("ngSwitchCase",r.isAudio(n))}}function wN(t,e){if(t&1){let n=Ie();_(0,"div",10),B("click",function(){let i=V(n).$implicit,o=O();return U(o.openFile(i))}),ge(1,gN,1,1,"img",11)(2,bN,5,4,"div",12),_(3,"div",13),g(4),b()()}if(t&2){let n=e.$implicit,r=O();R(),P("ngIf",r.isImage(n)&&r.getImageUrl(n.id)),R(),P("ngIf",!r.isImage(n)),R(2),os(n.fileName)}}var Au=class t{constructor(e){this.fileService=e}x;y;title="";items=[];closeNode=new K;imageOpen=new K;nodeId;fileUploaded=new K;fileInput;pageSize=70;currentPage=0;imageCache=new Map;ngOnChanges(){this.currentPage=0,this.preloadVisibleImages()}get visibleItems(){let e=this.currentPage*this.pageSize;return this.items.slice(e,e+this.pageSize)}openFile(e){let n=e.contentType;n.startsWith("image/")?this.openImage(e):n==="application/pdf"?this.openPdf(e):n.startsWith("video/")?this.openVideo(e):n.startsWith("audio/")?this.openAudio(e):this.isText(e)?this.openText(e):this.download(e)}isText(e){return e.contentType?.startsWith("text/")||/\.(txt|js|ts|tsx|json|html|css|md)$/i.test(e.fileName)}openText(e){this.fileService.downloadFile(e.id).subscribe({next:n=>{n.body.text().then(i=>{this.imageOpen.emit({type:"text",id:e.id,fileName:e.fileName,content:i})})},error:n=>{console.error("Text preview failed",n)}})}openPdf(e){this.imageOpen.emit({type:"pdf",id:e.id,url:this.getStreamUrl(e.id),fileName:e.fileName})}getStreamUrl(e){return`${Ye.apiBaseUrl}/File/${e}/view`}openVideo(e){this.imageOpen.emit({type:"video",id:e.id,url:this.getStreamUrl(e.id),fileName:e.fileName})}openAudio(e){this.imageOpen.emit({type:"audio",id:e.id,url:this.getStreamUrl(e.id),fileName:e.fileName})}isImage(e){return e.contentType?.startsWith("image/")}isVideo(e){return e.contentType?.startsWith("video/")}isPdf(e){return e.contentType==="application/pdf"}isAudio(e){return e.contentType?.startsWith("audio/")}getFileIcon(e){return this.isVideo(e)?"\u{1F3AC}":this.isPdf(e)?"\u{1F4C4}":this.isAudio(e)?"\u{1F3B5}":"\u{1F4C1}"}preloadVisibleImages(){for(let e of this.visibleItems)this.imageCache.has(e.id)||this.loadImage(e.id)}loadImage(e){this.fileService.downloadFile(e).subscribe({next:n=>{let r=n.headers.get("x-cache");console.log(`FILE ${e} CACHE \u2192`,r);let i=n.body,o=URL.createObjectURL(i);this.imageCache.set(e,o)},error:n=>{console.error("Image load failed",n)}})}getImageUrl(e){return this.imageCache.get(e)??null}openImage(e){this.imageOpen.emit({type:"image",id:e.id,url:this.getImageUrl(e.id),fileName:e.fileName})}triggerFileInput(e){e.stopPropagation(),this.fileInput.nativeElement.click()}download(e){this.fileService.downloadFile(e.id).subscribe(n=>{let r=n.body,i=URL.createObjectURL(r),o=document.createElement("a");o.href=i,o.download=e.fileName,o.click(),URL.revokeObjectURL(i)})}delete(e){confirm("Delete this file?")&&this.fileService.deleteFile(e.id).subscribe({next:()=>{this.imageCache.delete(e.id),this.fileUploaded.emit()},error:n=>{console.error("Delete failed",n)}})}onFileSelected(e){if(!this.nodeId){console.warn("Upload blocked: nodeId is null");return}let n=e.target;if(!n.files||n.files.length===0)return;let r=n.files[0];this.fileService.uploadFile(this.nodeId,r).subscribe({next:()=>{console.log("File uploaded successfully"),n.value="",this.fileUploaded.emit()},error:i=>{console.error("Upload failed",i)}})}close(){this.closeNode.emit()}static \u0275fac=function(n){return new(n||t)(S(vo))};static \u0275cmp=pe({type:t,selectors:[["app-model-data"]],viewQuery:function(n,r){if(n&1&&Oi(pN,5),n&2){let i;Or(i=kr())&&(r.fileInput=i.first)}},inputs:{x:"x",y:"y",title:"title",items:"items",nodeId:"nodeId"},outputs:{closeNode:"closeNode",imageOpen:"imageOpen",fileUploaded:"fileUploaded"},features:[en],decls:13,vars:4,consts:[["fileInput",""],[1,"data-node"],[1,"data-header"],[1,"title"],[1,"header-actions"],["title","Add file",1,"add-btn",3,"click"],[1,"close-btn",3,"click"],["type","file","hidden","",3,"change"],[1,"data-grid"],["class","data-item",3,"click",4,"ngFor","ngForOf"],[1,"data-item",3,"click"],["class","file-thumb",3,"src",4,"ngIf"],["class","file-icon",3,"ngSwitch",4,"ngIf"],[1,"file-tooltip"],[1,"file-thumb",3,"src"],[1,"file-icon",3,"ngSwitch"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","width","24","height","24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",4,"ngSwitchCase"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","width","24","height","24","fill","none","stroke","currentColor","stroke-width","2",4,"ngSwitchCase"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","width","24","height","24","fill","none","stroke","currentColor","stroke-width","2",4,"ngSwitchDefault"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","width","24","height","24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"],["d","M14 2v6h6"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","width","24","height","24","fill","none","stroke","currentColor","stroke-width","2"],["points","23 7 16 12 23 17 23 7"],["x","1","y","5","width","15","height","14","rx","2"],["d","M9 18V5l12-2v13"],["cx","6","cy","18","r","3"],["cx","18","cy","16","r","3"]],template:function(n,r){if(n&1){let i=Ie();_(0,"div",1)(1,"div",2)(2,"span",3),g(3),b(),_(4,"div",4)(5,"button",5),B("click",function(s){return V(i),U(r.triggerFileInput(s))}),g(6,` \uFF0B
`),b(),_(7,"button",6),B("click",function(){return V(i),U(r.close())}),g(8,"\u2715"),b()()(),_(9,"input",7,0),B("change",function(s){return V(i),U(r.onFileSelected(s))}),b(),_(11,"div",8),ge(12,wN,5,3,"div",9),b()()}n&2&&(ki("transform","translate("+r.x+"px,"+r.y+"px)"),R(3),os(r.title),R(9),P("ngForOf",r.visibleItems))},dependencies:[Zn,Li,Vt,cs,sp,ap],styles:['.data-node[_ngcontent-%COMP%]{position:absolute;width:800px;height:600px;background:#18191d;border:1px solid rgba(121,136,158,.9);border-radius:10px;box-shadow:0 0 2px #79889e;display:flex;flex-direction:column;z-index:10}.item-actions[_ngcontent-%COMP%]{position:absolute;top:4px;right:4px;display:flex;gap:4px;opacity:0;transition:opacity .15s ease}.data-item[_ngcontent-%COMP%]:hover   .item-actions[_ngcontent-%COMP%]{opacity:1}.icon-btn[_ngcontent-%COMP%]{width:22px;height:22px;font-size:12px;display:flex;align-items:center;justify-content:center;background:#0009;color:#e5e7eb;border:1px solid rgba(148,163,184,.4);border-radius:4px;cursor:pointer}.file-thumb[_ngcontent-%COMP%]{width:72px;height:72px;object-fit:cover;border-radius:8px}.file-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;color:#e5e7eb}.data-item[_ngcontent-%COMP%]:hover   .file-icon[_ngcontent-%COMP%]{color:#60a5fa}.file-icon[_ngcontent-%COMP%]{width:72px;height:72px;display:flex;align-items:center;justify-content:center;font-size:32px;background:#1e1e1e;border-radius:8px;color:#ccc}.icon-btn[_ngcontent-%COMP%]:hover{background:#ffffff26}.icon-btn.danger[_ngcontent-%COMP%]:hover{background:#f009}.data-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.pager[_ngcontent-%COMP%]{display:flex;gap:6px}.pager[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#0009;border:1px solid rgba(121,136,158,.6);color:#cfd8e3;width:26px;height:22px;border-radius:4px;cursor:pointer}.pager[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.3;cursor:default}.data-header[_ngcontent-%COMP%]{height:20px;padding:8px 12px;color:#cfd8e3;font-size:14px;border-bottom:1px solid rgba(121,136,158,.4)}.data-grid[_ngcontent-%COMP%]{flex:1;display:grid;grid-template-columns:repeat(10,1fr);gap:8px;padding:10px;align-content:start}.data-item[_ngcontent-%COMP%]{width:97%;aspect-ratio:1 / 1;border:1px solid rgba(121,136,158,.45);border-radius:6px;display:flex;align-items:center;justify-content:center;overflow:visible;position:relative;cursor:pointer}.data-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:6px}.file-tooltip[_ngcontent-%COMP%]{position:absolute;bottom:100%;left:50%;transform:translate(-50%) translateY(-6px);background:#000000d9;color:#fff;font-size:11px;padding:4px 6px;border-radius:4px;white-space:nowrap;opacity:0;pointer-events:none;transition:opacity .15s ease}.file-tooltip[_ngcontent-%COMP%]:after{content:"";position:absolute;top:100%;left:50%;transform:translate(-50%);border-width:4px;border-style:solid;border-color:rgba(0,0,0,.85) transparent transparent transparent}.data-item[_ngcontent-%COMP%]:hover   .file-tooltip[_ngcontent-%COMP%]{opacity:1}.close-btn[_ngcontent-%COMP%]{width:26px;height:26px;display:flex;align-items:center;justify-content:center;font-size:16px;font-weight:600;background:#ffffff0f;color:#e5e7eb;border:1px solid rgba(148,163,184,.3);border-radius:6px;cursor:pointer}.header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px}.add-btn[_ngcontent-%COMP%]{width:26px;height:26px;display:flex;align-items:center;justify-content:center;font-size:24px;font-weight:600;padding-bottom:6px;background:#ffffff0f;color:#e5e7eb;border:1px solid rgba(148,163,184,.3);border-radius:6px;cursor:pointer}.add-btn[_ngcontent-%COMP%]:hover{background:#2563eb66}']})};var Ru=class t{username=null;close=new K;logout=new K;payment=new K;about=new K;closeProfile(){this.close.emit()}aboutpage(){this.about.emit()}logoutUser(){this.logout.emit()}paymentpage(){this.payment.emit()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=pe({type:t,selectors:[["app-profile"]],inputs:{username:"username"},outputs:{close:"close",logout:"logout",payment:"payment",about:"about"},decls:29,vars:0,consts:[[1,"profile-sidebar"],[1,"profile-item",3,"click"],[1,"bracket"],[1,"button-text","close"],[1,"button-text","logout"]],template:function(n,r){n&1&&(L(0,"div",0)(1,"div",1),it("click",function(){return r.closeProfile()}),L(2,"span",2),g(3,"[ "),G(),L(4,"span",3),g(5,"close"),G(),L(6,"span",2),g(7," ]"),G()(),L(8,"div",1),it("click",function(){return r.paymentpage()}),L(9,"span",2),g(10,"[ "),G(),L(11,"span",3),g(12,"plans"),G(),L(13,"span",2),g(14," ]"),G()(),L(15,"div",1),it("click",function(){return r.aboutpage()}),L(16,"span",2),g(17,"[ "),G(),L(18,"span",3),g(19,"about"),G(),L(20,"span",2),g(21," ]"),G()(),L(22,"div",1),it("click",function(){return r.logoutUser()}),L(23,"span",2),g(24,"[ "),G(),L(25,"span",4),g(26,"Logout"),G(),L(27,"span",2),g(28," ]"),G()()())},styles:[".profile-sidebar[_ngcontent-%COMP%]{position:absolute;top:50px;left:20px;min-width:160px;padding:12px 0;border-top:1px solid rgba(255,255,255,.719);border-bottom:1px solid rgba(255,255,255,.719);z-index:1100;font-family:IBM Plex Mono,monospace}.profile-item[_ngcontent-%COMP%]{padding:6px 20px}.profile-item[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]:hover{text-decoration-line:underline;text-decoration-thickness:3px;text-underline-offset:2px;cursor:pointer}.button-text[_ngcontent-%COMP%]{color:#fff;font-weight:600}.bracket[_ngcontent-%COMP%]{color:#fff;font-weight:800}.logout[_ngcontent-%COMP%]{color:#ff1717;font-weight:900}"]})};var Nu=class t{constructor(e){this.http=e}baseUrl=`${Ye.apiBaseUrl}/Node`;getDirectories(){return this.http.get(this.baseUrl)}createDirectory(e){return this.http.post(this.baseUrl,e)}updatePosition(e,n,r){return this.http.put(`${this.baseUrl}/${e}/position`,{x:n,y:r})}deleteDirectory(e){return this.http.delete(`${this.baseUrl}/${e}`)}getDirectoryById(e){return this.http.get(`${this.baseUrl}/${e}`)}static \u0275fac=function(n){return new(n||t)(M(vt))};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})};var Ou=class t{username=null;avatarUrl=null;setUser(e){this.username=e.username,this.avatarUrl=e.profilePictureUrl}clear(){this.username=null,this.avatarUrl=null}static \u0275fac=function(n){return new(n||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})};var CN=["grid"],IN=["headerFileInput"],SN=["centerCircle"];function TN(t,e){if(t&1){let n=Ie();_(0,"app-profile",16),B("close",function(){V(n);let i=O();return U(i.closeProfile())})("logout",function(){V(n);let i=O();return U(i.logout())})("about",function(){V(n);let i=O();return U(i.aboutpage())})("payment",function(){V(n);let i=O();return U(i.payment())}),b()}if(t&2){let n=O();P("username",n.username)}}function xN(t,e){if(t&1){let n=Ie();_(0,"div",17),B("click",function(){V(n);let i=O();return U(i.closeProfile())}),b()}}function MN(t,e){if(t&1&&(Qe(),Q(0,"line",18)),t&2){let n=e.$implicit;Pr("model-edge",n.isModelEdge),P("x1",n.x1)("y1",n.y1)("x2",n.x2)("y2",n.y2)}}function AN(t,e){if(t&1){let n=Ie();_(0,"app-directory",20),B("clicked",function(){V(n);let i=O().$implicit,o=O();return U(o.onFolderClick(i))})("moved",function(i){V(n);let o=O().$implicit,s=O();return U(s.onFolderMoved(o,i))}),b()}if(t&2){let n=O().$implicit;P("name",n.name)("x",n.x)("y",n.y)}}function RN(t,e){if(t&1&&(Rr(0),ge(1,AN,1,3,"app-directory",19),Nr()),t&2){let n=e.$implicit,r=O();R(),P("ngIf",r.shouldShow(n))}}function NN(t,e){if(t&1){let n=Ie();_(0,"app-model-data",21),B("fileUploaded",function(){V(n);let i=O();return U(i.reloadFiles())})("imageOpen",function(i){V(n);let o=O();return U(o.openImage(i))})("closeNode",function(){V(n);let i=O();return U(i.closeModelData())}),b()}if(t&2){let n=O();P("x",n.dataNodePosition.x)("y",n.dataNodePosition.y)("title",n.currentFolderName)("items",n.selectedFolderItems)("nodeId",n.selectedFolderId)}}function ON(t,e){if(t&1){let n=Ie();_(0,"div",22)(1,"h3"),g(2,"Add Folder"),b(),_(3,"label"),g(4," Folder Name "),_(5,"input",23),jt("ngModelChange",function(i){V(n);let o=O();return rn(o.draftFolder.name,i)||(o.draftFolder.name=i),U(i)}),b()(),_(6,"label"),g(7," X Position "),_(8,"input",24),jt("ngModelChange",function(i){V(n);let o=O();return rn(o.draftFolder.x,i)||(o.draftFolder.x=i),U(i)}),b()(),_(9,"label"),g(10," Y Position "),_(11,"input",24),jt("ngModelChange",function(i){V(n);let o=O();return rn(o.draftFolder.y,i)||(o.draftFolder.y=i),U(i)}),b()(),_(12,"div",25)(13,"button",26),B("click",function(){V(n);let i=O();return U(i.cancelAddFolder())}),g(14,"Cancel"),b(),_(15,"button",27),B("click",function(){V(n);let i=O();return U(i.saveAddFolder())}),g(16,"Save"),b()()()}if(t&2){let n=O();R(5),Lt("ngModel",n.draftFolder.name),R(3),Lt("ngModel",n.draftFolder.x),R(3),Lt("ngModel",n.draftFolder.y)}}function kN(t,e){if(t&1&&(_(0,"div",38),Q(1,"img",39),b()),t&2){let n=O(2);R(),P("src",n.selectedFile.url,Ni)}}function PN(t,e){if(t&1&&(_(0,"video",40),Q(1,"source",41),b()),t&2){let n=O(2);R(),P("src",n.selectedFile.url)}}function FN(t,e){if(t&1&&(_(0,"pre",42),g(1),b()),t&2){let n=O(2);R(),ot("",n.selectedFile.content,`
`)}}function LN(t,e){if(t&1&&Q(0,"iframe",43),t&2){let n=O(2);P("src",n.selectedFile.safeUrl,mh)}}function jN(t,e){if(t&1&&(_(0,"div",44)(1,"audio",45),Q(2,"source",46),b()()),t&2){let n=O(2);R(2),P("src",n.selectedFile.url)}}function VN(t,e){if(t&1){let n=Ie();_(0,"div",28),B("click",function(){V(n);let i=O();return U(i.closeFileViewer())}),_(1,"div",29),B("click",function(i){return V(n),U(i.stopPropagation())}),g(2),b(),_(3,"div",30),B("click",function(i){return V(n),U(i.stopPropagation())}),_(4,"button",31),B("click",function(){V(n);let i=O();return U(i.downloadFile())}),g(5,"\u2B07"),b(),_(6,"button",31),B("click",function(){V(n);let i=O();return U(i.deleteFile())}),g(7,"\u{1F5D1}"),b(),_(8,"button",31),B("click",function(){V(n);let i=O();return U(i.closeFileViewer())}),g(9,"\u2715"),b()(),_(10,"div",32),B("click",function(i){return V(n),U(i.stopPropagation())}),ge(11,kN,2,1,"div",33)(12,PN,2,1,"video",34)(13,FN,2,1,"pre",35)(14,LN,1,1,"iframe",36)(15,jN,3,1,"div",37),b()()}if(t&2){let n=O();R(2),ot(" ",n.selectedFile.fileName,`
`),R(9),P("ngIf",n.selectedFile.type==="image"),R(),P("ngIf",n.selectedFile.type==="video"),R(),P("ngIf",n.selectedFile.type==="text"),R(),P("ngIf",n.selectedFile.type==="pdf"),R(),P("ngIf",n.selectedFile.type==="audio")}}var ku=class t{constructor(e,n,r,i,o,s){this.directoryService=e;this.fileService=n;this.sanitizer=r;this.userState=i;this.auth=o;this.router=s}grid;headerFileInput;centerCircle;imageOpen=new K;directories=[];username=null;selectedParentFolderId=null;selectedFolderId=null;currentFolderName=null;selectedFolderItems=[];lastMovedFolder=null;activeFolder=null;dataNodePosition=null;selectedFile=null;profilePic=null;isAddFolderOpen=!1;draftFolder=null;showProfile=!1;rootOpen=!1;selectedFileId=null;isDragging=!1;startX=0;startY=0;x=-2500;y=-2500;showModelData=!1;cacheBuster=Date.now();async ngOnInit(){let e=await this.auth.syncUser();if(!e){this.router.navigate(["/signin"]);return}this.userState.setUser(e),this.loadDirectories(),console.log("Profile URL:",e.user_metadata?.avatar_url)}ngAfterViewInit(){this.update()}loadDirectories(){this.directoryService.getDirectories().subscribe({next:e=>{this.directories=e.map(n=>Z(D({},n),{isOpen:!1}))},error:e=>{console.error("Failed to load directories",e)}})}openUserMenu(){this.showProfile=!this.showProfile}closeProfile(){this.showProfile=!1}payment(){this.router.navigate(["/payment"])}aboutpage(){this.router.navigate(["about"])}onDeleteFolder(){if(!this.selectedFolderId||!this.activeFolder||!confirm(`Delete folder "${this.activeFolder.name}" and all its contents?`))return;let n=this.selectedFolderId;this.directoryService.deleteDirectory(n).subscribe({next:()=>{this.directories=this.directories.filter(r=>r.id!==n&&r.parentId!==n),this.closeModelData(),this.selectedFolderId=null,this.selectedParentFolderId=null,this.currentFolderName=null,this.activeFolder=null,this.directories.forEach(r=>{r.parentId===n&&(r.isOpen=!1)})},error:r=>{console.error("Delete directory failed",r),alert("Failed to delete folder")}})}onAddFolder(){let e=this.selectedParentFolderId,n=e?this.directories.find(r=>r.id===e):{id:null,x:2500,y:2500};n&&(e&&(n.isOpen=!0),this.rootOpen=!0,this.draftFolder={name:"New Folder",parentId:n.id,x:n.x+120,y:n.y+120,isOpen:!1,isDraft:!0},this.directories.push(this.draftFolder),this.isAddFolderOpen=!0)}saveAddFolder(){if(!this.draftFolder)return;let e={name:this.draftFolder.name,x:this.draftFolder.x,y:this.draftFolder.y,parentId:this.draftFolder.parentId,basePath:null};this.directoryService.createDirectory(e).subscribe({next:n=>{Object.assign(this.draftFolder,n),delete this.draftFolder.isDraft,this.draftFolder=null,this.isAddFolderOpen=!1},error:n=>{console.error("Create folder failed",n)}})}onAddItem(){this.selectedFolderId||(this.selectedFolderId="ROOT"),this.headerFileInput.nativeElement.click()}async logout(){localStorage.clear(),await this.auth.logout(this.router)}onHeaderFileSelected(e){if(!this.selectedFolderId)return;let n=e.target;if(!n.files||n.files.length===0)return;let r=n.files[0];this.fileService.uploadFile(this.selectedFolderId,r).subscribe({next:()=>{if(console.log("File uploaded from header"),n.value="",this.reloadFiles(),!this.showModelData){let i=this.directories.find(o=>o.id===this.selectedFolderId);i&&(this.setDataNodePosition(i),this.showModelData=!0)}},error:i=>{console.error("Header upload failed",i)}})}cancelAddFolder(){this.draftFolder&&(this.directories=this.directories.filter(e=>e!==this.draftFolder),this.draftFolder=null,this.isAddFolderOpen=!1)}onFolderMoved(e,n){e.x=n.x,e.y=n.y,this.lastMovedFolder=e,this.selectedFolderId===e.id&&this.dataNodePosition&&this.setDataNodePosition(e)}downloadFile(){this.selectedFile&&this.fileService.downloadFile(this.selectedFile.id).subscribe({next:e=>{let n=e.body,r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=this.getDownloadName(e)??"file",i.click(),URL.revokeObjectURL(r)},error:e=>{console.error("Download failed",e)}})}getDownloadName(e){let n=e.headers.get("content-disposition");if(!n)return null;let r=/filename="?(.+)"?/.exec(n);return r?r[1]:null}deleteFile(){this.selectedFile&&confirm("Delete this file?")&&this.fileService.deleteFile(this.selectedFile.id).subscribe({next:()=>{this.closeFileViewer(),this.reloadFiles()},error:e=>{console.error("Delete failed",e)}})}getModelDataAnchor(){if(!this.dataNodePosition)return null;let e=800;return{x:this.dataNodePosition.x,y:this.dataNodePosition.y+580/2}}onFolderClick(e){if(!(!e||!e.id)){if(e.isOpen=!e.isOpen,!e.isOpen){this.closeAllChildren(e.id),this.selectedFolderId=e.id,this.selectedParentFolderId=e.id,this.currentFolderName=e.name,this.activeFolder=e,this.closeModelData();return}this.showModelData=!1,this.dataNodePosition=null,this.selectedFolderItems=[],this.selectedFile=null,this.selectedFolderId=e.id,this.selectedParentFolderId=e.id,this.currentFolderName=e.name,this.activeFolder=e,this.rootOpen=!0,this.fileService.getFilesByNode(e.id).subscribe({next:n=>{this.selectedFolderItems=n??[],n&&n.length>0&&(this.setDataNodePosition(e),this.showModelData=!0)},error:()=>{this.selectedFolderItems=[],this.showModelData=!1,this.dataNodePosition=null}})}}hasChildren(e){return this.directories.some(n=>n.parentId===e.id)}toggleFolder(e){let n=this.directories.find(r=>r.id===e);n&&(n.isOpen=!n.isOpen,n.isOpen||this.closeAllChildren(n.id))}closeAllChildren(e){for(let n of this.directories.filter(r=>r.parentId===e))n.isOpen=!1,this.closeAllChildren(n.id)}shouldShow(e){return e.parentId?!!this.directories.find(r=>r.id===e.parentId)?.isOpen:this.rootOpen}toggleRoot(){if(this.rootOpen=!this.rootOpen,this.selectedParentFolderId=null,this.selectedFolderId=null,this.activeFolder=null,this.currentFolderName="Root",!this.rootOpen){this.directories.forEach(e=>e.isOpen=!1),this.closeModelData();return}this.showModelData=!1,this.dataNodePosition=null,this.selectedFolderItems=[]}setDataNodePosition(e){let a=e.x,c=e.y;e.x<2500?a=e.x-800-160:a=e.x+160,e.y<2500?c=e.y-580-160/2:c=e.y-580/2,this.dataNodePosition={x:a,y:c}}getVisibleEdges(){let e=[];for(let i of this.directories){if(!i.parentId&&this.rootOpen){e.push({x1:2500,y1:2500,x2:i.x,y2:i.y});continue}let o=this.directories.find(s=>s.id===i.parentId);!o||!o.isOpen||e.push({x1:o.x,y1:o.y,x2:i.x,y2:i.y})}if(this.selectedFolderId&&this.dataNodePosition){let i=this.directories.find(s=>s.id===this.selectedFolderId),o=this.getModelDataAnchor();i&&o&&e.push({x1:i.x,y1:i.y,x2:o.x,y2:o.y,isModelEdge:!0})}return e}openImage(e){if(e.type==="text"){this.selectedFile=e;return}e.type==="pdf"&&(e.safeUrl=this.sanitizer.bypassSecurityTrustResourceUrl(e.url)),this.selectedFile=e}closeFileViewer(){this.selectedFile=null,this.activeFolder&&(this.currentFolderName=this.activeFolder.name,this.selectedFolderId=this.activeFolder.id)}reloadFiles(){if(!this.selectedFolderId)return;let e=this.directories.find(n=>n.id===this.selectedFolderId);this.fileService.getFilesByNode(this.selectedFolderId).subscribe({next:n=>{this.selectedFolderItems=n,e&&this.dataNodePosition&&this.setDataNodePosition(e)},error:n=>{console.error("Failed to reload files",n)}})}closeModelData(){this.selectedFolderId=null,this.dataNodePosition=null,this.showModelData=!1}onMouseDown(e){e.target.closest(".folder-directory")||(this.isDragging=!0,this.startX=e.clientX-this.x,this.startY=e.clientY-this.y)}onMouseMove(e){this.isDragging&&(this.x=e.clientX-this.startX,this.y=e.clientY-this.startY,this.update())}onMouseUp(){if(this.isDragging=!1,this.lastMovedFolder?.id){let{id:e,x:n,y:r}=this.lastMovedFolder;this.directoryService.updatePosition(e,n,r).subscribe({complete:()=>{this.lastMovedFolder=null}})}}update(){this.grid.nativeElement.style.transform=`translate(${this.x}px, ${this.y}px)`}static \u0275fac=function(n){return new(n||t)(S(Nu),S(vo),S(Ip),S(Ou),S(ln),S(ze))};static \u0275cmp=pe({type:t,selectors:[["app-canvas"]],viewQuery:function(n,r){if(n&1&&Oi(CN,7)(IN,5)(SN,7),n&2){let i;Or(i=kr())&&(r.grid=i.first),Or(i=kr())&&(r.headerFileInput=i.first),Or(i=kr())&&(r.centerCircle=i.first)}},hostBindings:function(n,r){n&1&&B("mousedown",function(o){return r.onMouseDown(o)})("mousemove",function(o){return r.onMouseMove(o)})("mouseup",function(){return r.onMouseUp()})},outputs:{imageOpen:"imageOpen"},decls:16,vars:10,consts:[["headerFileInput",""],["grid",""],["centerCircle",""],[3,"addFolder","addItem","delete","openProfile","userState","currentFolder"],["type","file","hidden","",3,"change"],[3,"username","close","logout","about","payment",4,"ngIf"],["class","canvas-blur-overlay",3,"click",4,"ngIf"],[1,"grid"],[1,"edges"],["appEdge","",3,"x1","y1","x2","y2","model-edge",4,"ngFor","ngForOf"],[1,"center-circle",3,"click"],["alt","User",1,"user-avatar",3,"src"],[4,"ngFor","ngForOf"],[3,"x","y","title","items","nodeId","fileUploaded","imageOpen","closeNode",4,"ngIf"],["class","add-folder-modal",4,"ngIf"],["class","file-viewer-overlay",3,"click",4,"ngIf"],[3,"close","logout","about","payment","username"],[1,"canvas-blur-overlay",3,"click"],["appEdge","",3,"x1","y1","x2","y2"],[3,"name","x","y","clicked","moved",4,"ngIf"],[3,"clicked","moved","name","x","y"],[3,"fileUploaded","imageOpen","closeNode","x","y","title","items","nodeId"],[1,"add-folder-modal"],["type","text",3,"ngModelChange","ngModel"],["type","number",3,"ngModelChange","ngModel"],[1,"actions"],[1,"cancel",3,"click"],[1,"save",3,"click"],[1,"file-viewer-overlay",3,"click"],[1,"file-name",3,"click"],[1,"file-toolbar",3,"click"],[3,"click"],[1,"file-viewer-content",3,"click"],["class","image-wrapper",4,"ngIf"],["controls","","class","file-media",4,"ngIf"],["class","code-viewer",4,"ngIf"],["class","file-media pdf",3,"src",4,"ngIf"],["class","audio-wrapper",4,"ngIf"],[1,"image-wrapper"],[1,"file-media",3,"src"],["controls","",1,"file-media"],[3,"src"],[1,"code-viewer"],[1,"file-media","pdf",3,"src"],[1,"audio-wrapper"],["controls",""],["type","audio/mpeg",3,"src"]],template:function(n,r){if(n&1){let i=Ie();_(0,"app-header",3),B("addFolder",function(){return V(i),U(r.onAddFolder())})("addItem",function(){return V(i),U(r.onAddItem())})("delete",function(){return V(i),U(r.onDeleteFolder())})("openProfile",function(){return V(i),U(r.openUserMenu())}),b(),_(1,"input",4,0),B("change",function(s){return V(i),U(r.onHeaderFileSelected(s))}),b(),ge(3,TN,1,1,"app-profile",5)(4,xN,1,0,"div",6),_(5,"div",7,1),Qe(),_(7,"svg",8),ge(8,MN,1,6,"line",9),b(),Di(),_(9,"div",10,2),B("click",function(){return V(i),U(r.toggleRoot())}),Q(11,"img",11),b(),ge(12,RN,2,1,"ng-container",12)(13,NN,1,5,"app-model-data",13),b(),ge(14,ON,17,3,"div",14)(15,VN,16,6,"div",15)}n&2&&(P("userState",r.userState)("currentFolder",r.currentFolderName),R(3),P("ngIf",r.showProfile),R(),P("ngIf",r.showProfile),R(4),P("ngForOf",r.getVisibleEdges()),R(3),P("src",r.userState.avatarUrl,Ni),R(),P("ngForOf",r.directories),R(),P("ngIf",r.showModelData&&r.dataNodePosition),R(),P("ngIf",r.isAddFolderOpen),R(),P("ngIf",r.selectedFile))},dependencies:[Tu,xu,Ru,Mu,Au,io,tr,ig,ro,qr,Li,Vt,Zn],styles:[".viewport[_ngcontent-%COMP%]{position:fixed;inset:0;overflow:hidden;font-family:IBM Plex Mono,monospace}.viewport.dragging[_ngcontent-%COMP%]{cursor:grabbing}.grid[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:5000px;height:5000px;background-image:linear-gradient(rgba(120,140,170,.15) 1px,transparent 1px),linear-gradient(90deg,rgba(120,140,170,.15) 1px,transparent 1px);background-size:20px 20px;transform-origin:center;will-change:transform;z-index:1}.grid[_ngcontent-%COMP%]:active{cursor:grabbing}.center-circle[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:60px;height:60px;transform:translate(-50%,-50%);border-radius:50%;border:1px solid rgba(140,180,240,.35);box-shadow:0 0 6px #8cb4f040;cursor:pointer;display:flex;align-items:center;justify-content:center;overflow:hidden;z-index:20}.user-avatar[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%;display:block}.center-circle[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.edges[_ngcontent-%COMP%]{position:absolute;top:0;left:0;pointer-events:none;z-index:5}img[_ngcontent-%COMP%]{pointer-events:none;-webkit-user-select:none;user-select:none}.image-viewer[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000059;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);z-index:999;display:flex;align-items:center;justify-content:center}.model-edge[_ngcontent-%COMP%]{stroke-dasharray:6 4;stroke-width:2;opacity:.8}.image-viewer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:85vw;max-height:85vh;border-radius:12px;box-shadow:0 25px 80px #000000d9;background:#000;animation:_ngcontent-%COMP%_zoomIn .25s ease-out}@keyframes _ngcontent-%COMP%_zoomIn{0%{transform:scale(.9);opacity:0}to{transform:scale(1);opacity:1}}.add-folder-modal[_ngcontent-%COMP%]{position:fixed;top:70px;right:20px;width:280px;padding:14px;background:#0a0f19eb;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border-radius:10px;border:1px solid rgba(120,140,170,.25);box-shadow:0 10px 40px #000000b3,inset 0 0 0 1px #ffffff05;color:#e5e7eb;z-index:1200;font-family:IBM Plex Mono,monospace;animation:_ngcontent-%COMP%_slideInRight .25s ease-out}.add-folder-modal[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 12px;font-size:15px;font-weight:600;letter-spacing:.3px;color:#f9fafb}.add-folder-modal[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:12px;font-weight:500;margin-bottom:10px;color:#cbd5f5}.add-folder-modal[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:94%;margin-top:4px;padding:7px 8px;font-size:13px;font-family:IBM Plex Mono,monospace;color:#f8fafc;background:#020617d9;border:1px solid rgba(100,116,139,.45);border-radius:6px;outline:none;transition:border-color .15s ease,box-shadow .15s ease}.add-folder-modal[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#93c5fdcc;box-shadow:0 0 0 1px #93c5fd66}.add-folder-modal[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:8px;margin-top:14px}.add-folder-modal[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{flex:1;padding:6px 0;font-size:12px;font-family:IBM Plex Mono,monospace;color:#cbd5f5;background:transparent;border:1px solid rgba(100,116,139,.6);border-radius:6px;cursor:pointer;transition:background .15s ease,border-color .15s ease}.add-folder-modal[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]:hover{background:#ffffff0d;border-color:#94a3b8cc}.add-folder-modal[_ngcontent-%COMP%]   .save[_ngcontent-%COMP%]{flex:1;padding:6px 0;font-size:12px;font-family:IBM Plex Mono,monospace;font-weight:600;color:#fff;background:#2563eb;border:none;border-radius:6px;cursor:pointer;transition:transform .12s ease,box-shadow .12s ease}.add-folder-modal[_ngcontent-%COMP%]   .save[_ngcontent-%COMP%]:hover{background-color:#1c356b}@keyframes _ngcontent-%COMP%_slideInRight{0%{opacity:0;transform:translate(20px)}to{opacity:1;transform:translate(0)}}.edges[_ngcontent-%COMP%]{position:absolute;inset:0;width:5000px;height:5000px;pointer-events:none;z-index:1}.file-viewer-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000a6;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);z-index:9999;display:flex;align-items:center;justify-content:center}.file-toolbar[_ngcontent-%COMP%]{position:fixed;top:-10px;left:50%;transform:translate(-50%);display:flex;gap:10px;background:#141419e6;padding:8px 12px;border-radius:10px;border:1px solid rgba(148,163,184,.3)}.file-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:34px;height:34px;font-size:16px;background:#ffffff0f;color:#e5e7eb;border:1px solid rgba(148,163,184,.3);border-radius:8px;cursor:pointer}.file-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#2563eb80}.file-media[_ngcontent-%COMP%]{max-width:100%;max-height:100%;border-radius:12px;background:#000;box-shadow:0 25px 80px #000000d9}.file-media.pdf[_ngcontent-%COMP%]{width:80vw;height:80vh;background:#111}.file-media.audio[_ngcontent-%COMP%]{width:420px}.user-avatar[_ngcontent-%COMP%]{width:42px;height:42px;border-radius:50%;object-fit:cover;border:1px solid rgba(255,255,255,.15);background:#111}.profile-pic[_ngcontent-%COMP%]{position:fixed;top:18px;right:20px;width:38px;height:38px;border-radius:50%;object-fit:cover;z-index:9999}.image-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;max-width:90vw;max-height:90vh}.file-media[_ngcontent-%COMP%]{max-width:90vw;max-height:90vh;width:auto;height:auto;object-fit:contain;border-radius:12px;background:#000;box-shadow:0 25px 80px #000000d9}.file-viewer-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0009;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);z-index:9999;display:flex;flex-direction:column;align-items:center}.file-toolbar[_ngcontent-%COMP%]{margin-top:16px;margin-bottom:12px;display:flex;gap:12px;background:#1f2937;padding:8px 14px;border-radius:8px;box-shadow:0 6px 20px #0006}.file-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:36px;height:36px;font-size:16px;color:#fff;background:#ffffff14;border:none;border-radius:6px;cursor:pointer}.file-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#2563eb}.file-viewer-content[_ngcontent-%COMP%]{width:90vw;max-width:1200px;height:calc(100vh - 140px);background:transparent;display:flex;justify-content:center;overflow:hidden}.audio-wrapper[_ngcontent-%COMP%]{background:#111827;padding:24px 28px;border-radius:14px;box-shadow:0 20px 50px #000000b3;display:flex;align-items:center;justify-content:center}.audio-wrapper[_ngcontent-%COMP%]   audio[_ngcontent-%COMP%]{width:420px}.code-viewer[_ngcontent-%COMP%]{margin:0;padding:24px 28px;background:#fff;color:#111827;font-family:Consolas,JetBrains Mono,Courier New,monospace;font-size:13px;line-height:1.6;white-space:pre;overflow-x:auto}.file-name[_ngcontent-%COMP%]{position:fixed;top:18px;left:20px;max-width:60vw;padding:6px 10px;background:#0f172ad9;color:#e5e7eb;font-size:13px;font-family:IBM Plex Mono,monospace;border-radius:6px;border:1px solid rgba(148,163,184,.25);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;z-index:10000;pointer-events:auto}"]})};var Pu=class t{constructor(e){this.router=e}async canActivate(){let{data:e}=await et.auth.getSession();return e.session?!0:(this.router.navigate(["/signin"]),!1)}static \u0275fac=function(n){return new(n||t)(M(ze))};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})};var Fu=class t{constructor(e){this.http=e}baseUrl=`${Ye.apiBaseUrl}/payments`;createPayment(e){return this.http.post(`${this.baseUrl}/create`,{plan:e})}verifyPayment(e,n){return this.http.post(`${this.baseUrl}/verify`,{paymentId:e,gatewayPaymentId:n})}static \u0275fac=function(n){return new(n||t)(M(vt))};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})};var Lu=class t{constructor(e,n){this.paymentService=e;this.router=n}purchase(e){this.paymentService.createPayment(e).subscribe({next:n=>{console.log("Payment created:",n),this.paymentService.verifyPayment(n.paymentId,"fake_gateway_payment_id").subscribe(()=>{alert("Payment successful \u{1F389} Storage upgraded!")})},error:()=>alert("Payment failed")})}goBack(){this.router.navigate(["/canvas"])}static \u0275fac=function(n){return new(n||t)(S(Fu),S(ze))};static \u0275cmp=pe({type:t,selectors:[["app-payment"]],decls:60,vars:0,consts:[[1,"back-wrapper"],[1,"bracket"],[1,"back-btn",3,"click"],[1,"orbit-title"],[1,"payment-container"],[1,"grid-bg"],[1,"payment-wrapper"],[1,"payment-header"],[1,"title"],[1,"subtitle"],[1,"plans"],[1,"plan-card","disabled"],[1,"price"],["disabled",""],[1,"plan-card","active"],[3,"click"],[1,"plan-card"]],template:function(n,r){n&1&&(L(0,"div",0)(1,"span",1),g(2,"["),G(),L(3,"button",2),it("click",function(){return r.goBack()}),g(4," \u2190 Back "),G(),L(5,"span",1),g(6,"]"),G()(),L(7,"h2",3),g(8,"[ Orbit ]"),G(),L(9,"div",4),Ar(10,"div",5),L(11,"div",6)(12,"div",7)(13,"h2",8),g(14,"Upgrade Storage"),G(),L(15,"p",9),g(16,"Get more space for your Orbit files"),G()(),L(17,"div",10)(18,"div",11)(19,"h3"),g(20,"Free"),G(),L(21,"div",12),g(22,"\u20B90"),G(),L(23,"ul")(24,"li"),g(25,"100 MB Storage"),G(),L(26,"li"),g(27,"Basic Upload"),G(),L(28,"li"),g(29,"No Sharing"),G()(),L(30,"button",13),g(31,"Current Plan"),G()(),L(32,"div",14)(33,"h3"),g(34,"Pro"),G(),L(35,"div",12),g(36,"\u20B999 "),G(),L(37,"ul")(38,"li"),g(39,"5 GB Storage"),G(),L(40,"li"),g(41,"Fast Upload"),G(),L(42,"li"),g(43,"File Preview"),G()(),L(44,"button",15),it("click",function(){return r.purchase("pro")}),g(45,"Purchase"),G()(),L(46,"div",16)(47,"h3"),g(48,"Ultra"),G(),L(49,"div",12),g(50,"\u20B9199"),G(),L(51,"ul")(52,"li"),g(53,"20 GB Storage"),G(),L(54,"li"),g(55,"Large Files"),G(),L(56,"li"),g(57,"Priority Access"),G()(),L(58,"button",15),it("click",function(){return r.purchase("ultra")}),g(59,"Purchase"),G()()()()())},styles:[".orbit-title[_ngcontent-%COMP%]{position:fixed;top:18px;right:40px;left:auto;font-family:IBM Plex Mono,monospace;font-size:18px;font-weight:900;letter-spacing:.4px;color:#f9fafb;z-index:1000;-webkit-user-select:none;user-select:none}.payment-container[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0b0f14;display:flex;align-items:center;justify-content:center;font-family:IBM Plex Mono,monospace;overflow:hidden}.grid-bg[_ngcontent-%COMP%]{position:absolute;inset:0;pointer-events:none;background-image:linear-gradient(rgba(255,255,255,.04) 1px,transparent 1px),linear-gradient(90deg,rgba(255,255,255,.04) 1px,transparent 1px);background-size:40px 40px;background-position:center;opacity:.9}.payment-wrapper[_ngcontent-%COMP%]{position:relative;z-index:10;width:90%;max-width:1100px;height:90vh;padding:30px;background:transparent;-webkit-backdrop-filter:none;backdrop-filter:none;border-radius:0;box-shadow:none;display:flex;flex-direction:column}.payment-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:24px}.title[_ngcontent-%COMP%]{font-size:20px;font-weight:500;color:#e5e7eb}.subtitle[_ngcontent-%COMP%]{font-size:13px;color:#9ca3af;margin-top:6px}.plans[_ngcontent-%COMP%]{flex:1;display:grid;grid-template-columns:repeat(3,1fr);gap:20px}.plan-card[_ngcontent-%COMP%]{padding:22px;background:#0f0f12eb;border:1px solid rgba(255,255,255,.08);border-radius:14px;display:flex;flex-direction:column;justify-content:space-between;color:#e5e7eb;box-shadow:0 25px 60px #000000d9,inset 0 0 0 1px #ffffff05;transition:transform .2s ease,box-shadow .2s ease,border-color .2s ease}.plan-card.active[_ngcontent-%COMP%]{border-color:#3b82f6e6;box-shadow:0 30px 70px #000000e6,0 0 0 1px #3b82f6b3,inset 0 0 0 1px #ffffff08}.back-wrapper[_ngcontent-%COMP%]{position:fixed;top:18px;left:40px;display:flex;align-items:center;gap:6px;font-family:IBM Plex Mono,monospace;z-index:1000}.bracket[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#f9fafb;-webkit-user-select:none;user-select:none}.back-btn[_ngcontent-%COMP%]{background:transparent;border:none;padding:0;font-family:IBM Plex Mono,monospace;font-size:14px;font-weight:600;color:#f9fafb;cursor:pointer}.back-btn[_ngcontent-%COMP%]:hover{text-decoration:underline;color:#e5e7eb}.plan-card.disabled[_ngcontent-%COMP%]{filter:grayscale(.2)}.plan-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:600}.price[_ngcontent-%COMP%]{font-size:22px;font-weight:700;margin:10px 0 14px}.plan-card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:16px;font-size:13px;color:#cbd5f5}.plan-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:6px}.plan-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:auto;padding:8px;background:#fff;color:#000;border:none;border-radius:6px;font-family:IBM Plex Mono,monospace;font-weight:600;font-size:13px;cursor:pointer;box-shadow:0 10px 30px #0009}.plan-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){background:#e5e7eb}.plan-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background:#2a2a2a;color:#9ca3af;cursor:not-allowed}"]})};var ju=class t{constructor(e){this.http=e}baseUrl=`${Ye.apiBaseUrl}/feedback`;sendFeedback(e){return this.http.post(this.baseUrl,e)}static \u0275fac=function(n){return new(n||t)(M(vt))};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})};function $N(t,e){if(t&1){let n=Ie();_(0,"h2",7)(1,"span",1),g(2,"["),b(),_(3,"button",2),B("click",function(){V(n);let i=O();return U(i.openFeedback())}),g(4,"Feedback"),b(),_(5,"span",1),g(6,"]"),b()()}}function HN(t,e){t&1&&(_(0,"p")(1,"strong"),g(2,"Tell us about your experience."),b(),Q(3,"br"),g(4," Your "),_(5,"span",11),g(6,"feedback"),b(),g(7," helps us improve Orbit and build a better experience for you. Feel free to share "),_(8,"span",11),g(9,"suggestions"),b(),g(10,", "),_(11,"span",11),g(12,"issues"),b(),g(13,", or new ideas anytime. "),b())}function zN(t,e){t&1&&(_(0,"p")(1,"strong"),g(2,"Explore Orbit freely."),b(),Q(3,"br"),g(4," You can use Orbit as you like. To send "),_(5,"span",11),g(6,"feedback"),b(),g(7," or raise a "),_(8,"span",11),g(9,"complaint"),b(),g(10,", please "),_(11,"span",11),g(12,"log in"),b(),g(13," and share your experience with us. "),b())}function GN(t,e){if(t&1&&(Rr(0),_(1,"div",8)(2,"h1",9),g(3,"About Orbit"),b(),Q(4,"div",10),_(5,"p"),g(6," Orbit is a "),_(7,"span",11),g(8,"visual file management tool"),b(),g(9," designed to help users understand and navigate "),_(10,"span",11),g(11,"complex folder structures"),b(),g(12," without losing context. Instead of relying on long lists and deep directory trees, Orbit focuses on showing relationships between folders in a clear and intuitive way. "),b(),_(13,"p"),g(14," Traditional file systems work well for small projects, but as files grow, users often feel lost. Navigating deep folders breaks context, makes exploration harder, and turns file management into a cognitive task rather than a natural action. Orbit exists to solve this exact problem. "),b(),_(15,"p"),g(16," The core idea behind Orbit is simple: "),_(17,"strong")(18,"span",11),g(19,"keep structure visible at all times"),b()(),g(20,". Orbit follows a "),_(21,"span",11),g(22,"visual-first"),b(),g(23," approach where folders are treated as connected visual entities rather than isolated items in a list. "),b(),_(24,"p"),g(25," At the center of Orbit is a "),_(26,"span",11),g(27,"private root directory"),b(),g(28,". From there, folders expand outward, preserving hierarchy while keeping the user oriented. Users can explore deeply without ever losing their sense of place. "),b(),_(29,"p"),g(30," Orbit is built for developers, students, designers, and anyone who works with structured data and values "),_(31,"span",11),g(32,"clarity"),b(),g(33,` over clutter\u2014especially when understanding structure matters more than simply opening files.
`),b(),_(34,"p")(35,"span",11),g(36,"Security"),b(),g(37,` is a core principle of Orbit. Each user operates within an isolated environment protected through authentication and access control. Visual clarity never compromises data safety or user trust.
`),b(),_(38,"p"),g(39," Orbit is currently under "),_(40,"span",11),g(41,"active development"),b(),g(42,`. Future improvements will focus on smarter navigation, controlled sharing, and intelligent organization\u2014always guided by simplicity and usability.
`),b(),_(43,"div",12),ge(44,HN,14,0,"p",6)(45,zN,14,0,"p",6),b(),_(46,"p",13),g(47," Orbit is not just a file manager. It's a new way to understand files. "),b(),_(48,"footer",14),Q(49,"div",10),_(50,"div",15)(51,"div")(52,"strong"),g(53,"Contact"),b(),Q(54,"br"),g(55," orbitstorage.app@gmail.com "),b(),_(56,"div")(57,"strong"),g(58,"Project"),b(),Q(59,"br"),g(60," Visual File Management System "),b(),_(61,"div")(62,"strong"),g(63,"Version"),b(),Q(64,"br"),g(65," v1.0 (Prototype) "),b()(),_(66,"div",16),g(67," \xA9 2026 Orbit. All rights reserved. "),b()(),Q(68,"div",17),b(),Nr()),t&2){let n=O();R(44),P("ngIf",n.isLoggedIn),R(),P("ngIf",!n.isLoggedIn)}}function qN(t,e){if(t&1){let n=Ie();Rr(0),_(1,"div",8)(2,"h1",9),g(3,"Send Feedback"),b(),Q(4,"div",10),_(5,"form",18),B("ngSubmit",function(){V(n);let i=O();return U(i.sendFeedback())}),_(6,"label"),g(7,"Type"),b(),_(8,"select",19),jt("ngModelChange",function(i){V(n);let o=O();return rn(o.feedbackType,i)||(o.feedbackType=i),U(i)}),_(9,"option"),g(10,"General Feedback"),b(),_(11,"option"),g(12,"Bug Report"),b(),_(13,"option"),g(14,"Complaint"),b(),_(15,"option"),g(16,"Suggestion"),b()(),_(17,"label"),g(18,"Your Message"),b(),_(19,"textarea",20),jt("ngModelChange",function(i){V(n);let o=O();return rn(o.feedbackMessage,i)||(o.feedbackMessage=i),U(i)}),b(),_(20,"div",21)(21,"button",22),g(22),b(),_(23,"button",23),B("click",function(){V(n);let i=O();return U(i.closeFeedback())}),g(24,"Cancel"),b()()()(),Nr()}if(t&2){let n=O();R(8),Lt("ngModel",n.feedbackType),R(11),Lt("ngModel",n.feedbackMessage),R(2),P("disabled",n.isSending),R(),ot(" ",n.isSending?"Sending...":"Send",`
`)}}var Vu=class t{constructor(e,n,r,i){this.router=e;this.ngZone=n;this.feedbackService=r;this.authService=i}showFeedback=!1;feedbackType="General Feedback";feedbackMessage="";isLoggedIn=!1;isSending=!1;ngOnInit(){this.isLoggedIn=localStorage.getItem("isLoggedIn")==="true",console.log(this.isLoggedIn)}openFeedback(){this.showFeedback=!0}closeFeedback(){this.showFeedback=!1}sendFeedback(){if(!this.feedbackMessage.trim())return;this.isSending=!0;let e={type:this.feedbackType,message:this.feedbackMessage};this.feedbackService.sendFeedback(e).subscribe({next:()=>{alert("\u2705 Feedback sent successfully"),this.feedbackMessage="",this.isSending=!1,this.closeFeedback()},error:n=>{console.error(n),alert("\u274C Failed to send feedback"),this.isSending=!1}})}backToSignin(){this.router.navigate(["/signin"])}static \u0275fac=function(n){return new(n||t)(S(ze),S(Pe),S(ju),S(ln))};static \u0275cmp=pe({type:t,selectors:[["app-about"]],decls:12,vars:3,consts:[[1,"orbit-title"],[1,"bracket"],[1,"orbit-btn",3,"click"],["class","orbit-title orbit-right",4,"ngIf"],[1,"about-container"],[1,"grid-bg"],[4,"ngIf"],[1,"orbit-title","orbit-right"],[1,"about-content"],[1,"about-title"],[1,"content-line"],[1,"u"],[1,"feedback-invite"],[1,"closing"],[1,"about-footer"],[1,"footer-content"],[1,"footer-bottom"],[1,"bottom-space"],[1,"feedback-form",3,"ngSubmit"],["name","type",3,"ngModelChange","ngModel"],["rows","6","placeholder","Write your feedback here...","name","message",3,"ngModelChange","ngModel"],[1,"feedback-actions"],["type","submit",3,"disabled"],["type","button",1,"cancel",3,"click"]],template:function(n,r){n&1&&(_(0,"h2",0)(1,"span",1),g(2,"["),b(),_(3,"button",2),B("click",function(){return r.backToSignin()}),g(4,"Orbit"),b(),_(5,"span",1),g(6,"]"),b()(),ge(7,$N,7,0,"h2",3),_(8,"div",4),Q(9,"div",5),ge(10,GN,69,2,"ng-container",6)(11,qN,25,4,"ng-container",6),b()),n&2&&(R(7),P("ngIf",r.isLoggedIn),R(3),P("ngIf",!r.showFeedback),R(),P("ngIf",r.showFeedback))},dependencies:[io,Iw,Tw,Mw,tr,eu,ro,_w,qr,rg,Zn,Vt,Cp],styles:[".orbit-title[_ngcontent-%COMP%]{position:fixed;top:18px;left:40px;display:flex;align-items:center;gap:6px;font-family:IBM Plex Mono,monospace;font-size:18px;font-weight:900;letter-spacing:.6px;color:#f9fafb;-webkit-user-select:none;user-select:none;z-index:1000}.about-title-line[_ngcontent-%COMP%]{height:3px;width:60px;background:#fff;margin-bottom:28px}.bracket[_ngcontent-%COMP%]{color:#f9fafb}.orbit-btn[_ngcontent-%COMP%]{background:transparent;border:none;padding:0;margin:0;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;color:inherit;cursor:pointer}.orbit-btn[_ngcontent-%COMP%]:hover{text-decoration:underline;text-decoration-thickness:3px;text-underline-offset:4px}.about-container[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000091;overflow-y:auto;display:flex;justify-content:center;padding:100px 20px 60px}.grid-bg[_ngcontent-%COMP%]{position:fixed;inset:0;pointer-events:none;background-image:linear-gradient(rgba(255,255,255,.03) 1px,transparent 1px),linear-gradient(90deg,rgba(255,255,255,.03) 1px,transparent 1px);background-size:40px 40px;opacity:1}.about-content[_ngcontent-%COMP%]{max-width:720px;width:100%;color:#d1d5db;font-size:14px;line-height:1.9;z-index:2}.about-title[_ngcontent-%COMP%]{font-size:26px;font-weight:700;margin-bottom:28px;color:#fff}.about-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:18px}.u[_ngcontent-%COMP%]{text-decoration:underline;text-decoration-thickness:2px;text-underline-offset:3px;color:#e5e7eb}.closing[_ngcontent-%COMP%]{margin-top:32px;font-weight:600;color:#f9fafb}.about-footer[_ngcontent-%COMP%]{margin-top:50px;color:#9ca3af;font-size:12px}.content-line[_ngcontent-%COMP%]{height:3px;background:#fff;margin-bottom:20px}.footer-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:20px;margin-bottom:20px}.footer-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#e5e7eb;font-weight:600}.footer-bottom[_ngcontent-%COMP%]{text-align:center;font-size:11px;opacity:.7}.bottom-space[_ngcontent-%COMP%]{height:60px}@media(max-width:480px){.orbit-title[_ngcontent-%COMP%]{left:20px;font-size:16px}.about-title[_ngcontent-%COMP%]{font-size:22px}}.orbit-right[_ngcontent-%COMP%]{right:40px;left:auto}.feedback-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;margin-top:20px}.feedback-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;color:#e5e7eb}.feedback-form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .feedback-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{background:#0009;border:1px solid #374151;color:#f9fafb;padding:10px;font-family:inherit;font-size:13px}.feedback-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}.feedback-actions[_ngcontent-%COMP%]{display:flex;gap:14px;margin-top:10px}.feedback-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:2px solid #f9fafb;color:#f9fafb;padding:8px 16px;font-weight:600;cursor:pointer}.feedback-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#f9fafb;color:#000}.feedback-actions[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{border-color:#9ca3af;color:#9ca3af}"]})};var P0=[{path:"signin",component:Su},{path:"canvas",component:ku,canActivate:[Pu]},{path:"payment",component:Lu},{path:"about",component:Vu},{path:"",redirectTo:"canvas",pathMatch:"full"},{path:"**",redirectTo:"signin"}];var F0=(t,e)=>{let n=w(Xi);return n.show(),e(t).pipe(fn(()=>{n.hide()}))};var L0=(t,e)=>ve(et.auth.getSession()).pipe(Je(({data:n})=>{let r=n.session?.access_token;if(!r)return e(t);let i=t.clone({setHeaders:{Authorization:`Bearer ${r}`}});return e(i)}));var j0={providers:[Zp(P0),pl(Dp([L0,F0]))]};vp(Hl,j0).catch(t=>console.error(t));
